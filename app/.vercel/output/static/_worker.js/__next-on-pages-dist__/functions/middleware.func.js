import{__getNamedExports as uu}from"../../__next-on-pages-dist__/webpack/bbfd6adeaf58eecd686f8dcf10e42462.js";var fr=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/middleware"),Yt=uu(fr,fr,fr),du=Yt.__chunk_7612,pu=Yt.__chunk_5912,hu=Yt.__chunk_5521,fu=Yt.__chunk_5356,gu=Yt.__chunk_2615,mu=Yt.__chunk_2223,yu=Yt.__chunk_2058,Au=((Qt,Ne,wu)=>(Ne._ENTRIES={},(()=>{"use strict";var ve={},X={};function N(K){var Y=X[K];if(Y!==void 0)return Y.exports;var M=X[K]={exports:{}},I=!0;try{ve[K](M,M.exports,N),I=!1}finally{I&&delete X[K]}return M.exports}N.m=ve,N.amdO={},(()=>{var K=[];N.O=(Y,M,I,R)=>{if(M){R=R||0;for(var l=K.length;l>0&&K[l-1][2]>R;l--)K[l]=K[l-1];K[l]=[M,I,R];return}for(var u=1/0,l=0;l<K.length;l++){for(var[M,I,R]=K[l],x=!0,A=0;A<M.length;A++)(!1&R||u>=R)&&Object.keys(N.O).every(b=>N.O[b](M[A]))?M.splice(A--,1):(x=!1,R<u&&(u=R));if(x){K.splice(l--,1);var y=I();y!==void 0&&(Y=y)}}return Y}})(),N.n=K=>{var Y=K&&K.__esModule?()=>K.default:()=>K;return N.d(Y,{a:Y}),Y},N.d=(K,Y)=>{for(var M in Y)N.o(Y,M)&&!N.o(K,M)&&Object.defineProperty(K,M,{enumerable:!0,get:Y[M]})},N.e=()=>Promise.resolve(),N.g=function(){if(typeof Ne=="object")return Ne;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),N.o=(K,Y)=>Object.prototype.hasOwnProperty.call(K,Y),N.r=K=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(K,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(K,"__esModule",{value:!0})},(()=>{var K={149:0};N.O.j=I=>K[I]===0;var Y=(I,R)=>{var l,u,[x,A,y]=R,a=0;if(x.some(v=>K[v]!==0)){for(l in A)N.o(A,l)&&(N.m[l]=A[l]);if(y)var f=y(N)}for(I&&I(R);a<x.length;a++)u=x[a],N.o(K,u)&&K[u]&&K[u][0](),K[u]=0;return N.O(f)},M=Qt.webpackChunk_N_E=Qt.webpackChunk_N_E||[];M.forEach(Y.bind(null,0)),M.push=Y.bind(null,M.push.bind(M))})()})(),(Qt.webpackChunk_N_E=Qt.webpackChunk_N_E||[]).push([[751],{1552:(ve,X,N)=>{"use strict";var K=N(5356).Buffer;Object.defineProperty(X,"__esModule",{value:!0}),function(u,x){for(var A in x)Object.defineProperty(u,A,{enumerable:!0,get:x[A]})}(X,{handleFetch:function(){return R},interceptFetch:function(){return l},reader:function(){return M}});let Y=N(5201),M={url:u=>u.url,header:(u,x)=>u.headers.get(x)};async function I(u,x){let{url:A,method:y,headers:a,body:f,cache:v,credentials:h,integrity:b,mode:_,redirect:E,referrer:O,referrerPolicy:$}=x;return{testData:u,api:"fetch",request:{url:A,method:y,headers:[...Array.from(a),["next-test-stack",function(){let q=(Error().stack??"").split(`
`);for(let Q=1;Q<q.length;Q++)if(q[Q].length>0){q=q.slice(Q);break}return(q=(q=(q=q.filter(Q=>!Q.includes("/next/dist/"))).slice(0,5)).map(Q=>Q.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:f?K.from(await x.arrayBuffer()).toString("base64"):null,cache:v,credentials:h,integrity:b,mode:_,redirect:E,referrer:O,referrerPolicy:$}}}async function R(u,x){let A=(0,Y.getTestReqInfo)(x,M);if(!A)return u(x);let{testData:y,proxyPort:a}=A,f=await I(y,x),v=await u(`http://localhost:${a}`,{method:"POST",body:JSON.stringify(f),next:{internal:!0}});if(!v.ok)throw Object.defineProperty(Error(`Proxy request failed: ${v.status}`),"__NEXT_ERROR_CODE",{value:"E146",enumerable:!1,configurable:!0});let h=await v.json(),{api:b}=h;switch(b){case"continue":return u(x);case"abort":case"unhandled":throw Object.defineProperty(Error(`Proxy request aborted [${x.method} ${x.url}]`),"__NEXT_ERROR_CODE",{value:"E145",enumerable:!1,configurable:!0})}let{status:_,headers:E,body:O}=h.response;return new Response(O?K.from(O,"base64"):null,{status:_,headers:new Headers(E)})}function l(u){return N.g.fetch=function(x,A){var y;return!(A==null||(y=A.next)==null)&&y.internal?u(x,A):R(u,new Request(x,A))},()=>{N.g.fetch=u}}},1710:(ve,X,N)=>{"use strict";let K,Y,M,I,R;N.r(X),N.d(X,{default:()=>lu});var l={};N.r(l),N.d(l,{q:()=>Rc,l:()=>Cc});var u={};async function x(){return"globalThis._ENTRIES"in Ne&&Ne._ENTRIES.middleware_instrumentation&&await Ne._ENTRIES.middleware_instrumentation}N.r(u),N.d(u,{config:()=>cu,middleware:()=>au});let A=null;async function y(){if(process.env.NEXT_PHASE==="phase-production-build")return;A||(A=x());let e=await A;if(e?.register)try{await e.register()}catch(t){throw t.message=`An error occurred while loading instrumentation hook: ${t.message}`,t}}async function a(...e){let t=await x();try{var r;await(t==null||(r=t.onRequestError)==null?void 0:r.call(t,...e))}catch(n){console.error("Error in instrumentation.onRequestError:",n)}}let f=null;function v(){return f||(f=y()),f}function h(e){return`The edge runtime does not support Node.js '${e}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}process!==N.g.process&&(process.env=N.g.process.env,N.g.process=process),Object.defineProperty(Ne,"__import_unsupported",{value:function(e){let t=new Proxy(function(){},{get(r,n){if(n==="then")return{};throw Object.defineProperty(Error(h(e)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},construct(){throw Object.defineProperty(Error(h(e)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},apply(r,n,i){if(typeof i[0]=="function")return i[0](t);throw Object.defineProperty(Error(h(e)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}});return new Proxy({},{get:()=>t})},enumerable:!1,configurable:!1}),v();class b extends Error{constructor({page:t}){super(`The middleware "${t}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class _ extends Error{constructor(){super("The request.page has been deprecated in favour of `URLPattern`.\n  Read more: https://nextjs.org/docs/messages/middleware-request-page\n  ")}}class E extends Error{constructor(){super("The request.ua has been removed in favour of `userAgent` function.\n  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent\n  ")}}let O="_N_T_",$={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};function q(e){var t,r,n,i,o,s=[],c=0;function p(){for(;c<e.length&&/\s/.test(e.charAt(c));)c+=1;return c<e.length}for(;c<e.length;){for(t=c,o=!1;p();)if((r=e.charAt(c))===","){for(n=c,c+=1,p(),i=c;c<e.length&&(r=e.charAt(c))!=="="&&r!==";"&&r!==",";)c+=1;c<e.length&&e.charAt(c)==="="?(o=!0,c=i,s.push(e.substring(t,n)),t=c):c=n+1}else c+=1;(!o||c>=e.length)&&s.push(e.substring(t,e.length))}return s}function Q(e){let t={},r=[];if(e)for(let[n,i]of e.entries())n.toLowerCase()==="set-cookie"?(r.push(...q(i)),t[n]=r.length===1?r[0]:r):t[n]=i;return t}function ie(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}({...$,GROUP:($.reactServerComponents,$.actionBrowser,$.reactServerComponents,$.actionBrowser,$.instrument,$.middleware,$.apiNode,$.apiEdge,$.serverSideRendering,$.appPagesBrowser,$.reactServerComponents,$.actionBrowser,$.serverSideRendering,$.appPagesBrowser,$.shared,$.instrument,$.middleware,$.reactServerComponents,$.serverSideRendering,$.appPagesBrowser,$.actionBrowser)});let ye=Symbol("response"),D=Symbol("passThrough"),B=Symbol("waitUntil");class we{constructor(t,r){this[D]=!1,this[B]=r?{kind:"external",function:Ne[Symbol.for("__cloudflare-request-context__")].ctx.waitUntil.bind(Ne[Symbol.for("__cloudflare-request-context__")].ctx)}:{kind:"internal",promises:[]}}respondWith(t){this[ye]||(this[ye]=Promise.resolve(t))}passThroughOnException(){this[D]=!0}waitUntil(t){if(this[B].kind==="external")return(0,this[B].function)(t);this[B].promises.push(t)}}class be extends we{constructor(t){var r;super(t.request,(r=t.context)==null?void 0:r.waitUntil),this.sourcePage=t.page}get request(){throw Object.defineProperty(new b({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new b({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}function Ae(e){return e.replace(/\/$/,"")||"/"}function Ce(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}function se(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:i}=Ce(e);return""+t+r+n+i}function We(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:i}=Ce(e);return""+r+t+n+i}function Ue(e,t){if(typeof e!="string")return!1;let{pathname:r}=Ce(e);return r===t||r.startsWith(t+"/")}let Ve=new WeakMap;function Ke(e,t){let r;if(!t)return{pathname:e};let n=Ve.get(t);n||(n=t.map(c=>c.toLowerCase()),Ve.set(t,n));let i=e.split("/",2);if(!i[1])return{pathname:e};let o=i[1].toLowerCase(),s=n.indexOf(o);return s<0?{pathname:e}:(r=t[s],{pathname:e=e.slice(r.length+1)||"/",detectedLocale:r})}let ft=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function Tt(e,t){return new URL(String(e).replace(ft,"localhost"),t&&String(t).replace(ft,"localhost"))}let ee=Symbol("NextURLInternal");class ze{constructor(t,r,n){let i,o;typeof r=="object"&&"pathname"in r||typeof r=="string"?(i=r,o=n||{}):o=n||r||{},this[ee]={url:Tt(t,i??o.base),options:o,basePath:""},this.analyze()}analyze(){var t,r,n,i,o;let s=function(g,w){var d,k;let{basePath:S,i18n:L,trailingSlash:U}=(d=w.nextConfig)!=null?d:{},j={pathname:g,trailingSlash:g!=="/"?g.endsWith("/"):U};S&&Ue(j.pathname,S)&&(j.pathname=function(W,C){if(!Ue(W,C))return W;let m=W.slice(C.length);return m.startsWith("/")?m:"/"+m}(j.pathname,S),j.basePath=S);let J=j.pathname;if(j.pathname.startsWith("/_next/data/")&&j.pathname.endsWith(".json")){let W=j.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");j.buildId=W[0],J=W[1]!=="index"?"/"+W.slice(1).join("/"):"/",w.parseData===!0&&(j.pathname=J)}if(L){let W=w.i18nProvider?w.i18nProvider.analyze(j.pathname):Ke(j.pathname,L.locales);j.locale=W.detectedLocale,j.pathname=(k=W.pathname)!=null?k:j.pathname,!W.detectedLocale&&j.buildId&&(W=w.i18nProvider?w.i18nProvider.analyze(J):Ke(J,L.locales)).detectedLocale&&(j.locale=W.detectedLocale)}return j}(this[ee].url.pathname,{nextConfig:this[ee].options.nextConfig,parseData:!0,i18nProvider:this[ee].options.i18nProvider}),c=function(g,w){let d;if(w?.host&&!Array.isArray(w.host))d=w.host.toString().split(":",1)[0];else{if(!g.hostname)return;d=g.hostname}return d.toLowerCase()}(this[ee].url,this[ee].options.headers);this[ee].domainLocale=this[ee].options.i18nProvider?this[ee].options.i18nProvider.detectDomainLocale(c):function(g,w,d){if(g)for(let L of(d&&(d=d.toLowerCase()),g)){var k,S;if(w===((k=L.domain)==null?void 0:k.split(":",1)[0].toLowerCase())||d===L.defaultLocale.toLowerCase()||((S=L.locales)==null?void 0:S.some(U=>U.toLowerCase()===d)))return L}}((r=this[ee].options.nextConfig)==null||(t=r.i18n)==null?void 0:t.domains,c);let p=((n=this[ee].domainLocale)==null?void 0:n.defaultLocale)||((o=this[ee].options.nextConfig)==null||(i=o.i18n)==null?void 0:i.defaultLocale);this[ee].url.pathname=s.pathname,this[ee].defaultLocale=p,this[ee].basePath=s.basePath??"",this[ee].buildId=s.buildId,this[ee].locale=s.locale??p,this[ee].trailingSlash=s.trailingSlash}formatPathname(){var t;let r;return r=function(n,i,o,s){if(!i||i===o)return n;let c=n.toLowerCase();return!s&&(Ue(c,"/api")||Ue(c,"/"+i.toLowerCase()))?n:se(n,"/"+i)}((t={basePath:this[ee].basePath,buildId:this[ee].buildId,defaultLocale:this[ee].options.forceLocale?void 0:this[ee].defaultLocale,locale:this[ee].locale,pathname:this[ee].url.pathname,trailingSlash:this[ee].trailingSlash}).pathname,t.locale,t.buildId?void 0:t.defaultLocale,t.ignorePrefix),(t.buildId||!t.trailingSlash)&&(r=Ae(r)),t.buildId&&(r=We(se(r,"/_next/data/"+t.buildId),t.pathname==="/"?"index.json":".json")),r=se(r,t.basePath),!t.buildId&&t.trailingSlash?r.endsWith("/")?r:We(r,"/"):Ae(r)}formatSearch(){return this[ee].url.search}get buildId(){return this[ee].buildId}set buildId(t){this[ee].buildId=t}get locale(){return this[ee].locale??""}set locale(t){var r,n;if(!this[ee].locale||!(!((n=this[ee].options.nextConfig)==null||(r=n.i18n)==null)&&r.locales.includes(t)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${t}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[ee].locale=t}get defaultLocale(){return this[ee].defaultLocale}get domainLocale(){return this[ee].domainLocale}get searchParams(){return this[ee].url.searchParams}get host(){return this[ee].url.host}set host(t){this[ee].url.host=t}get hostname(){return this[ee].url.hostname}set hostname(t){this[ee].url.hostname=t}get port(){return this[ee].url.port}set port(t){this[ee].url.port=t}get protocol(){return this[ee].url.protocol}set protocol(t){this[ee].url.protocol=t}get href(){let t=this.formatPathname(),r=this.formatSearch();return`${this.protocol}//${this.host}${t}${r}${this.hash}`}set href(t){this[ee].url=Tt(t),this.analyze()}get origin(){return this[ee].url.origin}get pathname(){return this[ee].url.pathname}set pathname(t){this[ee].url.pathname=t}get hash(){return this[ee].url.hash}set hash(t){this[ee].url.hash=t}get search(){return this[ee].url.search}set search(t){this[ee].url.search=t}get password(){return this[ee].url.password}set password(t){this[ee].url.password=t}get username(){return this[ee].url.username}set username(t){this[ee].url.username=t}get basePath(){return this[ee].basePath}set basePath(t){this[ee].basePath=t.startsWith("/")?t:`/${t}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new ze(String(this),this[ee].options)}}var De=N(6724);let at=Symbol("internal request");class Ye extends Request{constructor(t,r={}){let n=typeof t!="string"&&"url"in t?t.url:String(t);ie(n),t instanceof Request?super(t,r):super(n,r);let i=new ze(n,{headers:Q(this.headers),nextConfig:r.nextConfig});this[at]={cookies:new De.RequestCookies(this.headers),nextUrl:i,url:i.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[at].cookies}get nextUrl(){return this[at].nextUrl}get page(){throw new _}get ua(){throw new E}get url(){return this[at].url}}class Ee{static get(t,r,n){let i=Reflect.get(t,r,n);return typeof i=="function"?i.bind(t):i}static set(t,r,n,i){return Reflect.set(t,r,n,i)}static has(t,r){return Reflect.has(t,r)}static deleteProperty(t,r){return Reflect.deleteProperty(t,r)}}let vt=Symbol("internal response"),$r=new Set([301,302,303,307,308]);function Zt(e,t){var r;if(!(e==null||(r=e.request)==null)&&r.headers){if(!(e.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let n=[];for(let[i,o]of e.request.headers)t.set("x-middleware-request-"+i,o),n.push(i);t.set("x-middleware-override-headers",n.join(","))}}class ut extends Response{constructor(t,r={}){super(t,r);let n=this.headers,i=new Proxy(new De.ResponseCookies(n),{get(o,s,c){switch(s){case"delete":case"set":return(...p)=>{let g=Reflect.apply(o[s],o,p),w=new Headers(n);return g instanceof De.ResponseCookies&&n.set("x-middleware-set-cookie",g.getAll().map(d=>(0,De.stringifyCookie)(d)).join(",")),Zt(r,w),g};default:return Ee.get(o,s,c)}}});this[vt]={cookies:i,url:r.url?new ze(r.url,{headers:Q(n),nextConfig:r.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[vt].cookies}static json(t,r){let n=Response.json(t,r);return new ut(n.body,n)}static redirect(t,r){let n=typeof r=="number"?r:r?.status??307;if(!$r.has(n))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let i=typeof r=="object"?r:{},o=new Headers(i?.headers);return o.set("Location",ie(t)),new ut(null,{...i,headers:o,status:n})}static rewrite(t,r){let n=new Headers(r?.headers);return n.set("x-middleware-rewrite",ie(t)),Zt(r,n),new ut(null,{...r,headers:n})}static next(t){let r=new Headers(t?.headers);return r.set("x-middleware-next","1"),Zt(t,r),new ut(null,{...t,headers:r})}}function Wt(e,t){let r=typeof t=="string"?new URL(t):t,n=new URL(e,t),i=n.origin===r.origin;return{url:i?n.toString().slice(r.origin.length):n.toString(),isRelative:i}}let gr="Next-Router-Prefetch",Pt=["RSC","Next-Router-State-Tree",gr,"Next-HMR-Refresh","Next-Router-Segment-Prefetch"];class Kt extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new Kt}}class Ze extends Headers{constructor(t){super(),this.headers=new Proxy(t,{get(r,n,i){if(typeof n=="symbol")return Ee.get(r,n,i);let o=n.toLowerCase(),s=Object.keys(t).find(c=>c.toLowerCase()===o);if(s!==void 0)return Ee.get(r,s,i)},set(r,n,i,o){if(typeof n=="symbol")return Ee.set(r,n,i,o);let s=n.toLowerCase(),c=Object.keys(t).find(p=>p.toLowerCase()===s);return Ee.set(r,c??n,i,o)},has(r,n){if(typeof n=="symbol")return Ee.has(r,n);let i=n.toLowerCase(),o=Object.keys(t).find(s=>s.toLowerCase()===i);return o!==void 0&&Ee.has(r,o)},deleteProperty(r,n){if(typeof n=="symbol")return Ee.deleteProperty(r,n);let i=n.toLowerCase(),o=Object.keys(t).find(s=>s.toLowerCase()===i);return o===void 0||Ee.deleteProperty(r,o)}})}static seal(t){return new Proxy(t,{get(r,n,i){switch(n){case"append":case"delete":case"set":return Kt.callable;default:return Ee.get(r,n,i)}}})}merge(t){return Array.isArray(t)?t.join(", "):t}static from(t){return t instanceof Headers?t:new Ze(t)}append(t,r){let n=this.headers[t];typeof n=="string"?this.headers[t]=[n,r]:Array.isArray(n)?n.push(r):this.headers[t]=r}delete(t){delete this.headers[t]}get(t){let r=this.headers[t];return r!==void 0?this.merge(r):null}has(t){return this.headers[t]!==void 0}set(t,r){this.headers[t]=r}forEach(t,r){for(let[n,i]of this.entries())t.call(r,i,n,this)}*entries(){for(let t of Object.keys(this.headers)){let r=t.toLowerCase(),n=this.get(r);yield[r,n]}}*keys(){for(let t of Object.keys(this.headers))yield t.toLowerCase()}*values(){for(let t of Object.keys(this.headers))yield this.get(t)}[Symbol.iterator](){return this.entries()}}var _t=N(4526),gt=N(5899);class qt extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new qt}}class Ge{static seal(t){return new Proxy(t,{get(r,n,i){switch(n){case"clear":case"delete":case"set":return qt.callable;default:return Ee.get(r,n,i)}}})}}let Ot=Symbol.for("next.mutated.cookies");class er{static wrap(t,r){let n=new De.ResponseCookies(new Headers);for(let p of t.getAll())n.set(p);let i=[],o=new Set,s=()=>{let p=_t.J.getStore();if(p&&(p.pathWasRevalidated=!0),i=n.getAll().filter(g=>o.has(g.name)),r){let g=[];for(let w of i){let d=new De.ResponseCookies(new Headers);d.set(w),g.push(d.toString())}r(g)}},c=new Proxy(n,{get(p,g,w){switch(g){case Ot:return i;case"delete":return function(...d){o.add(typeof d[0]=="string"?d[0]:d[0].name);try{return p.delete(...d),c}finally{s()}};case"set":return function(...d){o.add(typeof d[0]=="string"?d[0]:d[0].name);try{return p.set(...d),c}finally{s()}};default:return Ee.get(p,g,w)}}});return c}}function xe(e){return e.phase==="action"}function Te(e){if(!xe((0,gt.XN)(e)))throw new qt}var ge=function(e){return e.handleRequest="BaseServer.handleRequest",e.run="BaseServer.run",e.pipe="BaseServer.pipe",e.getStaticHTML="BaseServer.getStaticHTML",e.render="BaseServer.render",e.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",e.renderToResponse="BaseServer.renderToResponse",e.renderToHTML="BaseServer.renderToHTML",e.renderError="BaseServer.renderError",e.renderErrorToResponse="BaseServer.renderErrorToResponse",e.renderErrorToHTML="BaseServer.renderErrorToHTML",e.render404="BaseServer.render404",e}(ge||{}),He=function(e){return e.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",e.loadComponents="LoadComponents.loadComponents",e}(He||{}),ct=function(e){return e.getRequestHandler="NextServer.getRequestHandler",e.getServer="NextServer.getServer",e.getServerRequestHandler="NextServer.getServerRequestHandler",e.createServer="createServer.createServer",e}(ct||{}),Pe=function(e){return e.compression="NextNodeServer.compression",e.getBuildId="NextNodeServer.getBuildId",e.createComponentTree="NextNodeServer.createComponentTree",e.clientComponentLoading="NextNodeServer.clientComponentLoading",e.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",e.generateStaticRoutes="NextNodeServer.generateStaticRoutes",e.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",e.generatePublicRoutes="NextNodeServer.generatePublicRoutes",e.generateImageRoutes="NextNodeServer.generateImageRoutes.route",e.sendRenderResult="NextNodeServer.sendRenderResult",e.proxyRequest="NextNodeServer.proxyRequest",e.runApi="NextNodeServer.runApi",e.render="NextNodeServer.render",e.renderHTML="NextNodeServer.renderHTML",e.imageOptimizer="NextNodeServer.imageOptimizer",e.getPagePath="NextNodeServer.getPagePath",e.getRoutesManifest="NextNodeServer.getRoutesManifest",e.findPageComponents="NextNodeServer.findPageComponents",e.getFontManifest="NextNodeServer.getFontManifest",e.getServerComponentManifest="NextNodeServer.getServerComponentManifest",e.getRequestHandler="NextNodeServer.getRequestHandler",e.renderToHTML="NextNodeServer.renderToHTML",e.renderError="NextNodeServer.renderError",e.renderErrorToHTML="NextNodeServer.renderErrorToHTML",e.render404="NextNodeServer.render404",e.startResponse="NextNodeServer.startResponse",e.route="route",e.onProxyReq="onProxyReq",e.apiResolver="apiResolver",e.internalFetch="internalFetch",e}(Pe||{}),dt=function(e){return e.startServer="startServer.startServer",e}(dt||{}),fe=function(e){return e.getServerSideProps="Render.getServerSideProps",e.getStaticProps="Render.getStaticProps",e.renderToString="Render.renderToString",e.renderDocument="Render.renderDocument",e.createBodyResult="Render.createBodyResult",e}(fe||{}),et=function(e){return e.renderToString="AppRender.renderToString",e.renderToReadableStream="AppRender.renderToReadableStream",e.getBodyResult="AppRender.getBodyResult",e.fetch="AppRender.fetch",e}(et||{}),mr=function(e){return e.executeRoute="Router.executeRoute",e}(mr||{}),Lr=function(e){return e.runHandler="Node.runHandler",e}(Lr||{}),ya=function(e){return e.runHandler="AppRouteRouteHandlers.runHandler",e}(ya||{}),wa=function(e){return e.generateMetadata="ResolveMetadata.generateMetadata",e.generateViewport="ResolveMetadata.generateViewport",e}(wa||{}),Di=function(e){return e.execute="Middleware.execute",e}(Di||{});let $i=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],va=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"];function Li(e){return e!==null&&typeof e=="object"&&"then"in e&&typeof e.then=="function"}let{context:it,propagation:Mi,trace:yr,SpanStatusCode:_a,SpanKind:vu,ROOT_CONTEXT:ba}=K=N(3956);class Ea extends Error{constructor(t,r){super(),this.bubble=t,this.result=r}}let Tn=(e,t)=>{(function(r){return typeof r=="object"&&r!==null&&r instanceof Ea})(t)&&t.bubble?e.setAttribute("next.bubble",!0):(t&&e.recordException(t),e.setStatus({code:_a.ERROR,message:t?.message})),e.end()},Mr=new Map,Pn=K.createContextKey("next.rootSpanId"),Sa=0,ka={set(e,t,r){e.push({key:t,value:r})}};class xa{getTracerInstance(){return yr.getTracer("next.js","0.0.1")}getContext(){return it}getTracePropagationData(){let t=it.active(),r=[];return Mi.inject(t,r,ka),r}getActiveScopeSpan(){return yr.getSpan(it?.active())}withPropagatedContext(t,r,n){let i=it.active();if(yr.getSpanContext(i))return r();let o=Mi.extract(i,t,n);return it.with(o,r)}trace(...t){var r;let[n,i,o]=t,{fn:s,options:c}=typeof i=="function"?{fn:i,options:{}}:{fn:o,options:{...i}},p=c.spanName??n;if(!$i.includes(n)&&process.env.NEXT_OTEL_VERBOSE!=="1"||c.hideSpan)return s();let g=this.getSpanContext(c?.parentSpan??this.getActiveScopeSpan()),w=!1;g?(r=yr.getSpanContext(g))!=null&&r.isRemote&&(w=!0):(g=it?.active()??ba,w=!0);let d=Sa++;return c.attributes={"next.span_name":p,"next.span_type":n,...c.attributes},it.with(g.setValue(Pn,d),()=>this.getTracerInstance().startActiveSpan(p,c,k=>{let S="performance"in Ne&&"measure"in performance?Ne.performance.now():void 0,L=()=>{Mr.delete(d),S&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&va.includes(n||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(n.split(".").pop()||"").replace(/[A-Z]/g,U=>"-"+U.toLowerCase())}`,{start:S,end:performance.now()})};w&&Mr.set(d,new Map(Object.entries(c.attributes??{})));try{if(s.length>1)return s(k,j=>Tn(k,j));let U=s(k);return Li(U)?U.then(j=>(k.end(),j)).catch(j=>{throw Tn(k,j),j}).finally(L):(k.end(),L(),U)}catch(U){throw Tn(k,U),L(),U}}))}wrap(...t){let r=this,[n,i,o]=t.length===3?t:[t[0],{},t[1]];return $i.includes(n)||process.env.NEXT_OTEL_VERBOSE==="1"?function(){let s=i;typeof s=="function"&&typeof o=="function"&&(s=s.apply(this,arguments));let c=arguments.length-1,p=arguments[c];if(typeof p!="function")return r.trace(n,s,()=>o.apply(this,arguments));{let g=r.getContext().bind(it.active(),p);return r.trace(n,s,(w,d)=>(arguments[c]=function(k){return d?.(k),g.apply(this,arguments)},o.apply(this,arguments)))}}:o}startSpan(...t){let[r,n]=t,i=this.getSpanContext(n?.parentSpan??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(r,n,i)}getSpanContext(t){return t?yr.setSpan(it.active(),t):void 0}getRootSpanAttributes(){let t=it.active().getValue(Pn);return Mr.get(t)}setRootSpanAttribute(t,r){let n=it.active().getValue(Pn),i=Mr.get(n);i&&i.set(t,r)}}let Hi=(()=>{let e=new xa;return()=>e})(),Hr="__prerender_bypass";Symbol("__next_preview_data"),Symbol(Hr);class Aa{constructor(t,r,n,i){var o;let s=t&&function(p,g){let w=Ze.from(p.headers);return{isOnDemandRevalidate:w.get("x-prerender-revalidate")===g.previewModeId,revalidateOnlyGenerated:w.has("x-prerender-revalidate-if-generated")}}(r,t).isOnDemandRevalidate,c=(o=n.get(Hr))==null?void 0:o.value;this._isEnabled=!!(!s&&c&&t&&c===t.previewModeId),this._previewModeId=t?.previewModeId,this._mutableCookies=i}get isEnabled(){return this._isEnabled}enable(){if(!this._previewModeId)throw Object.defineProperty(Error("Invariant: previewProps missing previewModeId this should never happen"),"__NEXT_ERROR_CODE",{value:"E93",enumerable:!1,configurable:!0});this._mutableCookies.set({name:Hr,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"}),this._isEnabled=!0}disable(){this._mutableCookies.set({name:Hr,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)}),this._isEnabled=!1}}function Wi(e,t){if("x-middleware-set-cookie"in e.headers&&typeof e.headers["x-middleware-set-cookie"]=="string"){let r=e.headers["x-middleware-set-cookie"],n=new Headers;for(let i of q(r))n.append("set-cookie",i);for(let i of new De.ResponseCookies(n).getAll())t.set(i)}}var Ra=N(1802),Ca=N.n(Ra);class Wr extends Error{constructor(t,r){super("Invariant: "+(t.endsWith(".")?t:t+".")+" This is a bug in Next.js.",r),this.name="InvariantError"}}class Ta{constructor(t,r){this.cache=new Map,this.sizes=new Map,this.totalSize=0,this.maxSize=t,this.calculateSize=r||(()=>1)}set(t,r){if(!t||!r)return;let n=this.calculateSize(r);if(n>this.maxSize)return void console.warn("Single item size exceeds maxSize");this.cache.has(t)&&(this.totalSize-=this.sizes.get(t)||0),this.cache.set(t,r),this.sizes.set(t,n),this.totalSize+=n,this.touch(t)}has(t){return!!t&&(this.touch(t),!!this.cache.get(t))}get(t){if(!t)return;let r=this.cache.get(t);if(r!==void 0)return this.touch(t),r}touch(t){let r=this.cache.get(t);r!==void 0&&(this.cache.delete(t),this.cache.set(t,r),this.evictIfNecessary())}evictIfNecessary(){for(;this.totalSize>this.maxSize&&this.cache.size>0;)this.evictLeastRecentlyUsed()}evictLeastRecentlyUsed(){let t=this.cache.keys().next().value;if(t!==void 0){let r=this.sizes.get(t)||0;this.totalSize-=r,this.cache.delete(t),this.sizes.delete(t)}}reset(){this.cache.clear(),this.sizes.clear(),this.totalSize=0}keys(){return[...this.cache.keys()]}remove(t){this.cache.has(t)&&(this.totalSize-=this.sizes.get(t)||0,this.cache.delete(t),this.sizes.delete(t))}clear(){this.cache.clear(),this.sizes.clear(),this.totalSize=0}get size(){return this.cache.size}get currentSize(){return this.totalSize}}N(5356).Buffer,new Ta(52428800,e=>e.size),process.env.NEXT_PRIVATE_DEBUG_CACHE&&console.debug.bind(console,"DefaultCacheHandler:"),process.env.NEXT_PRIVATE_DEBUG_CACHE,Symbol.for("@next/cache-handlers");let Ki=Symbol.for("@next/cache-handlers-map"),qi=Symbol.for("@next/cache-handlers-set"),Kr=Ne;function Bi(){if(Kr[Ki])return Kr[Ki].entries()}async function Pa(e,t){if(!e)return t();let r=Ji(e);try{return await t()}finally{let n=function(i,o){let s=new Set(i.pendingRevalidatedTags),c=new Set(i.pendingRevalidateWrites);return{pendingRevalidatedTags:o.pendingRevalidatedTags.filter(p=>!s.has(p)),pendingRevalidates:Object.fromEntries(Object.entries(o.pendingRevalidates).filter(([p])=>!(p in i.pendingRevalidates))),pendingRevalidateWrites:o.pendingRevalidateWrites.filter(p=>!c.has(p))}}(r,Ji(e));await Ia(e,n)}}function Ji(e){return{pendingRevalidatedTags:e.pendingRevalidatedTags?[...e.pendingRevalidatedTags]:[],pendingRevalidates:{...e.pendingRevalidates},pendingRevalidateWrites:e.pendingRevalidateWrites?[...e.pendingRevalidateWrites]:[]}}async function Oa(e,t){if(e.length===0)return;let r=[];t&&r.push(t.revalidateTag(e));let n=function(){if(Kr[qi])return Kr[qi].values()}();if(n)for(let i of n)r.push(i.expireTags(...e));await Promise.all(r)}async function Ia(e,t){let r=t?.pendingRevalidatedTags??e.pendingRevalidatedTags??[],n=t?.pendingRevalidates??e.pendingRevalidates??{},i=t?.pendingRevalidateWrites??e.pendingRevalidateWrites??[];return Promise.all([Oa(r,e.incrementalCache),...Object.values(n),...i])}let qr=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class Vi{disable(){throw qr}getStore(){}run(){throw qr}exit(){throw qr}enterWith(){throw qr}static bind(t){return t}}let tr=typeof Ne<"u"&&Ne.AsyncLocalStorage,On=tr?new tr:new Vi;class Na{constructor({waitUntil:t,onClose:r,onTaskError:n}){this.workUnitStores=new Set,this.waitUntil=t,this.onClose=r,this.onTaskError=n,this.callbackQueue=new(Ca()),this.callbackQueue.pause()}after(t){if(Li(t))this.waitUntil||zi(),this.waitUntil(t.catch(r=>this.reportTaskError("promise",r)));else if(typeof t=="function")this.addCallback(t);else throw Object.defineProperty(Error("`after()`: Argument must be a promise or a function"),"__NEXT_ERROR_CODE",{value:"E50",enumerable:!1,configurable:!0})}addCallback(t){var r;this.waitUntil||zi();let n=gt.FP.getStore();n&&this.workUnitStores.add(n);let i=On.getStore(),o=i?i.rootTaskSpawnPhase:n?.phase;this.runCallbacksOnClosePromise||(this.runCallbacksOnClosePromise=this.runCallbacksOnClose(),this.waitUntil(this.runCallbacksOnClosePromise));let s=(r=async()=>{try{await On.run({rootTaskSpawnPhase:o},()=>t())}catch(c){this.reportTaskError("function",c)}},tr?tr.bind(r):Vi.bind(r));this.callbackQueue.add(s)}async runCallbacksOnClose(){return await new Promise(t=>this.onClose(t)),this.runCallbacks()}async runCallbacks(){if(this.callbackQueue.size===0)return;for(let r of this.workUnitStores)r.phase="after";let t=_t.J.getStore();if(!t)throw Object.defineProperty(new Wr("Missing workStore in AfterContext.runCallbacks"),"__NEXT_ERROR_CODE",{value:"E547",enumerable:!1,configurable:!0});return Pa(t,()=>(this.callbackQueue.start(),this.callbackQueue.onIdle()))}reportTaskError(t,r){if(console.error(t==="promise"?"A promise passed to `after()` rejected:":"An error occurred in a function passed to `after()`:",r),this.onTaskError)try{this.onTaskError==null||this.onTaskError.call(this,r)}catch(n){console.error(Object.defineProperty(new Wr("`onTaskError` threw while handling an error thrown from an `after` task",{cause:n}),"__NEXT_ERROR_CODE",{value:"E569",enumerable:!1,configurable:!0}))}}}function zi(){throw Object.defineProperty(Error("`after()` will not work correctly, because `waitUntil` is not available in the current environment."),"__NEXT_ERROR_CODE",{value:"E91",enumerable:!1,configurable:!0})}function Fi(e){let t,r={then:(n,i)=>(t||(t=e()),t.then(o=>{r.value=o}).catch(()=>{}),t.then(n,i))};return r}class Ua{onClose(t){if(this.isClosed)throw Object.defineProperty(Error("Cannot subscribe to a closed CloseController"),"__NEXT_ERROR_CODE",{value:"E365",enumerable:!1,configurable:!0});this.target.addEventListener("close",t),this.listeners++}dispatchClose(){if(this.isClosed)throw Object.defineProperty(Error("Cannot close a CloseController multiple times"),"__NEXT_ERROR_CODE",{value:"E229",enumerable:!1,configurable:!0});this.listeners>0&&this.target.dispatchEvent(new Event("close")),this.isClosed=!0}constructor(){this.target=new EventTarget,this.listeners=0,this.isClosed=!1}}function Gi(){return{previewModeId:process.env.__NEXT_PREVIEW_MODE_ID||"",previewModeSigningKey:process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY||"",previewModeEncryptionKey:process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY||""}}let ja=Symbol.for("@next/request-context");async function Da(e,t,r){let n=[],i=r&&r.size>0;for(let o of(s=>{let c=["/layout"];if(s.startsWith("/")){let p=s.split("/");for(let g=1;g<p.length+1;g++){let w=p.slice(0,g).join("/");w&&(w.endsWith("/page")||w.endsWith("/route")||(w=`${w}${w.endsWith("/")?"":"/"}layout`),c.push(w))}}return c})(e))o=`${O}${o}`,n.push(o);if(t.pathname&&!i){let o=`${O}${t.pathname}`;n.push(o)}return{tags:n,expirationsByCacheKind:function(o){let s=new Map,c=Bi();if(c)for(let[p,g]of c)"getExpiration"in g&&s.set(p,Fi(async()=>g.getExpiration(...o)));return s}(n)}}class $a extends Ye{constructor(t){super(t.input,t.init),this.sourcePage=t.page}get request(){throw Object.defineProperty(new b({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new b({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}waitUntil(){throw Object.defineProperty(new b({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}let La={keys:e=>Array.from(e.keys()),get:(e,t)=>e.get(t)??void 0},In=(e,t)=>Hi().withPropagatedContext(e.headers,t,La),Xi=!1;async function Ma(e){var t;let r,n;if(!Xi&&(Xi=!0,process.env.NEXT_PRIVATE_TEST_PROXY==="true")){let{interceptTestApis:C,wrapRequestHandler:m}=N(2905);C(),In=m(In)}await v();let i=Ne.__BUILD_MANIFEST!==void 0;e.request.url=e.request.url.replace(/\.rsc($|\?)/,"$1");let o=e.bypassNextUrl?new URL(e.request.url):new ze(e.request.url,{headers:e.request.headers,nextConfig:e.request.nextConfig});for(let C of[...o.searchParams.keys()]){let m=o.searchParams.getAll(C),T=function(P){for(let H of["nxtP","nxtI"])if(P!==H&&P.startsWith(H))return P.substring(H.length);return null}(C);if(T){for(let P of(o.searchParams.delete(T),m))o.searchParams.append(T,P);o.searchParams.delete(C)}}let s="_KEDXYytfnKKyq9rLJKia";"buildId"in o&&(s=o.buildId||"",o.buildId="");let c=function(C){let m=new Headers;for(let[T,P]of Object.entries(C))for(let H of Array.isArray(P)?P:[P])H!==void 0&&(typeof H=="number"&&(H=H.toString()),m.append(T,H));return m}(e.request.headers),p=c.has("x-nextjs-data"),g=c.get("RSC")==="1";p&&o.pathname==="/index"&&(o.pathname="/");let w=new Map;if(!i)for(let C of Pt){let m=C.toLowerCase(),T=c.get(m);T!==null&&(w.set(m,T),c.delete(m))}let d=new $a({page:e.page,input:function(C){let m=typeof C=="string",T=m?new URL(C):C;return T.searchParams.delete("_rsc"),m?T.toString():T}(o).toString(),init:{body:e.request.body,headers:c,method:e.request.method,nextConfig:e.request.nextConfig,signal:e.request.signal}});p&&Object.defineProperty(d,"__isData",{enumerable:!1,value:!0}),!Ne.__incrementalCacheShared&&e.IncrementalCache&&(Ne.__incrementalCache=new e.IncrementalCache({CurCacheHandler:e.incrementalCacheHandler,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:e.request.headers,getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:Gi()})}));let k=e.request.waitUntil??((t=function(){let C=Ne[ja];return C?.get()}())==null?void 0:t.waitUntil),S=new be({request:d,page:e.page,context:k?{waitUntil:k}:void 0});if((r=await In(d,()=>{if(e.page==="/middleware"||e.page==="/src/middleware"){let C=S.waitUntil.bind(S),m=new Ua;return Hi().trace(Di.execute,{spanName:`middleware ${d.method} ${d.nextUrl.pathname}`,attributes:{"http.target":d.nextUrl.pathname,"http.method":d.method}},async()=>{try{var T,P,H,V,te,F;let z=Gi(),ae=await Da("/",d.nextUrl,null),de=(te=d.nextUrl,F=G=>{n=G},function(G,ne,le,pe,je,oe,qe,Ie,pt,Re,Le){function Je(ke){le&&le.setHeader("Set-Cookie",ke)}let me={};return{type:"request",phase:G,implicitTags:oe,url:{pathname:pe.pathname,search:pe.search??""},rootParams:je,get headers(){return me.headers||(me.headers=function(ke){let he=Ze.from(ke);for(let Me of Pt)he.delete(Me.toLowerCase());return Ze.seal(he)}(ne.headers)),me.headers},get cookies(){if(!me.cookies){let ke=new De.RequestCookies(Ze.from(ne.headers));Wi(ne,ke),me.cookies=Ge.seal(ke)}return me.cookies},set cookies(ke){me.cookies=ke},get mutableCookies(){if(!me.mutableCookies){let ke=function(he,Me){let Ht=new De.RequestCookies(Ze.from(he));return er.wrap(Ht,Me)}(ne.headers,qe||(le?Je:void 0));Wi(ne,ke),me.mutableCookies=ke}return me.mutableCookies},get userspaceMutableCookies(){return me.userspaceMutableCookies||(me.userspaceMutableCookies=function(ke){let he=new Proxy(ke,{get(Me,Ht,Dr){switch(Ht){case"delete":return function(...Xe){return Te("cookies().delete"),Me.delete(...Xe),he};case"set":return function(...Xe){return Te("cookies().set"),Me.set(...Xe),he};default:return Ee.get(Me,Ht,Dr)}}});return he}(this.mutableCookies)),me.userspaceMutableCookies},get draftMode(){return me.draftMode||(me.draftMode=new Aa(pt,ne,this.cookies,this.mutableCookies)),me.draftMode},renderResumeDataCache:Ie??null,isHmrRefresh:Re,serverComponentsHmrCache:Le||Ne.__serverComponentsHmrCache}}("action",d,void 0,te,{},ae,F,void 0,z,!1,void 0)),re=function({page:G,fallbackRouteParams:ne,renderOpts:le,requestEndedState:pe,isPrefetchRequest:je,buildId:oe,previouslyRevalidatedTags:qe}){var Ie;let pt={isStaticGeneration:!le.shouldWaitOnAllReady&&!le.supportsDynamicResponse&&!le.isDraftMode&&!le.isPossibleServerAction,page:G,fallbackRouteParams:ne,route:(Ie=G.split("/").reduce((Re,Le,Je,me)=>Le?Le[0]==="("&&Le.endsWith(")")||Le[0]==="@"||(Le==="page"||Le==="route")&&Je===me.length-1?Re:Re+"/"+Le:Re,"")).startsWith("/")?Ie:"/"+Ie,incrementalCache:le.incrementalCache||Ne.__incrementalCache,cacheLifeProfiles:le.cacheLifeProfiles,isRevalidate:le.isRevalidate,isBuildTimePrerendering:le.nextExport,hasReadableErrorStacks:le.hasReadableErrorStacks,fetchCache:le.fetchCache,isOnDemandRevalidate:le.isOnDemandRevalidate,isDraftMode:le.isDraftMode,requestEndedState:pe,isPrefetchRequest:je,buildId:oe,reactLoadableManifest:le?.reactLoadableManifest||{},assetPrefix:le?.assetPrefix||"",afterContext:function(Re){let{waitUntil:Le,onClose:Je,onAfterTaskError:me}=Re;return new Na({waitUntil:Le,onClose:Je,onTaskError:me})}(le),dynamicIOEnabled:le.experimental.dynamicIO,dev:le.dev??!1,previouslyRevalidatedTags:qe,refreshTagsByCacheKind:function(){let Re=new Map,Le=Bi();if(Le)for(let[Je,me]of Le)"refreshTags"in me&&Re.set(Je,Fi(async()=>me.refreshTags()));return Re}(),runInCleanSnapshot:tr?tr.snapshot():function(Re,...Le){return Re(...Le)}};return le.store=pt,pt}({page:"/",fallbackRouteParams:null,renderOpts:{cacheLifeProfiles:(P=e.request.nextConfig)==null||(T=P.experimental)==null?void 0:T.cacheLife,experimental:{isRoutePPREnabled:!1,dynamicIO:!1,authInterrupts:!!(!((V=e.request.nextConfig)==null||(H=V.experimental)==null)&&H.authInterrupts)},supportsDynamicResponse:!0,waitUntil:C,onClose:m.onClose.bind(m),onAfterTaskError:void 0},requestEndedState:{ended:!1},isPrefetchRequest:d.headers.has(gr),buildId:s??"",previouslyRevalidatedTags:[]});return await _t.J.run(re,()=>gt.FP.run(de,e.handler,d,S))}finally{setTimeout(()=>{m.dispatchClose()},0)}})}return e.handler(d,S)}))&&!(r instanceof Response))throw Object.defineProperty(TypeError("Expected an instance of Response to be returned"),"__NEXT_ERROR_CODE",{value:"E567",enumerable:!1,configurable:!0});r&&n&&r.headers.set("set-cookie",n);let L=r?.headers.get("x-middleware-rewrite");if(r&&L&&(g||!i)){let C=new ze(L,{forceLocale:!0,headers:e.request.headers,nextConfig:e.request.nextConfig});i||C.host!==d.nextUrl.host||(C.buildId=s||C.buildId,r.headers.set("x-middleware-rewrite",String(C)));let{url:m,isRelative:T}=Wt(C.toString(),o.toString());!i&&p&&r.headers.set("x-nextjs-rewrite",m),g&&T&&(o.pathname!==C.pathname&&r.headers.set("x-nextjs-rewritten-path",C.pathname),o.search!==C.search&&r.headers.set("x-nextjs-rewritten-query",C.search.slice(1)))}let U=r?.headers.get("Location");if(r&&U&&!i){let C=new ze(U,{forceLocale:!1,headers:e.request.headers,nextConfig:e.request.nextConfig});r=new Response(r.body,r),C.host===o.host&&(C.buildId=s||C.buildId,r.headers.set("Location",C.toString())),p&&(r.headers.delete("Location"),r.headers.set("x-nextjs-redirect",Wt(C.toString(),o.toString()).url))}let j=r||ut.next(),J=j.headers.get("x-middleware-override-headers"),W=[];if(J){for(let[C,m]of w)j.headers.set(`x-middleware-request-${C}`,m),W.push(C);W.length>0&&j.headers.set("x-middleware-override-headers",J+","+W.join(","))}return{response:j,waitUntil:(S[B].kind==="internal"?Promise.all(S[B].promises).then(()=>{}):void 0)??Promise.resolve(),fetchMetrics:d.fetchMetrics}}var Yi=function(e,t,r,n,i){if(n==="m")throw TypeError("Private method is not writable");if(n==="a"&&!i)throw TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},tt=function(e,t,r,n){if(r==="a"&&!n)throw TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)};function Qi(e){let t=e?"__Secure-":"";return{sessionToken:{name:`${t}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},state:{name:`${t}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},nonce:{name:`${t}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},webauthnChallenge:{name:`${t}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}}}}class Ha{constructor(t,r,n){if(xr.add(this),xt.set(this,{}),cr.set(this,void 0),rn.set(this,void 0),Yi(this,rn,n,"f"),Yi(this,cr,t,"f"),!r)return;let{name:i}=t;for(let[o,s]of Object.entries(r))o.startsWith(i)&&s&&(tt(this,xt,"f")[o]=s)}get value(){return Object.keys(tt(this,xt,"f")).sort((t,r)=>parseInt(t.split(".").pop()||"0")-parseInt(r.split(".").pop()||"0")).map(t=>tt(this,xt,"f")[t]).join("")}chunk(t,r){let n=tt(this,xr,"m",ni).call(this);for(let i of tt(this,xr,"m",Zo).call(this,{name:tt(this,cr,"f").name,value:t,options:{...tt(this,cr,"f").options,...r}}))n[i.name]=i;return Object.values(n)}clean(){return Object.values(tt(this,xr,"m",ni).call(this))}}xt=new WeakMap,cr=new WeakMap,rn=new WeakMap,xr=new WeakSet,Zo=function(e){let t=Math.ceil(e.value.length/3936);if(t===1)return tt(this,xt,"f")[e.name]=e.value,[e];let r=[];for(let n=0;n<t;n++){let i=`${e.name}.${n}`,o=e.value.substr(3936*n,3936);r.push({...e,name:i,value:o}),tt(this,xt,"f")[i]=o}return tt(this,rn,"f").debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:160,valueSize:e.value.length,chunks:r.map(n=>n.value.length+160)}),r},ni=function(){let e={};for(let t in tt(this,xt,"f"))delete tt(this,xt,"f")?.[t],e[t]={name:t,value:"",options:{...tt(this,cr,"f").options,maxAge:0}};return e};class _e extends Error{constructor(t,r){t instanceof Error?super(void 0,{cause:{err:t,...t.cause,...r}}):typeof t=="string"?(r instanceof Error&&(r={err:r,...r.cause}),super(t,r)):super(void 0,t),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);let n=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${n}`}}class It extends _e{}It.kind="signIn";class Nn extends _e{}Nn.type="AdapterError";class wr extends _e{}wr.type="AccessDenied";class Zi extends _e{}Zi.type="CallbackRouteError";class eo extends _e{}eo.type="ErrorPageLoop";class to extends _e{}to.type="EventError";class Un extends _e{}Un.type="InvalidCallbackUrl";class jn extends It{constructor(){super(...arguments),this.code="credentials"}}jn.type="CredentialsSignin";class ro extends _e{}ro.type="InvalidEndpoints";class rr extends _e{}rr.type="InvalidCheck";class no extends _e{}no.type="JWTSessionError";class vr extends _e{}vr.type="MissingAdapter";class io extends _e{}io.type="MissingAdapterMethods";class oo extends _e{}oo.type="MissingAuthorize";class so extends _e{}so.type="MissingSecret";class Dn extends It{}Dn.type="OAuthAccountNotLinked";class $n extends It{}$n.type="OAuthCallbackError";class ao extends _e{}ao.type="OAuthProfileParseError";class co extends _e{}co.type="SessionTokenError";class Wa extends It{}Wa.type="OAuthSignInError";class Ka extends It{}Ka.type="EmailSignInError";class lo extends _e{}lo.type="SignOutError";class Bt extends _e{}Bt.type="UnknownAction";class uo extends _e{}uo.type="UnsupportedStrategy";class Br extends _e{}Br.type="InvalidProvider";class po extends _e{}po.type="UntrustedHost";class ho extends _e{}ho.type="Verification";class fo extends It{}fo.type="MissingCSRF";let qa=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);class go extends _e{}go.type="DuplicateConditionalUI";class mo extends _e{}mo.type="MissingWebAuthnAutocomplete";class _r extends _e{}_r.type="WebAuthnVerificationError";class Ln extends It{}Ln.type="AccountNotLinked";class yo extends _e{}yo.type="ExperimentalFeatureNotEnabled";let Mn=!1;function wo(e,t){try{return/^https?:/.test(new URL(e,e.startsWith("/")?t:void 0).protocol)}catch{return!1}}let vo=!1,Hn=!1,_o=!1,Ba=["createVerificationToken","useVerificationToken","getUserByEmail"],Ja=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],Va=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"],za=async(e,t,r,n,i)=>{let{crypto:{subtle:o}}=(()=>{if(typeof Ne<"u")return Ne;if(typeof Qt<"u")return Qt;if(typeof window<"u")return window;throw Error("unable to locate global object")})();return new Uint8Array(await o.deriveBits({name:"HKDF",hash:`SHA-${e.substr(3)}`,salt:r,info:n},await o.importKey("raw",t,"HKDF",!1,["deriveBits"]),i<<3))};function Wn(e,t){if(typeof e=="string")return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}async function Fa(e,t,r,n,i){return za(function(o){switch(o){case"sha256":case"sha384":case"sha512":case"sha1":return o;default:throw TypeError('unsupported "digest" value')}}(e),function(o){let s=Wn(o,"ikm");if(!s.byteLength)throw TypeError('"ikm" must be at least one byte in length');return s}(t),Wn(r,"salt"),function(o){let s=Wn(o,"info");if(s.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return s}(n),function(o,s){if(typeof o!="number"||!Number.isInteger(o)||o<1)throw TypeError('"keylen" must be a positive integer');if(o>255*(parseInt(s.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return o}(i,e))}async function bo(e,t){let r=`SHA-${e.slice(-3)}`;return new Uint8Array(await crypto.subtle.digest(r,t))}let Eo=new TextEncoder,nr=new TextDecoder;function Nt(...e){let t=new Uint8Array(e.reduce((n,{length:i})=>n+i,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}function Kn(e,t,r){if(t<0||t>=4294967296)throw RangeError(`value must be >= 0 and <= ${4294967296-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function So(e){let t=Math.floor(e/4294967296),r=new Uint8Array(8);return Kn(r,t,0),Kn(r,e%4294967296,4),r}function qn(e){let t=new Uint8Array(4);return Kn(t,e),t}function bt(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n>127)throw TypeError("non-ASCII string encountered in encode()");t[r]=n}return t}function rt(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof e=="string"?e:nr.decode(e),{alphabet:"base64url"});let t=e;t instanceof Uint8Array&&(t=nr.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/");try{var r=t;if(Uint8Array.fromBase64)return Uint8Array.fromBase64(r);let n=atob(r),i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}function Qe(e){let t=e;return typeof t=="string"&&(t=Eo.encode(t)),Uint8Array.prototype.toBase64?t.toBase64({alphabet:"base64url",omitPadding:!0}):function(r){if(Uint8Array.prototype.toBase64)return r.toBase64();let n=[];for(let i=0;i<r.length;i+=32768)n.push(String.fromCharCode.apply(null,r.subarray(i,i+32768)));return btoa(n.join(""))}(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class Et extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(t,r){super(t,r),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class ot extends Et{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(t,r,n="unspecified",i="unspecified"){super(t,{cause:{claim:n,reason:i,payload:r}}),this.claim=n,this.reason=i,this.payload=r}}class ko extends Et{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(t,r,n="unspecified",i="unspecified"){super(t,{cause:{claim:n,reason:i,payload:r}}),this.claim=n,this.reason=i,this.payload=r}}class xo extends Et{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class Be extends Et{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class Bn extends Et{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(t="decryption operation failed",r){super(t,r)}}class ce extends Et{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class Ut extends Et{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class Ga extends Et{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class _u extends Et{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(t="multiple matching keys found in the JSON Web Key Set",r){super(t,r)}}function br(e){if(!ir(e))throw Error("CryptoKey instance expected")}let ir=e=>{if(e?.[Symbol.toStringTag]==="CryptoKey")return!0;try{return e instanceof CryptoKey}catch{return!1}},Jn=e=>e?.[Symbol.toStringTag]==="KeyObject",Vn=e=>ir(e)||Jn(e);function St(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}let Jr=e=>St(e)&&typeof e.kty=="string";function Ao(e,t,...r){if((r=r.filter(Boolean)).length>2){let n=r.pop();e+=`one of type ${r.join(", ")}, or ${n}.`}else r.length===2?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let or=(e,...t)=>Ao("Key must be ",e,...t),Ro=(e,t,...r)=>Ao(`Key for the ${e} algorithm must be `,t,...r);async function Xa(e){if(Jn(e)){if(e.type!=="secret")return e.export({format:"jwk"});e=e.export()}if(e instanceof Uint8Array)return{kty:"oct",k:Qe(e)};if(!ir(e))throw TypeError(or(e,"CryptoKey","KeyObject","Uint8Array"));if(!e.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:t,key_ops:r,alg:n,use:i,...o}=await crypto.subtle.exportKey("jwk",e);return o.kty==="AKP"&&(o.alg=n),o}async function Co(e){return Xa(e)}let mt=(e,t)=>{if(typeof e!="string"||!e)throw new Ga(`${t} missing or invalid`)};async function To(e,t){let r,n;if(Jr(e))r=e;else if(Vn(e))r=await Co(e);else throw TypeError(or(e,"CryptoKey","KeyObject","JSON Web Key"));if((t??="sha256")!=="sha256"&&t!=="sha384"&&t!=="sha512")throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(r.kty){case"AKP":mt(r.alg,'"alg" (Algorithm) Parameter'),mt(r.pub,'"pub" (Public key) Parameter'),n={alg:r.alg,kty:r.kty,pub:r.pub};break;case"EC":mt(r.crv,'"crv" (Curve) Parameter'),mt(r.x,'"x" (X Coordinate) Parameter'),mt(r.y,'"y" (Y Coordinate) Parameter'),n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};break;case"OKP":mt(r.crv,'"crv" (Subtype of Key Pair) Parameter'),mt(r.x,'"x" (Public Key) Parameter'),n={crv:r.crv,kty:r.kty,x:r.x};break;case"RSA":mt(r.e,'"e" (Exponent) Parameter'),mt(r.n,'"n" (Modulus) Parameter'),n={e:r.e,kty:r.kty,n:r.n};break;case"oct":mt(r.k,'"k" (Key Value) Parameter'),n={k:r.k,kty:r.kty};break;default:throw new Be('"kty" (Key Type) Parameter missing or unsupported')}let i=bt(JSON.stringify(n));return Qe(await bo(t,i))}let Ya=Symbol();function Po(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new Be(`Unsupported JWE Algorithm: ${e}`)}}function Oo(e,t){if(t.length<<3!==Po(e))throw new ce("Invalid Initialization Vector length")}function Vr(e,t){let r=e.byteLength<<3;if(r!==t)throw new ce(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`)}let jt=(e,t="algorithm.name")=>TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`);function Dt(e,t,r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(e.algorithm.name!=="AES-GCM")throw jt("AES-GCM");let n=parseInt(t.slice(1,4),10);if(e.algorithm.length!==n)throw jt(n,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(e.algorithm.name!=="AES-KW")throw jt("AES-KW");let n=parseInt(t.slice(1,4),10);if(e.algorithm.length!==n)throw jt(n,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":break;default:throw jt("ECDH or X25519")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(e.algorithm.name!=="PBKDF2")throw jt("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(e.algorithm.name!=="RSA-OAEP")throw jt("RSA-OAEP");let n=parseInt(t.slice(9),10)||1;if(parseInt(e.algorithm.hash.name.slice(4),10)!==n)throw jt(`SHA-${n}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}if(r&&!e.usages.includes(r))throw TypeError(`CryptoKey does not support this operation, its usages must include ${r}.`)}async function Qa(e,t,r,n,i){if(!(r instanceof Uint8Array))throw TypeError(or(r,"Uint8Array"));let o=parseInt(e.slice(1,4),10),s=await crypto.subtle.importKey("raw",r.subarray(o>>3),"AES-CBC",!1,["encrypt"]),c=await crypto.subtle.importKey("raw",r.subarray(0,o>>3),{hash:`SHA-${o<<1}`,name:"HMAC"},!1,["sign"]),p=new Uint8Array(await crypto.subtle.encrypt({iv:n,name:"AES-CBC"},s,t)),g=Nt(i,n,p,So(i.length<<3));return{ciphertext:p,tag:new Uint8Array((await crypto.subtle.sign("HMAC",c,g)).slice(0,o>>3)),iv:n}}async function Za(e,t,r,n,i){let o;r instanceof Uint8Array?o=await crypto.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):(Dt(r,e,"encrypt"),o=r);let s=new Uint8Array(await crypto.subtle.encrypt({additionalData:i,iv:n,name:"AES-GCM",tagLength:128},o,t)),c=s.slice(-16);return{ciphertext:s.slice(0,-16),tag:c,iv:n}}async function Io(e,t,r,n,i){if(!ir(r)&&!(r instanceof Uint8Array))throw TypeError(or(r,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));switch(n?Oo(e,n):n=crypto.getRandomValues(new Uint8Array(Po(e)>>3)),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&Vr(r,parseInt(e.slice(-3),10)),Qa(e,t,r,n,i);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&Vr(r,parseInt(e.slice(1,4),10)),Za(e,t,r,n,i);default:throw new Be("Unsupported JWE Content Encryption Algorithm")}}function No(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function Uo(e,t,r){return e instanceof Uint8Array?crypto.subtle.importKey("raw",e,"AES-KW",!0,[r]):(Dt(e,t,r),e)}async function zn(e,t,r){let n=await Uo(t,e,"wrapKey");No(n,e);let i=await crypto.subtle.importKey("raw",r,{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.wrapKey("raw",i,n,"AES-KW"))}async function Fn(e,t,r){let n=await Uo(t,e,"unwrapKey");No(n,e);let i=await crypto.subtle.unwrapKey("raw",r,n,"AES-KW",{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.exportKey("raw",i))}function Gn(e){return Nt(qn(e.length),e)}async function ec(e,t,r){let n=t>>3,i=Math.ceil(n/32),o=new Uint8Array(32*i);for(let s=1;s<=i;s++){let c=new Uint8Array(4+e.length+r.length);c.set(qn(s),0),c.set(e,4),c.set(r,4+e.length);let p=await bo("sha256",c);o.set(p,(s-1)*32)}return o.slice(0,n)}async function jo(e,t,r,n,i=new Uint8Array,o=new Uint8Array){var s;Dt(e,"ECDH"),Dt(t,"ECDH","deriveBits");let c=Gn(bt(r)),p=Gn(i),g=Gn(o),w=Nt(c,p,g,qn(n),new Uint8Array);return ec(new Uint8Array(await crypto.subtle.deriveBits({name:e.algorithm.name,public:e},t,(s=e).algorithm.name==="X25519"?256:Math.ceil(parseInt(s.algorithm.namedCurve.slice(-3),10)/8)<<3)),n,w)}function Do(e){switch(e.algorithm.namedCurve){case"P-256":case"P-384":case"P-521":return!0;default:return e.algorithm.name==="X25519"}}async function $o(e,t,r,n){if(!(e instanceof Uint8Array)||e.length<8)throw new ce("PBES2 Salt Input must be 8 or more octets");let i=Nt(bt(t),Uint8Array.of(0),e),o=parseInt(t.slice(13,16),10),s={hash:`SHA-${t.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:i},c=await(n instanceof Uint8Array?crypto.subtle.importKey("raw",n,"PBKDF2",!1,["deriveBits"]):(Dt(n,t,"deriveBits"),n));return new Uint8Array(await crypto.subtle.deriveBits(s,c,o))}async function tc(e,t,r,n=2048,i=crypto.getRandomValues(new Uint8Array(16))){let o=await $o(i,e,n,t);return{encryptedKey:await zn(e.slice(-6),o,r),p2c:n,p2s:Qe(i)}}async function rc(e,t,r,n,i){let o=await $o(i,e,n,t);return Fn(e.slice(-6),o,r)}function Lo(e,t){if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if(typeof r!="number"||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}}let Mo=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new Be(`alg ${e} is not supported either by JOSE or your javascript runtime`)}};async function nc(e,t,r){return Dt(t,e,"encrypt"),Lo(e,t),new Uint8Array(await crypto.subtle.encrypt(Mo(e),t,r))}async function ic(e,t,r){return Dt(t,e,"decrypt"),Lo(e,t),new Uint8Array(await crypto.subtle.decrypt(Mo(e),t,r))}async function zr(e){if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:t,keyUsages:r}=function(i){let o,s;switch(i.kty){case"AKP":switch(i.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":o={name:i.alg},s=i.priv?["sign"]:["verify"];break;default:throw new Be('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(i.alg){case"PS256":case"PS384":case"PS512":o={name:"RSA-PSS",hash:`SHA-${i.alg.slice(-3)}`},s=i.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":o={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${i.alg.slice(-3)}`},s=i.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":o={name:"RSA-OAEP",hash:`SHA-${parseInt(i.alg.slice(-3),10)||1}`},s=i.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new Be('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(i.alg){case"ES256":o={name:"ECDSA",namedCurve:"P-256"},s=i.d?["sign"]:["verify"];break;case"ES384":o={name:"ECDSA",namedCurve:"P-384"},s=i.d?["sign"]:["verify"];break;case"ES512":o={name:"ECDSA",namedCurve:"P-521"},s=i.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":o={name:"ECDH",namedCurve:i.crv},s=i.d?["deriveBits"]:[];break;default:throw new Be('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(i.alg){case"Ed25519":case"EdDSA":o={name:"Ed25519"},s=i.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":o={name:i.crv},s=i.d?["deriveBits"]:[];break;default:throw new Be('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new Be('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:o,keyUsages:s}}(e),n={...e};return n.kty!=="AKP"&&delete n.alg,delete n.use,crypto.subtle.importKey("jwk",n,t,e.ext??(!e.d&&!e.priv),e.key_ops??r)}let Ho=async(e,t,r,n=!1)=>{let i=(Y||=new WeakMap).get(e);if(i?.[r])return i[r];let o=await zr({...t,alg:r});return n&&Object.freeze(e),i?i[r]=o:Y.set(e,{[r]:o}),o};async function Xn(e,t){if(e instanceof Uint8Array||ir(e))return e;if(Jn(e)){if(e.type==="secret")return e.export();if("toCryptoKey"in e&&typeof e.toCryptoKey=="function")try{return((n,i)=>{let o,s=(Y||=new WeakMap).get(n);if(s?.[i])return s[i];let c=n.type==="public",p=!!c;if(n.asymmetricKeyType==="x25519"){switch(i){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}o=n.toCryptoKey(n.asymmetricKeyType,p,c?[]:["deriveBits"])}if(n.asymmetricKeyType==="ed25519"){if(i!=="EdDSA"&&i!=="Ed25519")throw TypeError("given KeyObject instance cannot be used for this algorithm");o=n.toCryptoKey(n.asymmetricKeyType,p,[c?"verify":"sign"])}switch(n.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(i!==n.asymmetricKeyType.toUpperCase())throw TypeError("given KeyObject instance cannot be used for this algorithm");o=n.toCryptoKey(n.asymmetricKeyType,p,[c?"verify":"sign"])}if(n.asymmetricKeyType==="rsa"){let g;switch(i){case"RSA-OAEP":g="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":g="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":g="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":g="SHA-512";break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}if(i.startsWith("RSA-OAEP"))return n.toCryptoKey({name:"RSA-OAEP",hash:g},p,c?["encrypt"]:["decrypt"]);o=n.toCryptoKey({name:i.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:g},p,[c?"verify":"sign"])}if(n.asymmetricKeyType==="ec"){let g=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(n.asymmetricKeyDetails?.namedCurve);if(!g)throw TypeError("given KeyObject instance cannot be used for this algorithm");i==="ES256"&&g==="P-256"&&(o=n.toCryptoKey({name:"ECDSA",namedCurve:g},p,[c?"verify":"sign"])),i==="ES384"&&g==="P-384"&&(o=n.toCryptoKey({name:"ECDSA",namedCurve:g},p,[c?"verify":"sign"])),i==="ES512"&&g==="P-521"&&(o=n.toCryptoKey({name:"ECDSA",namedCurve:g},p,[c?"verify":"sign"])),i.startsWith("ECDH-ES")&&(o=n.toCryptoKey({name:"ECDH",namedCurve:g},p,c?[]:["deriveBits"]))}if(!o)throw TypeError("given KeyObject instance cannot be used for this algorithm");return s?s[i]=o:Y.set(n,{[i]:o}),o})(e,t)}catch(n){if(n instanceof TypeError)throw n}let r=e.export({format:"jwk"});return Ho(e,r,t)}if(Jr(e))return e.k?rt(e.k):Ho(e,e,t,!0);throw Error("unreachable")}function Yn(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new Be(`Unsupported JWE Algorithm: ${e}`)}}let sr=e=>crypto.getRandomValues(new Uint8Array(Yn(e)>>3));async function oc(e,t){if(!(e instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw TypeError("Second argument must be a buffer");let r={name:"HMAC",hash:"SHA-256"},n=await crypto.subtle.generateKey(r,!1,["sign"]),i=new Uint8Array(await crypto.subtle.sign(r,n,e)),o=new Uint8Array(await crypto.subtle.sign(r,n,t)),s=0,c=-1;for(;++c<32;)s|=i[c]^o[c];return s===0}async function sc(e,t,r,n,i,o){let s,c;if(!(t instanceof Uint8Array))throw TypeError(or(t,"Uint8Array"));let p=parseInt(e.slice(1,4),10),g=await crypto.subtle.importKey("raw",t.subarray(p>>3),"AES-CBC",!1,["decrypt"]),w=await crypto.subtle.importKey("raw",t.subarray(0,p>>3),{hash:`SHA-${p<<1}`,name:"HMAC"},!1,["sign"]),d=Nt(o,n,r,So(o.length<<3)),k=new Uint8Array((await crypto.subtle.sign("HMAC",w,d)).slice(0,p>>3));try{s=await oc(i,k)}catch{}if(!s)throw new Bn;try{c=new Uint8Array(await crypto.subtle.decrypt({iv:n,name:"AES-CBC"},g,r))}catch{}if(!c)throw new Bn;return c}async function ac(e,t,r,n,i,o){let s;t instanceof Uint8Array?s=await crypto.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(Dt(t,e,"decrypt"),s=t);try{return new Uint8Array(await crypto.subtle.decrypt({additionalData:o,iv:n,name:"AES-GCM",tagLength:128},s,Nt(r,i)))}catch{throw new Bn}}async function Wo(e,t,r,n,i,o){if(!ir(t)&&!(t instanceof Uint8Array))throw TypeError(or(t,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(!n)throw new ce("JWE Initialization Vector missing");if(!i)throw new ce("JWE Authentication Tag missing");switch(Oo(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&Vr(t,parseInt(e.slice(-3),10)),sc(e,t,r,n,i,o);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&Vr(t,parseInt(e.slice(1,4),10)),ac(e,t,r,n,i,o);default:throw new Be("Unsupported JWE Content Encryption Algorithm")}}async function cc(e,t,r,n){let i=e.slice(0,7),o=await Io(i,r,t,n,new Uint8Array);return{encryptedKey:o.ciphertext,iv:Qe(o.iv),tag:Qe(o.tag)}}async function lc(e,t,r,n,i){return Wo(e.slice(0,7),t,r,n,i,new Uint8Array)}async function uc(e,t,r,n,i={}){let o,s,c;switch(e){case"dir":c=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let p;if(br(r),!Do(r))throw new Be("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:g,apv:w}=i;p=i.epk?await Xn(i.epk,e):(await crypto.subtle.generateKey(r.algorithm,!0,["deriveBits"])).privateKey;let{x:d,y:k,crv:S,kty:L}=await Co(p),U=await jo(r,p,e==="ECDH-ES"?t:e,e==="ECDH-ES"?Yn(t):parseInt(e.slice(-5,-2),10),g,w);if(s={epk:{x:d,crv:S,kty:L}},L==="EC"&&(s.epk.y=k),g&&(s.apu=Qe(g)),w&&(s.apv=Qe(w)),e==="ECDH-ES"){c=U;break}c=n||sr(t);let j=e.slice(-6);o=await zn(j,U,c);break}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":c=n||sr(t),br(r),o=await nc(e,r,c);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{c=n||sr(t);let{p2c:p,p2s:g}=i;({encryptedKey:o,...s}=await tc(e,r,c,p,g));break}case"A128KW":case"A192KW":case"A256KW":c=n||sr(t),o=await zn(e,r,c);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{c=n||sr(t);let{iv:p}=i;({encryptedKey:o,...s}=await cc(e,r,c,p));break}default:throw new Be('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:c,encryptedKey:o,parameters:s}}function Ko(...e){let t,r=e.filter(Boolean);if(r.length===0||r.length===1)return!0;for(let n of r){let i=Object.keys(n);if(!t||t.size===0){t=new Set(i);continue}for(let o of i){if(t.has(o))return!1;t.add(o)}}return!0}function qo(e,t,r,n,i){let o;if(i.crit!==void 0&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||n.crit===void 0)return new Set;if(!Array.isArray(n.crit)||n.crit.length===0||n.crit.some(s=>typeof s!="string"||s.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let s of(o=r!==void 0?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!o.has(s))throw new Be(`Extension Header Parameter "${s}" is not recognized`);if(i[s]===void 0)throw new e(`Extension Header Parameter "${s}" is missing`);if(o.get(s)&&n[s]===void 0)throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(n.crit)}let ar=e=>e?.[Symbol.toStringTag],Qn=(e,t,r)=>{if(t.use!==void 0){let n;switch(r){case"sign":case"verify":n="sig";break;case"encrypt":case"decrypt":n="enc"}if(t.use!==n)throw TypeError(`Invalid key for this operation, its "use" must be "${n}" when present`)}if(t.alg!==void 0&&t.alg!==e)throw TypeError(`Invalid key for this operation, its "alg" must be "${e}" when present`);if(Array.isArray(t.key_ops)){let n;switch(!0){case(r==="sign"||r==="verify"):case e==="dir":case e.includes("CBC-HS"):n=r;break;case e.startsWith("PBES2"):n="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(e):n=!e.includes("GCM")&&e.endsWith("KW")?r==="encrypt"?"wrapKey":"unwrapKey":r;break;case(r==="encrypt"&&e.startsWith("RSA")):n="wrapKey";break;case r==="decrypt":n=e.startsWith("RSA")?"unwrapKey":"deriveBits"}if(n&&t.key_ops?.includes?.(n)===!1)throw TypeError(`Invalid key for this operation, its "key_ops" must include "${n}" when present`)}return!0};function Bo(e,t,r){switch(e.substring(0,2)){case"A1":case"A2":case"di":case"HS":case"PB":((n,i,o)=>{if(!(i instanceof Uint8Array)){if(Jr(i)){let s;if((s=i).kty==="oct"&&typeof s.k=="string"&&Qn(n,i,o))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!Vn(i))throw TypeError(Ro(n,i,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if(i.type!=="secret")throw TypeError(`${ar(i)} instances for symmetric algorithms must be of type "secret"`)}})(e,t,r);break;default:((n,i,o)=>{if(Jr(i))switch(o){case"decrypt":case"sign":let s;if((s=i).kty!=="oct"&&(s.kty==="AKP"&&typeof s.priv=="string"||typeof s.d=="string")&&Qn(n,i,o))return;throw TypeError("JSON Web Key for this operation must be a private JWK");case"encrypt":case"verify":let c;if((c=i).kty!=="oct"&&c.d===void 0&&c.priv===void 0&&Qn(n,i,o))return;throw TypeError("JSON Web Key for this operation must be a public JWK")}if(!Vn(i))throw TypeError(Ro(n,i,"CryptoKey","KeyObject","JSON Web Key"));if(i.type==="secret")throw TypeError(`${ar(i)} instances for asymmetric algorithms must not be of type "secret"`);if(i.type==="public")switch(o){case"sign":throw TypeError(`${ar(i)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw TypeError(`${ar(i)} instances for asymmetric algorithm decryption must be of type "private"`)}if(i.type==="private")switch(o){case"verify":throw TypeError(`${ar(i)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw TypeError(`${ar(i)} instances for asymmetric algorithm encryption must be of type "public"`)}})(e,t,r)}}class dc{#e;#t;#i;#r;#s;#o;#a;#n;constructor(t){if(!(t instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this.#e=t}setKeyManagementParameters(t){if(this.#n)throw TypeError("setKeyManagementParameters can only be called once");return this.#n=t,this}setProtectedHeader(t){if(this.#t)throw TypeError("setProtectedHeader can only be called once");return this.#t=t,this}setSharedUnprotectedHeader(t){if(this.#i)throw TypeError("setSharedUnprotectedHeader can only be called once");return this.#i=t,this}setUnprotectedHeader(t){if(this.#r)throw TypeError("setUnprotectedHeader can only be called once");return this.#r=t,this}setAdditionalAuthenticatedData(t){return this.#s=t,this}setContentEncryptionKey(t){if(this.#o)throw TypeError("setContentEncryptionKey can only be called once");return this.#o=t,this}setInitializationVector(t){if(this.#a)throw TypeError("setInitializationVector can only be called once");return this.#a=t,this}async encrypt(t,r){let n,i,o,s,c,p;if(!this.#t&&!this.#r&&!this.#i)throw new ce("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!Ko(this.#t,this.#r,this.#i))throw new ce("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let g={...this.#t,...this.#r,...this.#i};if(qo(ce,new Map,r?.crit,this.#t,g),g.zip!==void 0)throw new Be('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:w,enc:d}=g;if(typeof w!="string"||!w)throw new ce('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof d!="string"||!d)throw new ce('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this.#o&&(w==="dir"||w==="ECDH-ES"))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${w}`);Bo(w==="dir"?d:w,t,"encrypt");{let j,J=await Xn(t,w);({cek:i,encryptedKey:n,parameters:j}=await uc(w,d,J,this.#o,this.#n)),j&&(r&&Ya in r?this.#r?this.#r={...this.#r,...j}:this.setUnprotectedHeader(j):this.#t?this.#t={...this.#t,...j}:this.setProtectedHeader(j))}if(this.#t?c=bt(s=Qe(JSON.stringify(this.#t))):(s="",c=new Uint8Array),this.#s){let j=bt(p=Qe(this.#s));o=Nt(c,bt("."),j)}else o=c;let{ciphertext:k,tag:S,iv:L}=await Io(d,this.#e,i,this.#a,o),U={ciphertext:Qe(k)};return L&&(U.iv=Qe(L)),S&&(U.tag=Qe(S)),n&&(U.encrypted_key=Qe(n)),p&&(U.aad=p),this.#t&&(U.protected=s),this.#i&&(U.unprotected=this.#i),this.#r&&(U.header=this.#r),U}}class pc{#e;constructor(t){this.#e=new dc(t)}setContentEncryptionKey(t){return this.#e.setContentEncryptionKey(t),this}setInitializationVector(t){return this.#e.setInitializationVector(t),this}setProtectedHeader(t){return this.#e.setProtectedHeader(t),this}setKeyManagementParameters(t){return this.#e.setKeyManagementParameters(t),this}async encrypt(t,r){let n=await this.#e.encrypt(t,r);return[n.protected,n.encrypted_key,n.iv,n.ciphertext,n.tag].join(".")}}let $t=e=>Math.floor(e.getTime()/1e3),hc=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;function Er(e){let t,r=hc.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let n=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*n);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*n);break;case"day":case"days":case"d":t=Math.round(86400*n);break;case"week":case"weeks":case"w":t=Math.round(604800*n);break;default:t=Math.round(31557600*n)}return r[1]==="-"||r[4]==="ago"?-t:t}function Jt(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}let Jo=e=>e.includes("/")?e.toLowerCase():`application/${e.toLowerCase()}`;class fc{#e;constructor(t){if(!St(t))throw TypeError("JWT Claims Set MUST be an object");this.#e=structuredClone(t)}data(){return Eo.encode(JSON.stringify(this.#e))}get iss(){return this.#e.iss}set iss(t){this.#e.iss=t}get sub(){return this.#e.sub}set sub(t){this.#e.sub=t}get aud(){return this.#e.aud}set aud(t){this.#e.aud=t}set jti(t){this.#e.jti=t}set nbf(t){typeof t=="number"?this.#e.nbf=Jt("setNotBefore",t):t instanceof Date?this.#e.nbf=Jt("setNotBefore",$t(t)):this.#e.nbf=$t(new Date)+Er(t)}set exp(t){typeof t=="number"?this.#e.exp=Jt("setExpirationTime",t):t instanceof Date?this.#e.exp=Jt("setExpirationTime",$t(t)):this.#e.exp=$t(new Date)+Er(t)}set iat(t){t===void 0?this.#e.iat=$t(new Date):t instanceof Date?this.#e.iat=Jt("setIssuedAt",$t(t)):typeof t=="string"?this.#e.iat=Jt("setIssuedAt",$t(new Date)+Er(t)):this.#e.iat=Jt("setIssuedAt",t)}}class gc{#e;#t;#i;#r;#s;#o;#a;#n;constructor(t={}){this.#n=new fc(t)}setIssuer(t){return this.#n.iss=t,this}setSubject(t){return this.#n.sub=t,this}setAudience(t){return this.#n.aud=t,this}setJti(t){return this.#n.jti=t,this}setNotBefore(t){return this.#n.nbf=t,this}setExpirationTime(t){return this.#n.exp=t,this}setIssuedAt(t){return this.#n.iat=t,this}setProtectedHeader(t){if(this.#r)throw TypeError("setProtectedHeader can only be called once");return this.#r=t,this}setKeyManagementParameters(t){if(this.#i)throw TypeError("setKeyManagementParameters can only be called once");return this.#i=t,this}setContentEncryptionKey(t){if(this.#e)throw TypeError("setContentEncryptionKey can only be called once");return this.#e=t,this}setInitializationVector(t){if(this.#t)throw TypeError("setInitializationVector can only be called once");return this.#t=t,this}replicateIssuerAsHeader(){return this.#s=!0,this}replicateSubjectAsHeader(){return this.#o=!0,this}replicateAudienceAsHeader(){return this.#a=!0,this}async encrypt(t,r){let n=new pc(this.#n.data());return this.#r&&(this.#s||this.#o||this.#a)&&(this.#r={...this.#r,iss:this.#s?this.#n.iss:void 0,sub:this.#o?this.#n.sub:void 0,aud:this.#a?this.#n.aud:void 0}),n.setProtectedHeader(this.#r),this.#t&&n.setInitializationVector(this.#t),this.#e&&n.setContentEncryptionKey(this.#e),this.#i&&n.setKeyManagementParameters(this.#i),n.encrypt(t,r)}}async function mc(e,t,r){let n;if(!St(e))throw TypeError("JWK must be an object");switch(t??=e.alg,n??=r?.extractable??e.ext,e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return rt(e.k);case"RSA":if("oth"in e&&e.oth!==void 0)throw new Be('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return zr({...e,alg:t,ext:n});case"AKP":if(typeof e.alg!="string"||!e.alg)throw TypeError('missing "alg" (Algorithm) Parameter value');if(t!==void 0&&t!==e.alg)throw TypeError("JWK alg and alg option value mismatch");return zr({...e,ext:n});case"EC":case"OKP":return zr({...e,alg:t,ext:n});default:throw new Be('Unsupported "kty" (Key Type) Parameter value')}}async function yc(e,t,r,n,i){switch(e){case"dir":if(r!==void 0)throw new ce("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(r!==void 0)throw new ce("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let o,s;if(!St(n.epk))throw new ce('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(br(t),!Do(t))throw new Be("ECDH with the provided key is not allowed or not supported by your javascript runtime");let c=await mc(n.epk,e);if(br(c),n.apu!==void 0){if(typeof n.apu!="string")throw new ce('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{o=rt(n.apu)}catch{throw new ce("Failed to base64url decode the apu")}}if(n.apv!==void 0){if(typeof n.apv!="string")throw new ce('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{s=rt(n.apv)}catch{throw new ce("Failed to base64url decode the apv")}}let p=await jo(c,t,e==="ECDH-ES"?n.enc:e,e==="ECDH-ES"?Yn(n.enc):parseInt(e.slice(-5,-2),10),o,s);if(e==="ECDH-ES")return p;if(r===void 0)throw new ce("JWE Encrypted Key missing");return Fn(e.slice(-6),p,r)}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(r===void 0)throw new ce("JWE Encrypted Key missing");return br(t),ic(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let o;if(r===void 0)throw new ce("JWE Encrypted Key missing");if(typeof n.p2c!="number")throw new ce('JOSE Header "p2c" (PBES2 Count) missing or invalid');let s=i?.maxPBES2Count||1e4;if(n.p2c>s)throw new ce('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if(typeof n.p2s!="string")throw new ce('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{o=rt(n.p2s)}catch{throw new ce("Failed to base64url decode the p2s")}return rc(e,t,r,n.p2c,o)}case"A128KW":case"A192KW":case"A256KW":if(r===void 0)throw new ce("JWE Encrypted Key missing");return Fn(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let o,s;if(r===void 0)throw new ce("JWE Encrypted Key missing");if(typeof n.iv!="string")throw new ce('JOSE Header "iv" (Initialization Vector) missing or invalid');if(typeof n.tag!="string")throw new ce('JOSE Header "tag" (Authentication Tag) missing or invalid');try{o=rt(n.iv)}catch{throw new ce("Failed to base64url decode the iv")}try{s=rt(n.tag)}catch{throw new ce("Failed to base64url decode the tag")}return lc(e,t,r,o,s)}default:throw new Be('Invalid or unsupported "alg" (JWE Algorithm) header value')}}function Vo(e,t){if(t!==void 0&&(!Array.isArray(t)||t.some(r=>typeof r!="string")))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)}async function wc(e,t,r){let n,i,o,s,c,p,g;if(!St(e))throw new ce("Flattened JWE must be an object");if(e.protected===void 0&&e.header===void 0&&e.unprotected===void 0)throw new ce("JOSE Header missing");if(e.iv!==void 0&&typeof e.iv!="string")throw new ce("JWE Initialization Vector incorrect type");if(typeof e.ciphertext!="string")throw new ce("JWE Ciphertext missing or incorrect type");if(e.tag!==void 0&&typeof e.tag!="string")throw new ce("JWE Authentication Tag incorrect type");if(e.protected!==void 0&&typeof e.protected!="string")throw new ce("JWE Protected Header incorrect type");if(e.encrypted_key!==void 0&&typeof e.encrypted_key!="string")throw new ce("JWE Encrypted Key incorrect type");if(e.aad!==void 0&&typeof e.aad!="string")throw new ce("JWE AAD incorrect type");if(e.header!==void 0&&!St(e.header))throw new ce("JWE Shared Unprotected Header incorrect type");if(e.unprotected!==void 0&&!St(e.unprotected))throw new ce("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let C=rt(e.protected);n=JSON.parse(nr.decode(C))}catch{throw new ce("JWE Protected Header is invalid")}if(!Ko(n,e.header,e.unprotected))throw new ce("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let w={...n,...e.header,...e.unprotected};if(qo(ce,new Map,r?.crit,n,w),w.zip!==void 0)throw new Be('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:d,enc:k}=w;if(typeof d!="string"||!d)throw new ce("missing JWE Algorithm (alg) in JWE Header");if(typeof k!="string"||!k)throw new ce("missing JWE Encryption Algorithm (enc) in JWE Header");let S=r&&Vo("keyManagementAlgorithms",r.keyManagementAlgorithms),L=r&&Vo("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(S&&!S.has(d)||!S&&d.startsWith("PBES2"))throw new xo('"alg" (Algorithm) Header Parameter value not allowed');if(L&&!L.has(k))throw new xo('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(e.encrypted_key!==void 0)try{i=rt(e.encrypted_key)}catch{throw new ce("Failed to base64url decode the encrypted_key")}let U=!1;typeof t=="function"&&(t=await t(n,e),U=!0),Bo(d==="dir"?k:d,t,"decrypt");let j=await Xn(t,d);try{o=await yc(d,j,i,w,r)}catch(C){if(C instanceof TypeError||C instanceof ce||C instanceof Be)throw C;o=sr(k)}if(e.iv!==void 0)try{s=rt(e.iv)}catch{throw new ce("Failed to base64url decode the iv")}if(e.tag!==void 0)try{c=rt(e.tag)}catch{throw new ce("Failed to base64url decode the tag")}let J=e.protected!==void 0?bt(e.protected):new Uint8Array;p=e.aad!==void 0?Nt(J,bt("."),bt(e.aad)):J;try{g=rt(e.ciphertext)}catch{throw new ce("Failed to base64url decode the ciphertext")}let W={plaintext:await Wo(k,o,g,s,c,p)};if(e.protected!==void 0&&(W.protectedHeader=n),e.aad!==void 0)try{W.additionalAuthenticatedData=rt(e.aad)}catch{throw new ce("Failed to base64url decode the aad")}return e.unprotected!==void 0&&(W.sharedUnprotectedHeader=e.unprotected),e.header!==void 0&&(W.unprotectedHeader=e.header),U?{...W,key:j}:W}async function vc(e,t,r){if(e instanceof Uint8Array&&(e=nr.decode(e)),typeof e!="string")throw new ce("Compact JWE must be a string or Uint8Array");let{0:n,1:i,2:o,3:s,4:c,length:p}=e.split(".");if(p!==5)throw new ce("Invalid Compact JWE");let g=await wc({ciphertext:s,iv:o||void 0,protected:n,tag:c||void 0,encrypted_key:i||void 0},t,r),w={plaintext:g.plaintext,protectedHeader:g.protectedHeader};return typeof t=="function"?{...w,key:g.key}:w}async function _c(e,t,r){let n=await vc(e,t,r),i=function(c,p,g={}){var w,d;let k,S;try{k=JSON.parse(nr.decode(p))}catch{}if(!St(k))throw new Ut("JWT Claims Set must be a top-level JSON object");let{typ:L}=g;if(L&&(typeof c.typ!="string"||Jo(c.typ)!==Jo(L)))throw new ot('unexpected "typ" JWT header value',k,"typ","check_failed");let{requiredClaims:U=[],issuer:j,subject:J,audience:W,maxTokenAge:C}=g,m=[...U];for(let H of(C!==void 0&&m.push("iat"),W!==void 0&&m.push("aud"),J!==void 0&&m.push("sub"),j!==void 0&&m.push("iss"),new Set(m.reverse())))if(!(H in k))throw new ot(`missing required "${H}" claim`,k,H,"missing");if(j&&!(Array.isArray(j)?j:[j]).includes(k.iss))throw new ot('unexpected "iss" claim value',k,"iss","check_failed");if(J&&k.sub!==J)throw new ot('unexpected "sub" claim value',k,"sub","check_failed");if(W&&(w=k.aud,d=typeof W=="string"?[W]:W,typeof w=="string"?!d.includes(w):!(Array.isArray(w)&&d.some(Set.prototype.has.bind(new Set(w))))))throw new ot('unexpected "aud" claim value',k,"aud","check_failed");switch(typeof g.clockTolerance){case"string":S=Er(g.clockTolerance);break;case"number":S=g.clockTolerance;break;case"undefined":S=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:T}=g,P=$t(T||new Date);if((k.iat!==void 0||C)&&typeof k.iat!="number")throw new ot('"iat" claim must be a number',k,"iat","invalid");if(k.nbf!==void 0){if(typeof k.nbf!="number")throw new ot('"nbf" claim must be a number',k,"nbf","invalid");if(k.nbf>P+S)throw new ot('"nbf" claim timestamp check failed',k,"nbf","check_failed")}if(k.exp!==void 0){if(typeof k.exp!="number")throw new ot('"exp" claim must be a number',k,"exp","invalid");if(k.exp<=P-S)throw new ko('"exp" claim timestamp check failed',k,"exp","check_failed")}if(C){let H=P-k.iat;if(H-S>(typeof C=="number"?C:Er(C)))throw new ko('"iat" claim timestamp check failed (too far in the past)',k,"iat","check_failed");if(H<0-S)throw new ot('"iat" claim timestamp check failed (it should be in the past)',k,"iat","check_failed")}return k}(n.protectedHeader,n.plaintext,r),{protectedHeader:o}=n;if(o.iss!==void 0&&o.iss!==i.iss)throw new ot('replicated "iss" claim header parameter mismatch',i,"iss","mismatch");if(o.sub!==void 0&&o.sub!==i.sub)throw new ot('replicated "sub" claim header parameter mismatch',i,"sub","mismatch");if(o.aud!==void 0&&JSON.stringify(o.aud)!==JSON.stringify(i.aud))throw new ot('replicated "aud" claim header parameter mismatch',i,"aud","mismatch");let s={payload:i,protectedHeader:o};return typeof t=="function"?{...s,key:n.key}:s}let bc=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,Ec=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,Sc=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,kc=/^[\u0020-\u003A\u003D-\u007E]*$/,xc=Object.prototype.toString,Ac=(()=>{let e=function(){};return e.prototype=Object.create(null),e})();function Rc(e,t){let r=new Ac,n=e.length;if(n<2)return r;let i=t?.decode||Tc,o=0;do{let s=e.indexOf("=",o);if(s===-1)break;let c=e.indexOf(";",o),p=c===-1?n:c;if(s>p){o=e.lastIndexOf(";",s-1)+1;continue}let g=zo(e,o,s),w=Fo(e,s,g),d=e.slice(g,w);if(r[d]===void 0){let k=zo(e,s+1,p),S=Fo(e,p,k),L=i(e.slice(k,S));r[d]=L}o=p+1}while(o<n);return r}function zo(e,t,r){do{let n=e.charCodeAt(t);if(n!==32&&n!==9)return t}while(++t<r);return r}function Fo(e,t,r){for(;t>r;){let n=e.charCodeAt(--t);if(n!==32&&n!==9)return t+1}return r}function Cc(e,t,r){let n=r?.encode||encodeURIComponent;if(!bc.test(e))throw TypeError(`argument name is invalid: ${e}`);let i=n(t);if(!Ec.test(i))throw TypeError(`argument val is invalid: ${t}`);let o=e+"="+i;if(!r)return o;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw TypeError(`option maxAge is invalid: ${r.maxAge}`);o+="; Max-Age="+r.maxAge}if(r.domain){if(!Sc.test(r.domain))throw TypeError(`option domain is invalid: ${r.domain}`);o+="; Domain="+r.domain}if(r.path){if(!kc.test(r.path))throw TypeError(`option path is invalid: ${r.path}`);o+="; Path="+r.path}if(r.expires){var s;if(s=r.expires,xc.call(s)!=="[object Date]"||!Number.isFinite(r.expires.valueOf()))throw TypeError(`option expires is invalid: ${r.expires}`);o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.partitioned&&(o+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw TypeError(`option sameSite is invalid: ${r.sameSite}`)}return o}function Tc(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}let{q:bu}=l,Zn="A256CBC-HS512";async function Fr(e){let{token:t={},secret:r,maxAge:n=2592e3,salt:i}=e,o=Array.isArray(r)?r:[r],s=await Go(Zn,o[0],i),c=await To({kty:"oct",k:Qe(s)},`sha${s.byteLength<<3}`);return await new gc(t).setProtectedHeader({alg:"dir",enc:Zn,kid:c}).setIssuedAt().setExpirationTime((Date.now()/1e3|0)+n).setJti(crypto.randomUUID()).encrypt(s)}async function Gr(e){let{token:t,secret:r,salt:n}=e,i=Array.isArray(r)?r:[r];if(!t)return null;let{payload:o}=await _c(t,async({kid:s,enc:c})=>{for(let p of i){let g=await Go(c,p,n);if(s===void 0||s===await To({kty:"oct",k:Qe(g)},`sha${g.byteLength<<3}`))return g}throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:["dir"],contentEncryptionAlgorithms:[Zn,"A256GCM"]});return o}async function Go(e,t,r){let n;switch(e){case"A256CBC-HS512":n=64;break;case"A256GCM":n=32;break;default:throw Error("Unsupported JWT Content Encryption Algorithm")}return await Fa("sha256",t,r,`Auth.js Generated Encryption Key (${r})`,n)}async function Pc({options:e,paramValue:t,cookieValue:r}){let{url:n,callbacks:i}=e,o=n.origin;return t?o=await i.redirect({url:t,baseUrl:n.origin}):r&&(o=await i.redirect({url:r,baseUrl:n.origin})),{callbackUrl:o,callbackUrlCookie:o!==r?o:void 0}}let ei="\x1B[31m",Sr="\x1B[0m",Oc={error(e){let t=e instanceof _e?e.type:e.name;if(console.error(`${ei}[auth][error]${Sr} ${t}: ${e.message}`),e.cause&&typeof e.cause=="object"&&"err"in e.cause&&e.cause.err instanceof Error){let{err:r,...n}=e.cause;console.error(`${ei}[auth][cause]${Sr}:`,r.stack),n&&console.error(`${ei}[auth][details]${Sr}:`,JSON.stringify(n,null,2))}else e.stack&&console.error(e.stack.replace(/.*/,"").substring(1))},warn(e){console.warn(`\x1B[33m[auth][warn][${e}]${Sr}`,"Read more: https://warnings.authjs.dev")},debug(e,t){console.log(`\x1B[90m[auth][debug]:${Sr} ${e}`,JSON.stringify(t,null,2))}};function kr(e){let t={...Oc};return e.debug||(t.debug=()=>{}),e.logger?.error&&(t.error=e.logger.error),e.logger?.warn&&(t.warn=e.logger.warn),e.logger?.debug&&(t.debug=e.logger.debug),e.logger??(e.logger=t),t}let Ic=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"],{q:Nc,l:Uc}=l;async function jc(e){if(!("body"in e)||!e.body||e.method!=="POST")return;let t=e.headers.get("content-type");return t?.includes("application/json")?await e.json():t?.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await e.text())):void 0}async function Dc(e,t){try{if(e.method!=="GET"&&e.method!=="POST")throw new Bt("Only GET and POST requests are supported");t.basePath??(t.basePath="/auth");let r=new URL(e.url),{action:n,providerId:i}=function(o,s){let c=o.match(RegExp(`^${s}(.+)`));if(c===null)throw new Bt(`Cannot parse action at ${o}`);let p=c.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(p.length!==1&&p.length!==2)throw new Bt(`Cannot parse action at ${o}`);let[g,w]=p;if(!Ic.includes(g)||w&&!["signin","callback","webauthn-options"].includes(g))throw new Bt(`Cannot parse action at ${o}`);return{action:g,providerId:w=="undefined"?void 0:w}}(r.pathname,t.basePath);return{url:r,action:n,providerId:i,method:e.method,headers:Object.fromEntries(e.headers),body:e.body?await jc(e):void 0,cookies:Nc(e.headers.get("cookie")??"")??{},error:r.searchParams.get("error")??void 0,query:Object.fromEntries(r.searchParams)}}catch(r){let n=kr(t);n.error(r),n.debug("request",e)}}function Xo(e){let t=new Headers(e.headers);e.cookies?.forEach(i=>{let{name:o,value:s,options:c}=i,p=Uc(o,s,c);t.has("Set-Cookie")?t.append("Set-Cookie",p):t.set("Set-Cookie",p)});let r=e.body;t.get("content-type")==="application/json"?r=JSON.stringify(e.body):t.get("content-type")==="application/x-www-form-urlencoded"&&(r=new URLSearchParams(e.body).toString());let n=new Response(r,{headers:t,status:e.redirect?302:e.status??200});return e.redirect&&n.headers.set("Location",e.redirect),n}async function Xr(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(r=>r.toString(16).padStart(2,"0")).join("").toString()}function ti(e){return Array.from(crypto.getRandomValues(new Uint8Array(e))).reduce((t,r)=>t+("0"+r.toString(16)).slice(-2),"")}async function $c({options:e,cookieValue:t,isPost:r,bodyValue:n}){if(t){let[s,c]=t.split("|");if(c===await Xr(`${s}${e.secret}`))return{csrfTokenVerified:r&&s===n,csrfToken:s}}let i=ti(32),o=await Xr(`${i}${e.secret}`);return{cookie:`${i}|${o}`,csrfToken:i}}function Yr(e,t){if(!t)throw new fo(`CSRF token was missing during an action ${e}`)}function Qr(e){return e!==null&&typeof e=="object"}function Zr(e,...t){if(!t.length)return e;let r=t.shift();if(Qr(e)&&Qr(r))for(let n in r)Qr(r[n])?(Qr(e[n])||(e[n]=Array.isArray(r[n])?[]:{}),Zr(e[n],r[n])):r[n]!==void 0&&(e[n]=r[n]);return Zr(e,...t)}let en=Symbol("skip-csrf-check"),tn=Symbol("return-type-raw"),kt=Symbol("custom-fetch"),Yo=Symbol("conform-internal"),Lc=e=>Qo({id:e.sub??e.id??crypto.randomUUID(),name:e.name??e.nickname??e.preferred_username,email:e.email,image:e.picture}),Mc=e=>Qo({access_token:e.access_token,id_token:e.id_token,refresh_token:e.refresh_token,expires_at:e.expires_at,scope:e.scope,token_type:e.token_type,session_state:e.session_state});function Qo(e){let t={};for(let[r,n]of Object.entries(e))n!==void 0&&(t[r]=n);return t}function ri(e,t){if(!e&&t)return;if(typeof e=="string")return{url:new URL(e)};let r=new URL(e?.url??"https://authjs.dev");if(e?.params!=null)for(let[n,i]of Object.entries(e.params))n==="claims"&&(i=JSON.stringify(i)),r.searchParams.set(n,String(i));return{url:r,request:e?.request,conform:e?.conform,...e?.clientPrivateKey?{clientPrivateKey:e?.clientPrivateKey}:null}}let Hc={signIn:()=>!0,redirect:({url:e,baseUrl:t})=>e.startsWith("/")?`${t}${e}`:new URL(e).origin===t?e:t,session:({session:e})=>({user:{name:e.user?.name,email:e.user?.email,image:e.user?.image},expires:e.expires?.toISOString?.()??e.expires}),jwt:({token:e})=>e};async function Wc({authOptions:e,providerId:t,action:r,url:n,cookies:i,callbackUrl:o,csrfToken:s,csrfDisabled:c,isPost:p}){var g,w;let d=kr(e),{providers:k,provider:S}=function(C){let{providerId:m,config:T}=C,P=new URL(T.basePath??"/auth",C.url.origin),H=T.providers.map(te=>{let F=typeof te=="function"?te():te,{options:z,...ae}=F,de=z?.id??ae.id,re=Zr(ae,z,{signinUrl:`${P}/signin/${de}`,callbackUrl:`${P}/callback/${de}`});if(F.type==="oauth"||F.type==="oidc"){re.redirectProxyUrl??(re.redirectProxyUrl=z?.redirectProxyUrl??T.redirectProxyUrl);let G=function(ne){ne.issuer&&(ne.wellKnown??(ne.wellKnown=`${ne.issuer}/.well-known/openid-configuration`));let le=ri(ne.authorization,ne.issuer);le&&!le.url?.searchParams.has("scope")&&le.url.searchParams.set("scope","openid profile email");let pe=ri(ne.token,ne.issuer),je=ri(ne.userinfo,ne.issuer),oe=ne.checks??["pkce"];return ne.redirectProxyUrl&&(oe.includes("state")||oe.push("state"),ne.redirectProxyUrl=`${ne.redirectProxyUrl}/callback/${ne.id}`),{...ne,authorization:le,token:pe,checks:oe,userinfo:je,profile:ne.profile??Lc,account:ne.account??Mc}}(re);return G.authorization?.url.searchParams.get("response_mode")==="form_post"&&delete G.redirectProxyUrl,G[kt]??(G[kt]=z?.[kt]),G}return re}),V=H.find(({id:te})=>te===m);if(m&&!V){let te=H.map(F=>F.id).join(", ");throw Error(`Provider with id "${m}" not found. Available providers: [${te}].`)}return{providers:H,provider:V}}({url:n,providerId:t,config:e}),L=!1;if((S?.type==="oauth"||S?.type==="oidc")&&S.redirectProxyUrl)try{L=new URL(S.redirectProxyUrl).origin===n.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${S.redirectProxyUrl}`)}let U={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...e,url:n,action:r,provider:S,cookies:Zr(Qi(e.useSecureCookies??n.protocol==="https:"),e.cookies),providers:k,session:{strategy:e.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...e.session},jwt:{secret:e.secret,maxAge:e.session?.maxAge??2592e3,encode:Fr,decode:Gr,...e.jwt},events:(g=e.events??{},w=d,Object.keys(g).reduce((C,m)=>(C[m]=async(...T)=>{try{let P=g[m];return await P(...T)}catch(P){w.error(new to(P))}},C),{})),adapter:function(C,m){if(C)return Object.keys(C).reduce((T,P)=>(T[P]=async(...H)=>{try{m.debug(`adapter_${P}`,{args:H});let V=C[P];return await V(...H)}catch(V){let te=new Nn(V);throw m.error(te),te}},T),{})}(e.adapter,d),callbacks:{...Hc,...e.callbacks},logger:d,callbackUrl:n.origin,isOnRedirectProxy:L,experimental:{...e.experimental}},j=[];if(c)U.csrfTokenVerified=!0;else{let{csrfToken:C,cookie:m,csrfTokenVerified:T}=await $c({options:U,cookieValue:i?.[U.cookies.csrfToken.name],isPost:p,bodyValue:s});U.csrfToken=C,U.csrfTokenVerified=T,m&&j.push({name:U.cookies.csrfToken.name,value:m,options:U.cookies.csrfToken.options})}let{callbackUrl:J,callbackUrlCookie:W}=await Pc({options:U,cookieValue:i?.[U.cookies.callbackUrl.name],paramValue:o});return U.callbackUrl=J,W&&j.push({name:U.cookies.callbackUrl.name,value:W,options:U.cookies.callbackUrl.options}),{options:U,cookies:j}}var xr,xt,cr,rn,Zo,ni,ii,Se,es,Vt,ts,rs,oi,si,ai,ci,li={},ns=[],Kc=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ui=Array.isArray;function Lt(e,t){for(var r in t)e[r]=t[r];return e}function is(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function nn(e,t,r,n,i){var o={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++es,__i:-1,__u:0};return i==null&&Se.vnode!=null&&Se.vnode(o),o}function At(e){return e.children}function on(e,t){this.props=e,this.context=t}function lr(e,t){if(t==null)return e.__?lr(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?lr(e):null}function os(e){(!e.__d&&(e.__d=!0)&&Vt.push(e)&&!sn.__r++||ts!==Se.debounceRendering)&&((ts=Se.debounceRendering)||rs)(sn)}function sn(){var e,t,r,n,i,o,s,c;for(Vt.sort(oi);e=Vt.shift();)e.__d&&(t=Vt.length,n=void 0,o=(i=(r=e).__v).__e,s=[],c=[],r.__P&&((n=Lt({},i)).__v=i.__v+1,Se.vnode&&Se.vnode(n),ls(r.__P,n,i,r.__n,r.__P.namespaceURI,32&i.__u?[o]:null,s,o??lr(i),!!(32&i.__u),c),n.__v=i.__v,n.__.__k[n.__i]=n,function(p,g,w){g.__d=void 0;for(var d=0;d<w.length;d++)di(w[d],w[++d],w[++d]);Se.__c&&Se.__c(g,p),p.some(function(k){try{p=k.__h,k.__h=[],p.some(function(S){S.call(k)})}catch(S){Se.__e(S,k.__v)}})}(s,n,c),n.__e!=o&&function p(g){var w,d;if((g=g.__)!=null&&g.__c!=null){for(g.__e=g.__c.base=null,w=0;w<g.__k.length;w++)if((d=g.__k[w])!=null&&d.__e!=null){g.__e=g.__c.base=d.__e;break}return p(g)}}(n)),Vt.length>t&&Vt.sort(oi));sn.__r=0}function ss(e,t,r,n,i,o,s,c,p,g,w){var d,k,S,L,U,j=n&&n.__k||ns,J=t.length;for(r.__d=p,function(W,C,m){var T,P,H,V,te,F=C.length,z=m.length,ae=z,de=0;for(W.__k=[],T=0;T<F;T++)(P=C[T])!=null&&typeof P!="boolean"&&typeof P!="function"?(V=T+de,(P=W.__k[T]=typeof P=="string"||typeof P=="number"||typeof P=="bigint"||P.constructor==String?nn(null,P,null,null,null):ui(P)?nn(At,{children:P},null,null,null):P.constructor===void 0&&P.__b>0?nn(P.type,P.props,P.key,P.ref?P.ref:null,P.__v):P).__=W,P.__b=W.__b+1,H=null,(te=P.__i=function(re,G,ne,le){var pe=re.key,je=re.type,oe=ne-1,qe=ne+1,Ie=G[ne];if(Ie===null||Ie&&pe==Ie.key&&je===Ie.type&&(131072&Ie.__u)==0)return ne;if(le>+(Ie!=null&&(131072&Ie.__u)==0))for(;oe>=0||qe<G.length;){if(oe>=0){if((Ie=G[oe])&&(131072&Ie.__u)==0&&pe==Ie.key&&je===Ie.type)return oe;oe--}if(qe<G.length){if((Ie=G[qe])&&(131072&Ie.__u)==0&&pe==Ie.key&&je===Ie.type)return qe;qe++}}return-1}(P,m,V,ae))!==-1&&(ae--,(H=m[te])&&(H.__u|=131072)),H==null||H.__v===null?(te==-1&&de--,typeof P.type!="function"&&(P.__u|=65536)):te!==V&&(te==V-1?de--:te==V+1?de++:(te>V?de--:de++,P.__u|=65536))):P=W.__k[T]=null;if(ae)for(T=0;T<z;T++)(H=m[T])!=null&&(131072&H.__u)==0&&(H.__e==W.__d&&(W.__d=lr(H)),function re(G,ne,le){var pe,je;if(Se.unmount&&Se.unmount(G),(pe=G.ref)&&(pe.current&&pe.current!==G.__e||di(pe,null,ne)),(pe=G.__c)!=null){if(pe.componentWillUnmount)try{pe.componentWillUnmount()}catch(oe){Se.__e(oe,ne)}pe.base=pe.__P=null}if(pe=G.__k)for(je=0;je<pe.length;je++)pe[je]&&re(pe[je],ne,le||typeof G.type!="function");le||is(G.__e),G.__c=G.__=G.__e=G.__d=void 0}(H,H))}(r,t,j),p=r.__d,d=0;d<J;d++)(S=r.__k[d])!=null&&(k=S.__i===-1?li:j[S.__i]||li,S.__i=d,ls(e,S,k,i,o,s,c,p,g,w),L=S.__e,S.ref&&k.ref!=S.ref&&(k.ref&&di(k.ref,null,S),w.push(S.ref,S.__c||L,S)),U==null&&L!=null&&(U=L),65536&S.__u||k.__k===S.__k?p=function W(C,m,T){var P,H;if(typeof C.type=="function"){for(P=C.__k,H=0;P&&H<P.length;H++)P[H]&&(P[H].__=C,m=W(P[H],m,T));return m}C.__e!=m&&(m&&C.type&&!T.contains(m)&&(m=lr(C)),T.insertBefore(C.__e,m||null),m=C.__e);do m=m&&m.nextSibling;while(m!=null&&m.nodeType===8);return m}(S,p,e):typeof S.type=="function"&&S.__d!==void 0?p=S.__d:L&&(p=L.nextSibling),S.__d=void 0,S.__u&=-196609);r.__d=p,r.__e=U}function as(e,t,r){t[0]==="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||Kc.test(t)?r:r+"px"}function an(e,t,r,n,i){var o;e:if(t==="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||as(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||as(e.style,t,r[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=r,r?n?r.u=n.u:(r.u=si,e.addEventListener(t,o?ci:ai,o)):e.removeEventListener(t,o?ci:ai,o);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&r==1?"":r))}}function cs(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=si++;else if(t.t<r.u)return;return r(Se.event?Se.event(t):t)}}}function ls(e,t,r,n,i,o,s,c,p,g){var w,d,k,S,L,U,j,J,W,C,m,T,P,H,V,te,F=t.type;if(t.constructor!==void 0)return null;128&r.__u&&(p=!!(32&r.__u),o=[c=t.__e=r.__e]),(w=Se.__b)&&w(t);e:if(typeof F=="function")try{if(J=t.props,W="prototype"in F&&F.prototype.render,C=(w=F.contextType)&&n[w.__c],m=w?C?C.props.value:w.__:n,r.__c?j=(d=t.__c=r.__c).__=d.__E:(W?t.__c=d=new F(J,m):(t.__c=d=new on(J,m),d.constructor=F,d.render=qc),C&&C.sub(d),d.props=J,d.state||(d.state={}),d.context=m,d.__n=n,k=d.__d=!0,d.__h=[],d._sb=[]),W&&d.__s==null&&(d.__s=d.state),W&&F.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Lt({},d.__s)),Lt(d.__s,F.getDerivedStateFromProps(J,d.__s))),S=d.props,L=d.state,d.__v=t,k)W&&F.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),W&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(W&&F.getDerivedStateFromProps==null&&J!==S&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(J,m),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(J,d.__s,m)===!1||t.__v===r.__v)){for(t.__v!==r.__v&&(d.props=J,d.state=d.__s,d.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(z){z&&(z.__=t)}),T=0;T<d._sb.length;T++)d.__h.push(d._sb[T]);d._sb=[],d.__h.length&&s.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(J,d.__s,m),W&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(S,L,U)})}if(d.context=m,d.props=J,d.__P=e,d.__e=!1,P=Se.__r,H=0,W){for(d.state=d.__s,d.__d=!1,P&&P(t),w=d.render(d.props,d.state,d.context),V=0;V<d._sb.length;V++)d.__h.push(d._sb[V]);d._sb=[]}else do d.__d=!1,P&&P(t),w=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++H<25);d.state=d.__s,d.getChildContext!=null&&(n=Lt(Lt({},n),d.getChildContext())),W&&!k&&d.getSnapshotBeforeUpdate!=null&&(U=d.getSnapshotBeforeUpdate(S,L)),ss(e,ui(te=w!=null&&w.type===At&&w.key==null?w.props.children:w)?te:[te],t,r,n,i,o,s,c,p,g),d.base=t.__e,t.__u&=-161,d.__h.length&&s.push(d),j&&(d.__E=d.__=null)}catch(z){if(t.__v=null,p||o!=null){for(t.__u|=p?160:128;c&&c.nodeType===8&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,t.__e=c}else t.__e=r.__e,t.__k=r.__k;Se.__e(z,t,r)}else o==null&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(z,ae,de,re,G,ne,le,pe,je){var oe,qe,Ie,pt,Re,Le,Je,me=de.props,ke=ae.props,he=ae.type;if(he==="svg"?G="http://www.w3.org/2000/svg":he==="math"?G="http://www.w3.org/1998/Math/MathML":G||(G="http://www.w3.org/1999/xhtml"),ne!=null){for(oe=0;oe<ne.length;oe++)if((Re=ne[oe])&&"setAttribute"in Re==!!he&&(he?Re.localName===he:Re.nodeType===3)){z=Re,ne[oe]=null;break}}if(z==null){if(he===null)return document.createTextNode(ke);z=document.createElementNS(G,he,ke.is&&ke),pe&&(Se.__m&&Se.__m(ae,ne),pe=!1),ne=null}if(he===null)me===ke||pe&&z.data===ke||(z.data=ke);else{if(ne=ne&&ii.call(z.childNodes),me=de.props||li,!pe&&ne!=null)for(me={},oe=0;oe<z.attributes.length;oe++)me[(Re=z.attributes[oe]).name]=Re.value;for(oe in me)if(Re=me[oe],oe!="children"){if(oe=="dangerouslySetInnerHTML")Ie=Re;else if(!(oe in ke)){if(oe=="value"&&"defaultValue"in ke||oe=="checked"&&"defaultChecked"in ke)continue;an(z,oe,null,Re,G)}}for(oe in ke)Re=ke[oe],oe=="children"?pt=Re:oe=="dangerouslySetInnerHTML"?qe=Re:oe=="value"?Le=Re:oe=="checked"?Je=Re:pe&&typeof Re!="function"||me[oe]===Re||an(z,oe,Re,me[oe],G);if(qe)pe||Ie&&(qe.__html===Ie.__html||qe.__html===z.innerHTML)||(z.innerHTML=qe.__html),ae.__k=[];else if(Ie&&(z.innerHTML=""),ss(z,ui(pt)?pt:[pt],ae,de,re,he==="foreignObject"?"http://www.w3.org/1999/xhtml":G,ne,le,ne?ne[0]:de.__k&&lr(de,0),pe,je),ne!=null)for(oe=ne.length;oe--;)is(ne[oe]);pe||(oe="value",he==="progress"&&Le==null?z.removeAttribute("value"):Le===void 0||Le===z[oe]&&(he!=="progress"||Le)&&(he!=="option"||Le===me[oe])||an(z,oe,Le,me[oe],G),oe="checked",Je!==void 0&&Je!==z[oe]&&an(z,oe,Je,me[oe],G))}return z}(r.__e,t,r,n,i,o,s,p,g);(w=Se.diffed)&&w(t)}function di(e,t,r){try{if(typeof e=="function"){var n=typeof e.__u=="function";n&&e.__u(),n&&t==null||(e.__u=e(t))}else e.current=t}catch(i){Se.__e(i,r)}}function qc(e,t,r){return this.constructor(e,r)}ii=ns.slice,Se={__e:function(e,t,r,n){for(var i,o,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,n||{}),s=i.__d),s)return i.__E=i}catch(c){e=c}throw e}},es=0,on.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Lt({},this.state),typeof e=="function"&&(e=e(Lt({},r),this.props)),e&&Lt(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),os(this))},on.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),os(this))},on.prototype.render=At,Vt=[],rs=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,oi=function(e,t){return e.__v.__b-t.__v.__b},sn.__r=0,si=0,ai=cs(!1),ci=cs(!0);var us=/[\s\n\\/='"\0<>]/,ds=/^(xlink|xmlns|xml)([A-Z])/,Bc=/^accessK|^auto[A-Z]|^cell|^ch|^col|cont|cross|dateT|encT|form[A-Z]|frame|hrefL|inputM|maxL|minL|noV|playsI|popoverT|readO|rowS|src[A-Z]|tabI|useM|item[A-Z]/,Jc=/^ac|^ali|arabic|basel|cap|clipPath$|clipRule$|color|dominant|enable|fill|flood|font|glyph[^R]|horiz|image|letter|lighting|marker[^WUH]|overline|panose|pointe|paint|rendering|shape|stop|strikethrough|stroke|text[^L]|transform|underline|unicode|units|^v[^i]|^w|^xH/,Vc=new Set(["draggable","spellcheck"]),zc=/["&<]/;function cn(e){if(e.length===0||zc.test(e)===!1)return e;for(var t=0,r=0,n="",i="";r<e.length;r++){switch(e.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;default:continue}r!==t&&(n+=e.slice(t,r)),n+=i,t=r+1}return r!==t&&(n+=e.slice(t,r)),n}var ps={},Fc=new Set(["animation-iteration-count","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","fill-opacity","flex","flex-grow","flex-negative","flex-order","flex-positive","flex-shrink","flood-opacity","font-weight","grid-column","grid-row","line-clamp","line-height","opacity","order","orphans","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","widows","z-index","zoom"]),Gc=/[A-Z]/g;function hs(){this.__d=!0}var pi,zt,Ar,Rr,hi={},fs=[],Cr=Array.isArray,fi=Object.assign;function gs(e,t){var r,n=e.type,i=!0;return e.__c?(i=!1,(r=e.__c).state=r.__s):r=new n(e.props,t),e.__c=r,r.__v=e,r.props=e.props,r.context=t,r.__d=!0,r.state==null&&(r.state=hi),r.__s==null&&(r.__s=r.state),n.getDerivedStateFromProps?r.state=fi({},r.state,n.getDerivedStateFromProps(r.props,r.state)):i&&r.componentWillMount?(r.componentWillMount(),r.state=r.__s!==r.state?r.__s:r.state):!i&&r.componentWillUpdate&&r.componentWillUpdate(),Ar&&Ar(e),r.render(r.props,r.state,t)}var Xc=new Set(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),Yc=0;function Z(e,t,r,n,i,o){t||(t={});var s,c,p=t;"ref"in t&&(s=t.ref,delete t.ref);var g={type:e,props:p,key:r,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Yc,__i:-1,__u:0,__source:i,__self:o};if(typeof e=="function"&&(s=e.defaultProps))for(c in s)p[c]===void 0&&(p[c]=s[c]);return Se.vnode&&Se.vnode(g),g}async function Qc(e,t){let r=window.SimpleWebAuthnBrowser;async function n(w){let d=new URL(`${e}/webauthn-options/${t}`);w&&d.searchParams.append("action",w),o().forEach(S=>{d.searchParams.append(S.name,S.value)});let k=await fetch(d);return k.ok?k.json():void console.error("Failed to fetch options",k)}function i(){let w=`#${t}-form`,d=document.querySelector(w);if(!d)throw Error(`Form '${w}' not found`);return d}function o(){return Array.from(i().querySelectorAll("input[data-form-field]"))}async function s(w,d){let k=i();if(w){let S=document.createElement("input");S.type="hidden",S.name="action",S.value=w,k.appendChild(S)}if(d){let S=document.createElement("input");S.type="hidden",S.name="data",S.value=JSON.stringify(d),k.appendChild(S)}return k.submit()}async function c(w,d){let k=await r.startAuthentication(w,d);return await s("authenticate",k)}async function p(w){o().forEach(k=>{if(k.required&&!k.value)throw Error(`Missing required field: ${k.name}`)});let d=await r.startRegistration(w);return await s("register",d)}async function g(){if(!r.browserSupportsWebAuthnAutofill())return;let w=await n("authenticate");if(!w)return void console.error("Failed to fetch option for autofill authentication");try{await c(w.options,!0)}catch(d){console.error(d)}}(async function(){let w=i();if(!r.browserSupportsWebAuthn()){w.style.display="none";return}w&&w.addEventListener("submit",async d=>{d.preventDefault();let k=await n(void 0);if(!k)return void console.error("Failed to fetch options for form submission");if(k.action==="authenticate")try{await c(k.options,!1)}catch(S){console.error(S)}else if(k.action==="register")try{await p(k.options)}catch(S){console.error(S)}})})(),g()}let ms={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."},Zc=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
  --provider-bg: #fff;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #fff
  );
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
  --provider-bg: #161b22;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #000
  );
}

.__next-auth-theme-dark img[src$="42-school.svg"],
  .__next-auth-theme-dark img[src$="apple.svg"],
  .__next-auth-theme-dark img[src$="boxyhq-saml.svg"],
  .__next-auth-theme-dark img[src$="eveonline.svg"],
  .__next-auth-theme-dark img[src$="github.svg"],
  .__next-auth-theme-dark img[src$="mailchimp.svg"],
  .__next-auth-theme-dark img[src$="medium.svg"],
  .__next-auth-theme-dark img[src$="okta.svg"],
  .__next-auth-theme-dark img[src$="patreon.svg"],
  .__next-auth-theme-dark img[src$="ping-id.svg"],
  .__next-auth-theme-dark img[src$="roblox.svg"],
  .__next-auth-theme-dark img[src$="threads.svg"],
  .__next-auth-theme-dark img[src$="wikimedia.svg"] {
    filter: invert(1);
  }

.__next-auth-theme-dark #submitButton {
    background-color: var(--provider-bg, var(--color-info));
  }

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
    --provider-bg: #161b22;
    --provider-bg-hover: color-mix(
      in srgb,
      var(--provider-brand-color) 30%,
      #000
    );
  }
    .__next-auth-theme-auto img[src$="42-school.svg"],
    .__next-auth-theme-auto img[src$="apple.svg"],
    .__next-auth-theme-auto img[src$="boxyhq-saml.svg"],
    .__next-auth-theme-auto img[src$="eveonline.svg"],
    .__next-auth-theme-auto img[src$="github.svg"],
    .__next-auth-theme-auto img[src$="mailchimp.svg"],
    .__next-auth-theme-auto img[src$="medium.svg"],
    .__next-auth-theme-auto img[src$="okta.svg"],
    .__next-auth-theme-auto img[src$="patreon.svg"],
    .__next-auth-theme-auto img[src$="ping-id.svg"],
    .__next-auth-theme-auto img[src$="roblox.svg"],
    .__next-auth-theme-auto img[src$="threads.svg"],
    .__next-auth-theme-auto img[src$="wikimedia.svg"] {
      filter: invert(1);
    }
    .__next-auth-theme-auto #submitButton {
      background-color: var(--provider-bg, var(--color-info));
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: var(--provider-bg);
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`;function ln({html:e,title:t,status:r,cookies:n,theme:i,headTags:o}){return{cookies:n,status:r,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${Zc}</style><title>${t}</title>${o??""}</head><body class="__next-auth-theme-${i?.colorScheme??"auto"}"><div class="page">${function(s,c,p){var g=Se.__s;Se.__s=!0,pi=Se.__b,zt=Se.diffed,Ar=Se.__r,Rr=Se.unmount;var w=function(k,S,L){var U,j,J,W={};for(J in S)J=="key"?U=S[J]:J=="ref"?j=S[J]:W[J]=S[J];if(arguments.length>2&&(W.children=arguments.length>3?ii.call(arguments,2):L),typeof k=="function"&&k.defaultProps!=null)for(J in k.defaultProps)W[J]===void 0&&(W[J]=k.defaultProps[J]);return nn(k,W,U,j,null)}(At,null);w.__k=[s];try{var d=function k(S,L,U,j,J,W,C){if(S==null||S===!0||S===!1||S==="")return"";var m=typeof S;if(m!="object")return m=="function"?"":m=="string"?cn(S):S+"";if(Cr(S)){var T,P="";J.__k=S;for(var H=0;H<S.length;H++){var V=S[H];if(V!=null&&typeof V!="boolean"){var te,F=k(V,L,U,j,J,W,C);typeof F=="string"?P+=F:(T||(T=[]),P&&T.push(P),P="",Cr(F)?(te=T).push.apply(te,F):T.push(F))}}return T?(P&&T.push(P),T):P}if(S.constructor!==void 0)return"";S.__=J,pi&&pi(S);var z=S.type,ae=S.props;if(typeof z=="function"){var de,re,G,ne=L;if(z===At){if("tpl"in ae){for(var le="",pe=0;pe<ae.tpl.length;pe++)if(le+=ae.tpl[pe],ae.exprs&&pe<ae.exprs.length){var je=ae.exprs[pe];if(je==null)continue;typeof je=="object"&&(je.constructor===void 0||Cr(je))?le+=k(je,L,U,j,S,W,C):le+=je}return le}if("UNSTABLE_comment"in ae)return"<!--"+cn(ae.UNSTABLE_comment)+"-->";re=ae.children}else{if((de=z.contextType)!=null){var oe=L[de.__c];ne=oe?oe.props.value:de.__}var qe=z.prototype&&typeof z.prototype.render=="function";if(qe)re=gs(S,ne),G=S.__c;else{S.__c=G={__v:S,context:ne,props:S.props,setState:hs,forceUpdate:hs,__d:!0,__h:[]};for(var Ie=0;G.__d&&Ie++<25;)G.__d=!1,Ar&&Ar(S),re=z.call(G,ae,ne);G.__d=!0}if(G.getChildContext!=null&&(L=fi({},L,G.getChildContext())),qe&&Se.errorBoundaries&&(z.getDerivedStateFromError||G.componentDidCatch)){re=re!=null&&re.type===At&&re.key==null&&re.props.tpl==null?re.props.children:re;try{return k(re,L,U,j,S,W,C)}catch(Xe){return z.getDerivedStateFromError&&(G.__s=z.getDerivedStateFromError(Xe)),G.componentDidCatch&&G.componentDidCatch(Xe,hi),G.__d?(re=gs(S,L),(G=S.__c).getChildContext!=null&&(L=fi({},L,G.getChildContext())),k(re=re!=null&&re.type===At&&re.key==null&&re.props.tpl==null?re.props.children:re,L,U,j,S,W,C)):""}finally{zt&&zt(S),S.__=null,Rr&&Rr(S)}}}re=re!=null&&re.type===At&&re.key==null&&re.props.tpl==null?re.props.children:re;try{var pt=k(re,L,U,j,S,W,C);return zt&&zt(S),S.__=null,Se.unmount&&Se.unmount(S),pt}catch(Xe){if(!W&&C&&C.onError){var Re=C.onError(Xe,S,function(Xt){return k(Xt,L,U,j,S,W,C)});if(Re!==void 0)return Re;var Le=Se.__e;return Le&&Le(Xe,S),""}if(!W||!Xe||typeof Xe.then!="function")throw Xe;return Xe.then(function Xt(){try{return k(re,L,U,j,S,W,C)}catch(ht){if(!ht||typeof ht.then!="function")throw ht;return ht.then(function(){return k(re,L,U,j,S,W,C)},Xt)}})}}var Je,me="<"+z,ke="";for(var he in ae){var Me=ae[he];if(typeof Me!="function"||he==="class"||he==="className"){switch(he){case"children":Je=Me;continue;case"key":case"ref":case"__self":case"__source":continue;case"htmlFor":if("for"in ae)continue;he="for";break;case"className":if("class"in ae)continue;he="class";break;case"defaultChecked":he="checked";break;case"defaultSelected":he="selected";break;case"defaultValue":case"value":switch(he="value",z){case"textarea":Je=Me;continue;case"select":j=Me;continue;case"option":j!=Me||"selected"in ae||(me+=" selected")}break;case"dangerouslySetInnerHTML":ke=Me&&Me.__html;continue;case"style":typeof Me=="object"&&(Me=function(Xe){var Xt="";for(var ht in Xe){var Cn=Xe[ht];if(Cn!=null&&Cn!==""){var ji=ht[0]=="-"?ht:ps[ht]||(ps[ht]=ht.replace(Gc,"-$&").toLowerCase()),ma=";";typeof Cn!="number"||ji.startsWith("--")||Fc.has(ji)||(ma="px;"),Xt=Xt+ji+":"+Cn+ma}}return Xt||void 0}(Me));break;case"acceptCharset":he="accept-charset";break;case"httpEquiv":he="http-equiv";break;default:if(ds.test(he))he=he.replace(ds,"$1:$2").toLowerCase();else{if(us.test(he))continue;(he[4]==="-"||Vc.has(he))&&Me!=null?Me+="":U?Jc.test(he)&&(he=he==="panose1"?"panose-1":he.replace(/([A-Z])/g,"-$1").toLowerCase()):Bc.test(he)&&(he=he.toLowerCase())}}Me!=null&&Me!==!1&&(me=Me===!0||Me===""?me+" "+he:me+" "+he+'="'+(typeof Me=="string"?cn(Me):Me+"")+'"')}}if(us.test(z))throw Error(z+" is not a valid HTML tag name in "+me+">");if(ke||(typeof Je=="string"?ke=cn(Je):Je!=null&&Je!==!1&&Je!==!0&&(ke=k(Je,L,z==="svg"||z!=="foreignObject"&&U,j,S,W,C))),zt&&zt(S),S.__=null,Rr&&Rr(S),!ke&&Xc.has(z))return me+"/>";var Ht="</"+z+">",Dr=me+">";return Cr(ke)?[Dr].concat(ke,[Ht]):typeof ke!="string"?[Dr,ke,Ht]:Dr+ke+Ht}(s,hi,!1,void 0,w,!1,void 0);return Cr(d)?d.join(""):d}catch(k){throw k.then?Error('Use "renderToStringAsync" for suspenseful rendering.'):k}finally{Se.__c&&Se.__c(s,fs),Se.__s=g,fs.length=0}}(e)}</div></body></html>`}}function ys(e){let{url:t,theme:r,query:n,cookies:i,pages:o,providers:s}=e;return{csrf:(c,p,g)=>c?(p.logger.warn("csrf-disabled"),g.push({name:p.cookies.csrfToken.name,value:"",options:{...p.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:g}):{headers:{"Content-Type":"application/json","Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"},body:{csrfToken:p.csrfToken},cookies:g},providers:c=>({headers:{"Content-Type":"application/json"},body:c.reduce((p,{id:g,name:w,type:d,signinUrl:k,callbackUrl:S})=>(p[g]={id:g,name:w,type:d,signinUrl:k,callbackUrl:S},p),{})}),signin(c,p){if(c)throw new Bt("Unsupported action");if(o?.signIn){let d=`${o.signIn}${o.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:e.callbackUrl??"/"})}`;return p&&(d=`${d}&${new URLSearchParams({error:p})}`),{redirect:d,cookies:i}}let g=s?.find(d=>d.type==="webauthn"&&d.enableConditionalUI&&!!d.simpleWebAuthnBrowserVersion),w="";if(g){let{simpleWebAuthnBrowserVersion:d}=g;w=`<script src="https://unpkg.com/@simplewebauthn/browser@${d}/dist/bundle/index.umd.min.js" crossorigin="anonymous"><\/script>`}return ln({cookies:i,theme:r,html:function(d){let{csrfToken:k,providers:S=[],callbackUrl:L,theme:U,email:j,error:J}=d;typeof document<"u"&&U?.brandColor&&document.documentElement.style.setProperty("--brand-color",U.brandColor),typeof document<"u"&&U?.buttonText&&document.documentElement.style.setProperty("--button-text-color",U.buttonText);let W=J&&(ms[J]??ms.default),C=S.find(m=>m.type==="webauthn"&&m.enableConditionalUI)?.id;return Z("div",{className:"signin",children:[U?.brandColor&&Z("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${U.brandColor}}`}}),U?.buttonText&&Z("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${U.buttonText}
        }
      `}}),Z("div",{className:"card",children:[W&&Z("div",{className:"error",children:Z("p",{children:W})}),U?.logo&&Z("img",{src:U.logo,alt:"Logo",className:"logo"}),S.map((m,T)=>{let P,H,V;(m.type==="oauth"||m.type==="oidc")&&({bg:P="#fff",brandColor:H,logo:V=`https://authjs.dev/img/providers/${m.id}.svg`}=m.style??{});let te=H??P??"#fff";return Z("div",{className:"provider",children:[m.type==="oauth"||m.type==="oidc"?Z("form",{action:m.signinUrl,method:"POST",children:[Z("input",{type:"hidden",name:"csrfToken",value:k}),L&&Z("input",{type:"hidden",name:"callbackUrl",value:L}),Z("button",{type:"submit",className:"button",style:{"--provider-brand-color":te},tabIndex:0,children:[Z("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",m.name]}),V&&Z("img",{loading:"lazy",height:24,src:V})]})]}):null,(m.type==="email"||m.type==="credentials"||m.type==="webauthn")&&T>0&&S[T-1].type!=="email"&&S[T-1].type!=="credentials"&&S[T-1].type!=="webauthn"&&Z("hr",{}),m.type==="email"&&Z("form",{action:m.signinUrl,method:"POST",children:[Z("input",{type:"hidden",name:"csrfToken",value:k}),Z("label",{className:"section-header",htmlFor:`input-email-for-${m.id}-provider`,children:"Email"}),Z("input",{id:`input-email-for-${m.id}-provider`,autoFocus:!0,type:"email",name:"email",value:j,placeholder:"email@example.com",required:!0}),Z("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",m.name]})]}),m.type==="credentials"&&Z("form",{action:m.callbackUrl,method:"POST",children:[Z("input",{type:"hidden",name:"csrfToken",value:k}),Object.keys(m.credentials).map(F=>Z("div",{children:[Z("label",{className:"section-header",htmlFor:`input-${F}-for-${m.id}-provider`,children:m.credentials[F].label??F}),Z("input",{name:F,id:`input-${F}-for-${m.id}-provider`,type:m.credentials[F].type??"text",placeholder:m.credentials[F].placeholder??"",...m.credentials[F]})]},`input-group-${m.id}`)),Z("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",m.name]})]}),m.type==="webauthn"&&Z("form",{action:m.callbackUrl,method:"POST",id:`${m.id}-form`,children:[Z("input",{type:"hidden",name:"csrfToken",value:k}),Object.keys(m.formFields).map(F=>Z("div",{children:[Z("label",{className:"section-header",htmlFor:`input-${F}-for-${m.id}-provider`,children:m.formFields[F].label??F}),Z("input",{name:F,"data-form-field":!0,id:`input-${F}-for-${m.id}-provider`,type:m.formFields[F].type??"text",placeholder:m.formFields[F].placeholder??"",...m.formFields[F]})]},`input-group-${m.id}`)),Z("button",{id:`submitButton-${m.id}`,type:"submit",tabIndex:0,children:["Sign in with ",m.name]})]}),(m.type==="email"||m.type==="credentials"||m.type==="webauthn")&&T+1<S.length&&Z("hr",{})]},m.id)})]}),C&&Z(At,{children:Z("script",{dangerouslySetInnerHTML:{__html:`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${Qc})(authURL, "${C}");
`}})})]})}({csrfToken:e.csrfToken,providers:e.providers?.filter(d=>["email","oauth","oidc"].includes(d.type)||d.type==="credentials"&&d.credentials||d.type==="webauthn"&&d.formFields||!1),callbackUrl:e.callbackUrl,theme:e.theme,error:p,...n}),title:"Sign In",headTags:w})},signout:()=>o?.signOut?{redirect:o.signOut,cookies:i}:ln({cookies:i,theme:r,html:function(c){let{url:p,csrfToken:g,theme:w}=c;return Z("div",{className:"signout",children:[w?.brandColor&&Z("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${w.brandColor}
        }
      `}}),w?.buttonText&&Z("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${w.buttonText}
        }
      `}}),Z("div",{className:"card",children:[w?.logo&&Z("img",{src:w.logo,alt:"Logo",className:"logo"}),Z("h1",{children:"Signout"}),Z("p",{children:"Are you sure you want to sign out?"}),Z("form",{action:p?.toString(),method:"POST",children:[Z("input",{type:"hidden",name:"csrfToken",value:g}),Z("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}({csrfToken:e.csrfToken,url:t,theme:r}),title:"Sign Out"}),verifyRequest:c=>o?.verifyRequest?{redirect:`${o.verifyRequest}${t?.search??""}`,cookies:i}:ln({cookies:i,theme:r,html:function(p){let{url:g,theme:w}=p;return Z("div",{className:"verify-request",children:[w.brandColor&&Z("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${w.brandColor}
        }
      `}}),Z("div",{className:"card",children:[w.logo&&Z("img",{src:w.logo,alt:"Logo",className:"logo"}),Z("h1",{children:"Check your email"}),Z("p",{children:"A sign in link has been sent to your email address."}),Z("p",{children:Z("a",{className:"site",href:g.origin,children:g.host})})]})]})}({url:t,theme:r,...c}),title:"Verify Request"}),error:c=>o?.error?{redirect:`${o.error}${o.error.includes("?")?"&":"?"}error=${c}`,cookies:i}:ln({cookies:i,theme:r,...function(p){let{url:g,error:w="default",theme:d}=p,k=`${g}/signin`,S={default:{status:200,heading:"Error",message:Z("p",{children:Z("a",{className:"site",href:g?.origin,children:g?.host})})},Configuration:{status:500,heading:"Server error",message:Z("div",{children:[Z("p",{children:"There is a problem with the server configuration."}),Z("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:Z("div",{children:[Z("p",{children:"You do not have permission to sign in."}),Z("p",{children:Z("a",{className:"button",href:k,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:Z("div",{children:[Z("p",{children:"The sign in link is no longer valid."}),Z("p",{children:"It may have been used already or it may have expired."})]}),signin:Z("a",{className:"button",href:k,children:"Sign in"})}},{status:L,heading:U,message:j,signin:J}=S[w]??S.default;return{status:L,html:Z("div",{className:"error",children:[d?.brandColor&&Z("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${d?.brandColor}
        }
      `}}),Z("div",{className:"card",children:[d?.logo&&Z("img",{src:d?.logo,alt:"Logo",className:"logo"}),Z("h1",{children:U}),Z("div",{className:"message",children:j}),J]})]})}}({url:t,theme:r,error:c}),title:"Error"})}}function Ft(e,t=Date.now()){return new Date(t+1e3*e)}async function gi(e,t,r,n){if(!r?.providerAccountId||!r.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(r.type))throw Error("Provider not supported");let{adapter:i,jwt:o,events:s,session:{strategy:c,generateSessionToken:p}}=n;if(!i)return{user:t,account:r};let g=r,{createUser:w,updateUser:d,getUser:k,getUserByAccount:S,getUserByEmail:L,linkAccount:U,createSession:j,getSessionAndUser:J,deleteSession:W}=i,C=null,m=null,T=!1,P=c==="jwt";if(e)if(P)try{let V=n.cookies.sessionToken.name;(C=await o.decode({...o,token:e,salt:V}))&&"sub"in C&&C.sub&&(m=await k(C.sub))}catch{}else{let V=await J(e);V&&(C=V.session,m=V.user)}if(g.type==="email"){let V=await L(t.email);return V?(m?.id!==V.id&&!P&&e&&await W(e),m=await d({id:V.id,emailVerified:new Date}),await s.updateUser?.({user:m})):(m=await w({...t,emailVerified:new Date}),await s.createUser?.({user:m}),T=!0),{session:C=P?{}:await j({sessionToken:p(),userId:m.id,expires:Ft(n.session.maxAge)}),user:m,isNewUser:T}}if(g.type==="webauthn"){let V=await S({providerAccountId:g.providerAccountId,provider:g.provider});if(V){if(m){if(V.id===m.id){let F={...g,userId:m.id};return{session:C,user:m,isNewUser:T,account:F}}throw new Ln("The account is already associated with another user",{provider:g.provider})}C=P?{}:await j({sessionToken:p(),userId:V.id,expires:Ft(n.session.maxAge)});let te={...g,userId:V.id};return{session:C,user:V,isNewUser:T,account:te}}{if(m){await U({...g,userId:m.id}),await s.linkAccount?.({user:m,account:g,profile:t});let F={...g,userId:m.id};return{session:C,user:m,isNewUser:T,account:F}}if(t.email&&await L(t.email))throw new Ln("Another account already exists with the same e-mail address",{provider:g.provider});m=await w({...t}),await s.createUser?.({user:m}),await U({...g,userId:m.id}),await s.linkAccount?.({user:m,account:g,profile:t}),C=P?{}:await j({sessionToken:p(),userId:m.id,expires:Ft(n.session.maxAge)});let te={...g,userId:m.id};return{session:C,user:m,isNewUser:!0,account:te}}}let H=await S({providerAccountId:g.providerAccountId,provider:g.provider});if(H){if(m){if(H.id===m.id)return{session:C,user:m,isNewUser:T};throw new Dn("The account is already associated with another user",{provider:g.provider})}return{session:C=P?{}:await j({sessionToken:p(),userId:H.id,expires:Ft(n.session.maxAge)}),user:H,isNewUser:T}}{let{provider:V}=n,{type:te,provider:F,providerAccountId:z,userId:ae,...de}=g;if(g=Object.assign(V.account(de)??{},{providerAccountId:z,provider:F,type:te,userId:ae}),m)return await U({...g,userId:m.id}),await s.linkAccount?.({user:m,account:g,profile:t}),{session:C,user:m,isNewUser:T};let re=t.email?await L(t.email):null;if(re)if(n.provider?.allowDangerousEmailAccountLinking)m=re,T=!1;else throw new Dn("Another account already exists with the same e-mail address",{provider:g.provider});else m=await w({...t,emailVerified:null}),T=!0;return await s.createUser?.({user:m}),await U({...g,userId:m.id}),await s.linkAccount?.({user:m,account:g,profile:t}),{session:C=P?{}:await j({sessionToken:p(),userId:m.id,expires:Ft(n.session.maxAge)}),user:m,isNewUser:T}}}function Tr(e,t){if(e==null)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch{return!1}}typeof navigator<"u"&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(M="oauth4webapi/v3.8.3");let st="ERR_INVALID_ARG_VALUE",nt="ERR_INVALID_ARG_TYPE";function $e(e,t,r){let n=TypeError(e,{cause:r});return Object.assign(n,{code:t}),n}let Rt=Symbol(),ws=Symbol(),el=Symbol(),Ct=Symbol(),vs=Symbol(),mi=Symbol();Symbol();let tl=new TextEncoder,rl=new TextDecoder;function yt(e){return typeof e=="string"?tl.encode(e):rl.decode(e)}function wt(e){return typeof e=="string"?R(e):I(e)}I=Uint8Array.prototype.toBase64?e=>(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e.toBase64({alphabet:"base64url",omitPadding:!0})):e=>{e instanceof ArrayBuffer&&(e=new Uint8Array(e));let t=[];for(let r=0;r<e.byteLength;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},R=Uint8Array.fromBase64?e=>{try{return Uint8Array.fromBase64(e,{alphabet:"base64url"})}catch(t){throw $e("The input to be decoded is not correctly encoded.",st,t)}}:e=>{try{let t=atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}catch(t){throw $e("The input to be decoded is not correctly encoded.",st,t)}};class lt extends Error{code;constructor(t,r){super(t,r),this.name=this.constructor.name,this.code=Il,Error.captureStackTrace?.(this,this.constructor)}}class nl extends Error{code;constructor(t,r){super(t,r),this.name=this.constructor.name,r?.code&&(this.code=r?.code),Error.captureStackTrace?.(this,this.constructor)}}function ue(e,t,r){return new nl(e,{code:t,cause:r})}function un(e){return!(e===null||typeof e!="object"||Array.isArray(e))}function dn(e){Tr(e,Headers)&&(e=Object.fromEntries(e.entries()));let t=new Headers(e??{});if(M&&!t.has("user-agent")&&t.set("user-agent",M),t.has("authorization"))throw $e('"options.headers" must not include the "authorization" header name',st);return t}function yi(e,t){if(t!==void 0){if(typeof t=="function"&&(t=t(e.href)),!(t instanceof AbortSignal))throw $e('"options.signal" must return or be an instance of AbortSignal',nt);return t}}function _s(e){return e.includes("//")?e.replace("//","/"):e}async function il(e,t,r,n){if(!(e instanceof URL))throw $e(`"${t}" must be an instance of URL`,nt);_i(e,n?.[Rt]!==!0);let i=r(new URL(e.href)),o=dn(n?.headers);return o.set("accept","application/json"),(n?.[Ct]||fetch)(i.href,{body:void 0,headers:Object.fromEntries(o.entries()),method:"GET",redirect:"manual",signal:yi(i,n?.signal)})}async function wi(e,t){return il(e,"issuerIdentifier",r=>{switch(t?.algorithm){case void 0:case"oidc":r.pathname=_s(`${r.pathname}/.well-known/openid-configuration`);break;case"oauth2":(function(n,i,o=!1){n.pathname==="/"?n.pathname=i:n.pathname=_s(`${i}/${o?n.pathname:n.pathname.replace(/(\/)$/,"")}`)})(r,".well-known/oauth-authorization-server");break;default:throw $e('"options.algorithm" must be "oidc" (default), or "oauth2"',st)}return r},t)}function Pr(e,t,r,n,i){try{if(typeof e!="number"||!Number.isFinite(e))throw $e(`${r} must be a number`,nt,i);if(e>0)return;if(t){if(e!==0)throw $e(`${r} must be a non-negative number`,st,i);return}throw $e(`${r} must be a positive number`,st,i)}catch(o){throw n?ue(o.message,n,i):o}}function Fe(e,t,r,n){try{if(typeof e!="string")throw $e(`${t} must be a string`,nt,n);if(e.length===0)throw $e(`${t} must not be empty`,st,n)}catch(i){throw r?ue(i.message,r,n):i}}async function vi(e,t){if(!(e instanceof URL)&&e!==Hs)throw $e('"expectedIssuerIdentifier" must be an instance of URL',nt);if(!Tr(t,Response))throw $e('"response" must be an instance of Response',nt);if(t.status!==200)throw ue('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',Ai,t);yn(t);let r=await Ri(t);if(Fe(r.issuer,'"response" body "issuer" property',Oe,{body:r}),e!==Hs&&new URL(r.issuer).href!==e.href)throw ue('"response" body "issuer" property does not match the expected value',js,{expected:e.href,body:r,attribute:"issuer"});return r}function bs(e){var t=e,r="application/json";if(Cs(t)!==r)throw function(n,...i){let o='"response" content-type must be ';if(i.length>2){let s=i.pop();o+=`${i.join(", ")}, or ${s}`}else i.length===2?o+=`${i[0]} or ${i[1]}`:o+=i[0];return ue(o,jl,n)}(t,r)}function pn(){return wt(crypto.getRandomValues(new Uint8Array(32)))}async function ol(e){return Fe(e,"codeVerifier"),wt(await crypto.subtle.digest("SHA-256",yt(e)))}function ur(e){let t=e?.[ws];return typeof t=="number"&&Number.isFinite(t)?t:0}function hn(e){let t=e?.[el];return typeof t=="number"&&Number.isFinite(t)&&Math.sign(t)!==-1?t:30}function fn(){return Math.floor(Date.now()/1e3)}function Or(e){if(typeof e!="object"||e===null)throw $e('"as" must be an object',nt);Fe(e.issuer,'"as.issuer"')}function Ir(e){if(typeof e!="object"||e===null)throw $e('"client" must be an object',nt);Fe(e.client_id,'"client.client_id"')}function Es(e,t){let r=fn()+ur(t);return{jti:pn(),aud:e.issuer,exp:r+60,iat:r,nbf:r,iss:t.client_id,sub:t.client_id}}async function sl(e,t,r){if(!r.usages.includes("sign"))throw $e('CryptoKey instances used for signing assertions must include "sign" in their "usages"',st);let n=`${wt(yt(JSON.stringify(e)))}.${wt(yt(JSON.stringify(t)))}`,i=wt(await crypto.subtle.sign(function(o){switch(o.algorithm.name){case"ECDSA":return{name:o.algorithm.name,hash:function(s){let{algorithm:c}=s;switch(c.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new lt("unsupported ECDSA namedCurve",{cause:s})}}(o)};case"RSA-PSS":switch(Ds(o),o.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:o.algorithm.name,saltLength:parseInt(o.algorithm.hash.name.slice(-3),10)>>3};default:throw new lt("unsupported RSA-PSS hash name",{cause:o})}case"RSASSA-PKCS1-v1_5":return Ds(o),o.algorithm.name;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":case"Ed25519":return o.algorithm.name}throw new lt("unsupported CryptoKey algorithm name",{cause:o})}(r),r,yt(n)));return`${n}.${i}`}let al=URL.parse?(e,t)=>URL.parse(e,t):(e,t)=>{try{return new URL(e,t)}catch{return null}};function _i(e,t){if(t&&e.protocol!=="https:")throw ue("only requests to HTTPS are allowed",Dl,e);if(e.protocol!=="https:"&&e.protocol!=="http:")throw ue("only HTTP and HTTPS requests are allowed",$l,e)}function Ss(e,t,r,n){let i;if(typeof e!="string"||!(i=al(e)))throw ue(`authorization server metadata does not contain a valid ${r?`"as.mtls_endpoint_aliases.${t}"`:`"as.${t}"`}`,e===void 0?Ll:Ml,{attribute:r?`mtls_endpoint_aliases.${t}`:t});return _i(i,n),i}function ks(e,t,r,n){return r&&e.mtls_endpoint_aliases&&t in e.mtls_endpoint_aliases?Ss(e.mtls_endpoint_aliases[t],t,r,n):Ss(e[t],t,r,n)}class cl extends Error{cause;code;error;status;error_description;response;constructor(t,r){super(t,r),this.name=this.constructor.name,this.code=Ol,this.cause=r.cause,this.error=r.cause.error,this.status=r.response.status,this.error_description=r.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:r.response}),Error.captureStackTrace?.(this,this.constructor)}}class xs extends Error{cause;code;error;error_description;constructor(t,r){super(t,r),this.name=this.constructor.name,this.code=Nl,this.cause=r.cause,this.error=r.cause.get("error"),this.error_description=r.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}}class ll extends Error{cause;code;response;status;constructor(t,r){super(t,r),this.name=this.constructor.name,this.code=Pl,this.cause=r.cause,this.status=r.response.status,this.response=r.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}}let gn="[a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+",ul=RegExp("^[,\\s]*("+gn+")"),dl=RegExp("^[,\\s]*("+gn+')\\s*=\\s*"((?:[^"\\\\]|\\\\[\\s\\S])*)"[,\\s]*(.*)'),pl=RegExp("^[,\\s]*"+("("+gn+")\\s*=\\s*(")+gn+")[,\\s]*(.*)"),hl=RegExp("^([a-zA-Z0-9\\-\\._\\~\\+\\/]+={0,2})(?:$|[,\\s])(.*)");async function fl(e){if(e.status>399&&e.status<500){yn(e),bs(e);try{let t=await e.clone().json();if(un(t)&&typeof t.error=="string"&&t.error.length)return t}catch{}}}async function gl(e,t,r){if(e.status!==t){let n;throw Is(e),(n=await fl(e))?(await e.body?.cancel(),new cl("server responded with an error in the response body",{cause:n,response:e})):ue(`"response" is not a conform ${r} response (unexpected HTTP status code)`,Ai,e)}}function As(e){if(!Ei.has(e))throw $e('"options.DPoP" is not a valid DPoPHandle',st)}async function ml(e,t,r,n,i,o){if(Fe(e,'"accessToken"'),!(r instanceof URL))throw $e('"url" must be an instance of URL',nt);_i(r,o?.[Rt]!==!0),n=dn(n),o?.DPoP&&(As(o.DPoP),await o.DPoP.addProof(r,n,t.toUpperCase(),e)),n.set("authorization",`${n.has("dpop")?"DPoP":"Bearer"} ${e}`);let s=await(o?.[Ct]||fetch)(r.href,{body:i,headers:Object.fromEntries(n.entries()),method:t,redirect:"manual",signal:yi(r,o?.signal)});return o?.DPoP?.cacheNonce(s,r),s}async function Rs(e,t,r,n){Or(e),Ir(t);let i=ks(e,"userinfo_endpoint",t.use_mtls_endpoint_aliases,n?.[Rt]!==!0),o=dn(n?.headers);return t.userinfo_signed_response_alg?o.set("accept","application/jwt"):(o.set("accept","application/json"),o.append("accept","application/jwt")),ml(r,"GET",i,o,null,{...n,[ws]:ur(t)})}let yl=Symbol();function Cs(e){return e.headers.get("content-type")?.split(";")[0]}async function wl(e,t,r,n,i){let o;if(Or(e),Ir(t),!Tr(n,Response))throw $e('"response" must be an instance of Response',nt);if(Is(n),n.status!==200)throw ue('"response" is not a conform UserInfo Endpoint response (unexpected HTTP status code)',Ai,n);if(yn(n),Cs(n)==="application/jwt"){let{claims:s,jwt:c}=await $s(await n.text(),Ls.bind(void 0,t.userinfo_signed_response_alg,e.userinfo_signing_alg_values_supported,void 0),ur(t),hn(t),i?.[mi]).then(bl.bind(void 0,t.client_id)).then(El.bind(void 0,e));Ps.set(n,c),o=s}else{if(t.userinfo_signed_response_alg)throw ue("JWT UserInfo Response expected",Ul,n);o=await Ri(n)}if(Fe(o.sub,'"response" body "sub" property',Oe,{body:o}),r!==yl){if(Fe(r,'"expectedSubject"'),o.sub!==r)throw ue('unexpected "response" body "sub" property value',js,{expected:r,body:o,attribute:"sub"})}return o}async function vl(e,t,r,n,i,o,s){return await r(e,t,i,o),o.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(s?.[Ct]||fetch)(n.href,{body:i,headers:Object.fromEntries(o.entries()),method:"POST",redirect:"manual",signal:yi(n,s?.signal)})}async function _l(e,t,r,n,i,o){let s=ks(e,"token_endpoint",t.use_mtls_endpoint_aliases,o?.[Rt]!==!0);i.set("grant_type",n);let c=dn(o?.headers);c.set("accept","application/json"),o?.DPoP!==void 0&&(As(o.DPoP),await o.DPoP.addProof(s,c,"POST"));let p=await vl(e,t,r,s,i,c,o);return o?.DPoP?.cacheNonce(p,s),p}let Ts=new WeakMap,Ps=new WeakMap;function bi(e){if(!e.id_token)return;let t=Ts.get(e);if(!t)throw $e('"ref" was already garbage collected or did not resolve from the proper sources',st);return t}async function Os(e,t,r,n,i,o){if(Or(e),Ir(t),!Tr(r,Response))throw $e('"response" must be an instance of Response',nt);await gl(r,200,"Token Endpoint"),yn(r);let s=await Ri(r);if(Fe(s.access_token,'"response" body "access_token" property',Oe,{body:s}),Fe(s.token_type,'"response" body "token_type" property',Oe,{body:s}),s.token_type=s.token_type.toLowerCase(),s.expires_in!==void 0){let c=typeof s.expires_in!="number"?parseFloat(s.expires_in):s.expires_in;Pr(c,!0,'"response" body "expires_in" property',Oe,{body:s}),s.expires_in=c}if(s.refresh_token!==void 0&&Fe(s.refresh_token,'"response" body "refresh_token" property',Oe,{body:s}),s.scope!==void 0&&typeof s.scope!="string")throw ue('"response" body "scope" property must be a string',Oe,{body:s});if(s.id_token!==void 0){Fe(s.id_token,'"response" body "id_token" property',Oe,{body:s});let c=["aud","exp","iat","iss","sub"];t.require_auth_time===!0&&c.push("auth_time"),t.default_max_age!==void 0&&(Pr(t.default_max_age,!0,'"client.default_max_age"'),c.push("auth_time")),n?.length&&c.push(...n);let{claims:p,jwt:g}=await $s(s.id_token,Ls.bind(void 0,t.id_token_signed_response_alg,e.id_token_signing_alg_values_supported,"RS256"),ur(t),hn(t),i).then(Al.bind(void 0,c)).then(Us.bind(void 0,e)).then(Ns.bind(void 0,t.client_id));if(Array.isArray(p.aud)&&p.aud.length!==1){if(p.azp===void 0)throw ue('ID Token "aud" (audience) claim includes additional untrusted audiences',Mt,{claims:p,claim:"aud"});if(p.azp!==t.client_id)throw ue('unexpected ID Token "azp" (authorized party) claim value',Mt,{expected:t.client_id,claims:p,claim:"azp"})}p.auth_time!==void 0&&Pr(p.auth_time,!0,'ID Token "auth_time" (authentication time)',Oe,{claims:p}),Ps.set(r,g),Ts.set(s,p)}if(o?.[s.token_type]!==void 0)o[s.token_type](r,s);else if(s.token_type!=="dpop"&&s.token_type!=="bearer")throw new lt("unsupported `token_type` value",{cause:{body:s}});return s}function Is(e){let t;if(t=function(r){if(!Tr(r,Response))throw $e('"response" must be an instance of Response',nt);let n=r.headers.get("www-authenticate");if(n===null)return;let i=[],o=n;for(;o;){let s,c=o.match(ul),p=c?.[1].toLowerCase();if(!p)return;let g=o.substring(c[0].length);if(g&&!g.match(/^[\s,]/))return;let w=g.match(/^\s+(.*)$/),d=!!w;o=w?w[1]:void 0;let k={};if(d)for(;o;){let L,U;if(c=o.match(dl)){if([,L,U,o]=c,U.includes("\\"))try{U=JSON.parse(`"${U}"`)}catch{}k[L.toLowerCase()]=U;continue}if(c=o.match(pl)){[,L,U,o]=c,k[L.toLowerCase()]=U;continue}if(c=o.match(hl)){if(Object.keys(k).length)break;[,s,o]=c;break}return}else o=g||void 0;let S={scheme:p,parameters:k};s&&(S.token68=s),i.push(S)}if(i.length)return i}(e))throw new ll("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:t,response:e})}function bl(e,t){return t.claims.aud!==void 0?Ns(e,t):t}function Ns(e,t){if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e))throw ue('unexpected JWT "aud" (audience) claim value',Mt,{expected:e,claims:t.claims,claim:"aud"})}else if(t.claims.aud!==e)throw ue('unexpected JWT "aud" (audience) claim value',Mt,{expected:e,claims:t.claims,claim:"aud"});return t}function El(e,t){return t.claims.iss!==void 0?Us(e,t):t}function Us(e,t){let r=e[Wl]?.(t)??e.issuer;if(t.claims.iss!==r)throw ue('unexpected JWT "iss" (issuer) claim value',Mt,{expected:r,claims:t.claims,claim:"iss"});return t}let Ei=new WeakSet,Sl=Symbol();async function kl(e,t,r,n,i,o,s){if(Or(e),Ir(t),!Ei.has(n))throw $e('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',st);Fe(i,'"redirectUri"');let c=Gt(n,"code");if(!c)throw ue('no authorization code in "callbackParameters"',Oe);let p=new URLSearchParams(s?.additionalParameters);return p.set("redirect_uri",i),p.set("code",c),o!==Sl&&(Fe(o,'"codeVerifier"'),p.set("code_verifier",o)),_l(e,t,r,"authorization_code",p,s)}let xl={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function Al(e,t){for(let r of e)if(t.claims[r]===void 0)throw ue(`JWT "${r}" (${xl[r]}) claim missing`,Oe,{claims:t.claims});return t}let Si=Symbol(),ki=Symbol();async function Rl(e,t,r,n){return typeof n?.expectedNonce=="string"||typeof n?.maxAge=="number"||n?.requireIdToken?Cl(e,t,r,n.expectedNonce,n.maxAge,n[mi],n.recognizedTokenTypes):Tl(e,t,r,n?.[mi],n?.recognizedTokenTypes)}async function Cl(e,t,r,n,i,o,s){let c=[];switch(n){case void 0:n=Si;break;case Si:break;default:Fe(n,'"expectedNonce" argument'),c.push("nonce")}switch(i??=t.default_max_age){case void 0:i=ki;break;case ki:break;default:Pr(i,!0,'"maxAge" argument'),c.push("auth_time")}let p=await Os(e,t,r,c,o,s);Fe(p.id_token,'"response" body "id_token" property',Oe,{body:p});let g=bi(p);if(i!==ki){let w=fn()+ur(t),d=hn(t);if(g.auth_time+i<w-d)throw ue("too much time has elapsed since the last End-User authentication",mn,{claims:g,now:w,tolerance:d,claim:"auth_time"})}if(n===Si){if(g.nonce!==void 0)throw ue('unexpected ID Token "nonce" claim value',Mt,{expected:void 0,claims:g,claim:"nonce"})}else if(g.nonce!==n)throw ue('unexpected ID Token "nonce" claim value',Mt,{expected:n,claims:g,claim:"nonce"});return p}async function Tl(e,t,r,n,i){let o=await Os(e,t,r,void 0,n,i),s=bi(o);if(s){if(t.default_max_age!==void 0){Pr(t.default_max_age,!0,'"client.default_max_age"');let c=fn()+ur(t),p=hn(t);if(s.auth_time+t.default_max_age<c-p)throw ue("too much time has elapsed since the last End-User authentication",mn,{claims:s,now:c,tolerance:p,claim:"auth_time"})}if(s.nonce!==void 0)throw ue('unexpected ID Token "nonce" claim value',Mt,{expected:void 0,claims:s,claim:"nonce"})}return o}let Pl="OAUTH_WWW_AUTHENTICATE_CHALLENGE",Ol="OAUTH_RESPONSE_BODY_ERROR",Il="OAUTH_UNSUPPORTED_OPERATION",Nl="OAUTH_AUTHORIZATION_RESPONSE_ERROR",Ul="OAUTH_JWT_USERINFO_EXPECTED",xi="OAUTH_PARSE_ERROR",Oe="OAUTH_INVALID_RESPONSE",jl="OAUTH_RESPONSE_IS_NOT_JSON",Ai="OAUTH_RESPONSE_IS_NOT_CONFORM",Dl="OAUTH_HTTP_REQUEST_FORBIDDEN",$l="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",mn="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",Mt="OAUTH_JWT_CLAIM_COMPARISON_FAILED",js="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",Ll="OAUTH_MISSING_SERVER_METADATA",Ml="OAUTH_INVALID_SERVER_METADATA";function yn(e){if(e.bodyUsed)throw $e('"response" body has been used already',st)}function Ds(e){let{algorithm:t}=e;if(typeof t.modulusLength!="number"||t.modulusLength<2048)throw new lt(`unsupported ${t.name} modulusLength`,{cause:e})}async function $s(e,t,r,n,i){let o,s,{0:c,1:p,length:g}=e.split(".");if(g===5)if(i!==void 0)e=await i(e),{0:c,1:p,length:g}=e.split(".");else throw new lt("JWE decryption is not configured",{cause:e});if(g!==3)throw ue("Invalid JWT",Oe,e);try{o=JSON.parse(yt(wt(c)))}catch(d){throw ue("failed to parse JWT Header body as base64url encoded JSON",xi,d)}if(!un(o))throw ue("JWT Header must be a top level object",Oe,e);if(t(o),o.crit!==void 0)throw new lt('no JWT "crit" header parameter extensions are supported',{cause:{header:o}});try{s=JSON.parse(yt(wt(p)))}catch(d){throw ue("failed to parse JWT Payload body as base64url encoded JSON",xi,d)}if(!un(s))throw ue("JWT Payload must be a top level object",Oe,e);let w=fn()+r;if(s.exp!==void 0){if(typeof s.exp!="number")throw ue('unexpected JWT "exp" (expiration time) claim type',Oe,{claims:s});if(s.exp<=w-n)throw ue('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',mn,{claims:s,now:w,tolerance:n,claim:"exp"})}if(s.iat!==void 0&&typeof s.iat!="number")throw ue('unexpected JWT "iat" (issued at) claim type',Oe,{claims:s});if(s.iss!==void 0&&typeof s.iss!="string")throw ue('unexpected JWT "iss" (issuer) claim type',Oe,{claims:s});if(s.nbf!==void 0){if(typeof s.nbf!="number")throw ue('unexpected JWT "nbf" (not before) claim type',Oe,{claims:s});if(s.nbf>w+n)throw ue('unexpected JWT "nbf" (not before) claim value',mn,{claims:s,now:w,tolerance:n,claim:"nbf"})}if(s.aud!==void 0&&typeof s.aud!="string"&&!Array.isArray(s.aud))throw ue('unexpected JWT "aud" (audience) claim type',Oe,{claims:s});return{header:o,claims:s,jwt:e}}function Ls(e,t,r,n){if(e!==void 0){if(typeof e=="string"?n.alg!==e:!e.includes(n.alg))throw ue('unexpected JWT "alg" header parameter',Oe,{header:n,expected:e,reason:"client configuration"});return}if(Array.isArray(t)){if(!t.includes(n.alg))throw ue('unexpected JWT "alg" header parameter',Oe,{header:n,expected:t,reason:"authorization server metadata"});return}if(r!==void 0){if(typeof r=="string"?n.alg!==r:typeof r=="function"?!r(n.alg):!r.includes(n.alg))throw ue('unexpected JWT "alg" header parameter',Oe,{header:n,expected:r,reason:"default value"});return}throw ue('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:e,issuer:t,fallback:r})}function Gt(e,t){let{0:r,length:n}=e.getAll(t);if(n>1)throw ue(`"${t}" parameter must be provided only once`,Oe);return r}let Ms=Symbol(),Hl=Symbol();async function Ri(e,t=bs){let r;try{r=await e.json()}catch(n){throw t(e),ue('failed to parse "response" body as JSON',xi,n)}if(!un(r))throw ue('"response" body must be a top level object',Oe,{body:r});return r}let Hs=Symbol(),Wl=Symbol();async function wn(e,t,r){let{cookies:n,logger:i}=r,o=n[e],s=new Date;s.setTime(s.getTime()+9e5),i.debug(`CREATE_${e.toUpperCase()}`,{name:o.name,payload:t,COOKIE_TTL:900,expires:s});let c=await Fr({...r.jwt,maxAge:900,token:{value:t},salt:o.name}),p={...o.options,expires:s};return{name:o.name,value:c,options:p}}async function Ws(e,t,r){try{let{logger:n,cookies:i,jwt:o}=r;if(n.debug(`PARSE_${e.toUpperCase()}`,{cookie:t}),!t)throw new rr(`${e} cookie was missing`);let s=await Gr({...o,token:t,salt:i[e].name});if(s?.value)return s.value;throw Error("Invalid cookie")}catch(n){throw new rr(`${e} value could not be parsed`,{cause:n})}}function Ks(e,t,r){let{logger:n,cookies:i}=t,o=i[e];n.debug(`CLEAR_${e.toUpperCase()}`,{cookie:o}),r.push({name:o.name,value:"",options:{...i[e].options,maxAge:0}})}function Ci(e,t){return async function(r,n,i){let{provider:o,logger:s}=i;if(!o?.checks?.includes(e))return;let c=r?.[i.cookies[t].name];s.debug(`USE_${t.toUpperCase()}`,{value:c});let p=await Ws(t,c,i);return Ks(t,i,n),p}}let qs={async create(e){let t=pn(),r=await ol(t);return{cookie:await wn("pkceCodeVerifier",t,e),value:r}},use:Ci("pkce","pkceCodeVerifier")},Bs="encodedState",Ti={async create(e,t){let{provider:r}=e;if(!r.checks.includes("state")){if(t)throw new rr("State data was provided but the provider is not configured to use state");return}let n={origin:t,random:pn()},i=await Fr({secret:e.jwt.secret,token:n,salt:Bs,maxAge:900});return{cookie:await wn("state",i,e),value:i}},use:Ci("state","state"),async decode(e,t){try{t.logger.debug("DECODE_STATE",{state:e});let r=await Gr({secret:t.jwt.secret,token:e,salt:Bs});if(r)return r;throw Error("Invalid state")}catch(r){throw new rr("State could not be decoded",{cause:r})}}},Js={async create(e){if(!e.provider.checks.includes("nonce"))return;let t=pn();return{cookie:await wn("nonce",t,e),value:t}},use:Ci("nonce","nonce")},Vs="encodedWebauthnChallenge",vn={create:async(e,t,r)=>({cookie:await wn("webauthnChallenge",await Fr({secret:e.jwt.secret,token:{challenge:t,registerData:r},salt:Vs,maxAge:900}),e)}),async use(e,t,r){let n=t?.[e.cookies.webauthnChallenge.name],i=await Ws("webauthnChallenge",n,e),o=await Gr({secret:e.jwt.secret,token:i,salt:Vs});if(Ks("webauthnChallenge",e,r),!o)throw new rr("WebAuthn challenge was missing");return o}};function zs(e){return encodeURIComponent(e).replace(/%20/g,"+")}async function Kl(e,t,r){let n,i,o,{logger:s,provider:c}=r,{token:p,userinfo:g}=c;if(p?.url&&p.url.host!=="authjs.dev"||g?.url&&g.url.host!=="authjs.dev")n={issuer:c.issuer??"https://authjs.dev",token_endpoint:p?.url.toString(),userinfo_endpoint:g?.url.toString()};else{let m=new URL(c.issuer),T=await wi(m,{[Rt]:!0,[Ct]:c[kt]});if(!(n=await vi(m,T)).token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!n.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.")}let w={client_id:c.clientId,...c.client};switch(w.token_endpoint_auth_method){case void 0:case"client_secret_basic":i=(m,T,P,H)=>{H.set("authorization",function(V,te){let F=zs(V),z=zs(te);return`Basic ${btoa(`${F}:${z}`)}`}(c.clientId,c.clientSecret))};break;case"client_secret_post":var d;Fe(d=c.clientSecret,'"clientSecret"'),i=(m,T,P,H)=>{P.set("client_id",T.client_id),P.set("client_secret",d)};break;case"client_secret_jwt":i=function(m,T){let P;Fe(m,'"clientSecret"');let H;return async(V,te,F,z)=>{P||=await crypto.subtle.importKey("raw",yt(m),{hash:"SHA-256",name:"HMAC"},!1,["sign"]);let ae={alg:"HS256"},de=Es(V,te);H?.(ae,de);let re=`${wt(yt(JSON.stringify(ae)))}.${wt(yt(JSON.stringify(de)))}`,G=await crypto.subtle.sign(P.algorithm,P,yt(re));F.set("client_id",te.client_id),F.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),F.set("client_assertion",`${re}.${wt(new Uint8Array(G))}`)}}(c.clientSecret);break;case"private_key_jwt":i=function(m,T){let{key:P,kid:H}=m instanceof CryptoKey?{key:m}:m?.key instanceof CryptoKey?(m.kid!==void 0&&Fe(m.kid,'"kid"'),{key:m.key,kid:m.kid}):{};var V='"clientPrivateKey.key"';if(!(P instanceof CryptoKey))throw $e(`${V} must be a CryptoKey`,nt);if(P.type!=="private")throw $e(`${V} must be a private CryptoKey`,st);return async(te,F,z,ae)=>{let de={alg:function(G){switch(G.algorithm.name){case"RSA-PSS":switch(G.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new lt("unsupported RsaHashedKeyAlgorithm hash name",{cause:G})}case"RSASSA-PKCS1-v1_5":switch(G.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new lt("unsupported RsaHashedKeyAlgorithm hash name",{cause:G})}case"ECDSA":switch(G.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new lt("unsupported EcKeyAlgorithm namedCurve",{cause:G})}case"Ed25519":case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return G.algorithm.name;case"EdDSA":return"Ed25519";default:throw new lt("unsupported CryptoKey algorithm name",{cause:G})}}(P),kid:H},re=Es(te,F);T?.[vs]?.(de,re),z.set("client_id",F.client_id),z.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),z.set("client_assertion",await sl(de,re,P))}}(c.token.clientPrivateKey,{[vs](m,T){T.aud=[n.issuer,n.token_endpoint]}});break;case"none":i=(m,T,P,H)=>{P.set("client_id",T.client_id)};break;default:throw Error("unsupported client authentication method")}let k=[],S=await Ti.use(t,k,r);try{o=function(m,T,P,H){var V;if(Or(m),Ir(T),P instanceof URL&&(P=P.searchParams),!(P instanceof URLSearchParams))throw $e('"parameters" must be an instance of URLSearchParams, or URL',nt);if(Gt(P,"response"))throw ue('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',Oe,{parameters:P});let te=Gt(P,"iss"),F=Gt(P,"state");if(!te&&m.authorization_response_iss_parameter_supported)throw ue('response parameter "iss" (issuer) missing',Oe,{parameters:P});if(te&&te!==m.issuer)throw ue('unexpected "iss" (issuer) response parameter value',Oe,{expected:m.issuer,parameters:P});switch(H){case void 0:case Hl:if(F!==void 0)throw ue('unexpected "state" response parameter encountered',Oe,{expected:void 0,parameters:P});break;case Ms:break;default:if(Fe(H,'"expectedState" argument'),F!==H)throw ue(F===void 0?'response parameter "state" missing':'unexpected "state" response parameter value',Oe,{expected:H,parameters:P})}if(Gt(P,"error"))throw new xs("authorization response from the server is an error",{cause:P});let z=Gt(P,"id_token"),ae=Gt(P,"token");if(z!==void 0||ae!==void 0)throw new lt("implicit and hybrid flows are not supported");return V=new URLSearchParams(P),Ei.add(V),V}(n,w,new URLSearchParams(e),c.checks.includes("state")?S:Ms)}catch(m){if(m instanceof xs){let T={providerId:c.id,...Object.fromEntries(m.cause.entries())};throw s.debug("OAuthCallbackError",T),new $n("OAuth Provider returned an error",T)}throw m}let L=await qs.use(t,k,r),U=c.callbackUrl;!r.isOnRedirectProxy&&c.redirectProxyUrl&&(U=c.redirectProxyUrl);let j=await kl(n,w,i,o,U,L??"decoy",{[Rt]:!0,[Ct]:(...m)=>(c.checks.includes("pkce")||m[1].body.delete("code_verifier"),(c[kt]??fetch)(...m))});c.token?.conform&&(j=await c.token.conform(j.clone())??j);let J={},W=c.type==="oidc";if(c[Yo])switch(c.id){case"microsoft-entra-id":case"azure-ad":{let m=await j.clone().json();if(m.error){let P={providerId:c.id,...m};throw new $n(`OAuth Provider returned an error: ${m.error}`,P)}let{tid:T}=function(P){let H,V;if(typeof P!="string")throw new Ut("JWTs must use Compact JWS serialization, JWT must be a string");let{1:te,length:F}=P.split(".");if(F===5)throw new Ut("Only JWTs using Compact JWS serialization can be decoded");if(F!==3)throw new Ut("Invalid JWT");if(!te)throw new Ut("JWTs must contain a payload");try{H=rt(te)}catch{throw new Ut("Failed to base64url decode the payload")}try{V=JSON.parse(nr.decode(H))}catch{throw new Ut("Failed to parse the decoded payload as JSON")}if(!St(V))throw new Ut("Invalid JWT Claims Set");return V}(m.id_token);if(typeof T=="string"){let P=n.issuer?.match(/microsoftonline\.com\/(\w+)\/v2\.0/)?.[1]??"common",H=new URL(n.issuer.replace(P,T)),V=await wi(H,{[Ct]:c[kt]});n=await vi(H,V)}}}let C=await Rl(n,w,j,{expectedNonce:await Js.use(t,k,r),requireIdToken:W});if(W){let m=bi(C);if(J=m,c[Yo]&&c.id==="apple")try{J.user=JSON.parse(e?.user)}catch{}if(c.idToken===!1){let T=await Rs(n,w,C.access_token,{[Ct]:c[kt],[Rt]:!0});J=await wl(n,w,m.sub,T)}}else if(g?.request){let m=await g.request({tokens:C,provider:c});m instanceof Object&&(J=m)}else if(g?.url)J=await(await Rs(n,w,C.access_token,{[Ct]:c[kt],[Rt]:!0})).json();else throw TypeError("No userinfo endpoint configured");return C.expires_in&&(C.expires_at=Math.floor(Date.now()/1e3)+Number(C.expires_in)),{...await ql(J,c,C,s),profile:J,cookies:k}}async function ql(e,t,r,n){try{let i=await t.profile(e,r);return{user:{...i,id:crypto.randomUUID(),email:i.email?.toLowerCase()},account:{...r,provider:t.id,type:t.type,providerAccountId:i.id??crypto.randomUUID()}}}catch(i){n.debug("getProfile error details",e),n.error(new ao(i,{provider:t.id}))}}var Fs=N(5356).Buffer;async function Bl(e,t,r,n){let i=await Gl(e,t,r),{cookie:o}=await vn.create(e,i.challenge,r);return{status:200,cookies:[...n??[],o],body:{action:"register",options:i},headers:{"Content-Type":"application/json"}}}async function Jl(e,t,r,n){let i=await Fl(e,t,r),{cookie:o}=await vn.create(e,i.challenge);return{status:200,cookies:[...n??[],o],body:{action:"authenticate",options:i},headers:{"Content-Type":"application/json"}}}async function Vl(e,t,r){let n,{adapter:i,provider:o}=e,s=t.body&&typeof t.body.data=="string"?JSON.parse(t.body.data):void 0;if(!s||typeof s!="object"||!("id"in s)||typeof s.id!="string")throw new _e("Invalid WebAuthn Authentication response");let c=_n(Nr(s.id)),p=await i.getAuthenticator(c);if(!p)throw new _e(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:c})}`);let{challenge:g}=await vn.use(e,t.cookies,r);try{var w;let U=o.getRelayingParty(e,t);n=await o.simpleWebAuthn.verifyAuthenticationResponse({...o.verifyAuthenticationOptions,expectedChallenge:g,response:s,authenticator:{...w=p,credentialDeviceType:w.credentialDeviceType,transports:Pi(w.transports),credentialID:Nr(w.credentialID),credentialPublicKey:Nr(w.credentialPublicKey)},expectedOrigin:U.origin,expectedRPID:U.id})}catch(U){throw new _r(U)}let{verified:d,authenticationInfo:k}=n;if(!d)throw new _r("WebAuthn authentication response could not be verified");try{let{newCounter:U}=k;await i.updateAuthenticatorCounter(p.credentialID,U)}catch(U){throw new Nn(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:c,oldCounter:p.counter,newCounter:k.newCounter})}`,U)}let S=await i.getAccount(p.providerAccountId,o.id);if(!S)throw new _e(`WebAuthn account not found in database: ${JSON.stringify({credentialID:c,providerAccountId:p.providerAccountId})}`);let L=await i.getUser(S.userId);if(!L)throw new _e(`WebAuthn user not found in database: ${JSON.stringify({credentialID:c,providerAccountId:p.providerAccountId,userID:S.userId})}`);return{account:S,user:L}}async function zl(e,t,r){var n;let i,{provider:o}=e,s=t.body&&typeof t.body.data=="string"?JSON.parse(t.body.data):void 0;if(!s||typeof s!="object"||!("id"in s)||typeof s.id!="string")throw new _e("Invalid WebAuthn Registration response");let{challenge:c,registerData:p}=await vn.use(e,t.cookies,r);if(!p)throw new _e("Missing user registration data in WebAuthn challenge cookie");try{let d=o.getRelayingParty(e,t);i=await o.simpleWebAuthn.verifyRegistrationResponse({...o.verifyRegistrationOptions,expectedChallenge:c,response:s,expectedOrigin:d.origin,expectedRPID:d.id})}catch(d){throw new _r(d)}if(!i.verified||!i.registrationInfo)throw new _r("WebAuthn registration response could not be verified");let g={providerAccountId:_n(i.registrationInfo.credentialID),provider:e.provider.id,type:o.type},w={providerAccountId:g.providerAccountId,counter:i.registrationInfo.counter,credentialID:_n(i.registrationInfo.credentialID),credentialPublicKey:_n(i.registrationInfo.credentialPublicKey),credentialBackedUp:i.registrationInfo.credentialBackedUp,credentialDeviceType:i.registrationInfo.credentialDeviceType,transports:(n=s.response.transports,n?.join(","))};return{user:p,account:g,authenticator:w}}async function Fl(e,t,r){let{provider:n,adapter:i}=e,o=r&&r.id?await i.listAuthenticatorsByUserId(r.id):null,s=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateAuthenticationOptions({...n.authenticationOptions,rpID:s.id,allowCredentials:o?.map(c=>({id:Nr(c.credentialID),type:"public-key",transports:Pi(c.transports)}))})}async function Gl(e,t,r){let{provider:n,adapter:i}=e,o=r.id?await i.listAuthenticatorsByUserId(r.id):null,s=ti(32),c=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateRegistrationOptions({...n.registrationOptions,userID:s,userName:r.email,userDisplayName:r.name??void 0,rpID:c.id,rpName:c.name,excludeCredentials:o?.map(p=>({id:Nr(p.credentialID),type:"public-key",transports:Pi(p.transports)}))})}function Gs(e){let{provider:t,adapter:r}=e;if(!r)throw new vr("An adapter is required for the WebAuthn provider");if(!t||t.type!=="webauthn")throw new Br("Provider must be WebAuthn");return{...e,provider:t,adapter:r}}function Nr(e){return new Uint8Array(Fs.from(e,"base64"))}function _n(e){return Fs.from(e).toString("base64")}function Pi(e){return e?e.split(","):void 0}async function Xs(e,t,r,n){if(!t.provider)throw new Br("Callback route called without provider");let{query:i,body:o,method:s,headers:c}=e,{provider:p,adapter:g,url:w,callbackUrl:d,pages:k,jwt:S,events:L,callbacks:U,session:{strategy:j,maxAge:J},logger:W}=t,C=j==="jwt";try{if(p.type==="oauth"||p.type==="oidc"){let m,T=p.authorization?.url.searchParams.get("response_mode")==="form_post"?o:i;if(t.isOnRedirectProxy&&T?.state){let re=await Ti.decode(T.state,t);if(re?.origin&&new URL(re.origin).origin!==t.url.origin){let G=`${re.origin}?${new URLSearchParams(T)}`;return W.debug("Proxy redirecting to",G),{redirect:G,cookies:n}}}let P=await Kl(T,e.cookies,t);P.cookies.length&&n.push(...P.cookies),W.debug("authorization result",P);let{user:H,account:V,profile:te}=P;if(!H||!V||!te)return{redirect:`${w}/signin`,cookies:n};if(g){let{getUserByAccount:re}=g;m=await re({providerAccountId:V.providerAccountId,provider:p.id})}let F=await bn({user:m??H,account:V,profile:te},t);if(F)return{redirect:F,cookies:n};let{user:z,session:ae,isNewUser:de}=await gi(r.value,H,V,t);if(C){let re={name:z.name,email:z.email,picture:z.image,sub:z.id?.toString()},G=await U.jwt({token:re,user:z,account:V,profile:te,isNewUser:de,trigger:de?"signUp":"signIn"});if(G===null)n.push(...r.clean());else{let ne=t.cookies.sessionToken.name,le=await S.encode({...S,token:G,salt:ne}),pe=new Date;pe.setTime(pe.getTime()+1e3*J);let je=r.chunk(le,{expires:pe});n.push(...je)}}else n.push({name:t.cookies.sessionToken.name,value:ae.sessionToken,options:{...t.cookies.sessionToken.options,expires:ae.expires}});return await L.signIn?.({user:z,account:V,profile:te,isNewUser:de}),de&&k.newUser?{redirect:`${k.newUser}${k.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n}:{redirect:d,cookies:n}}if(p.type==="email"){let m=i?.token,T=i?.email;if(!m){let le=TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!m}});throw le.name="Configuration",le}let P=p.secret??t.secret,H=await g.useVerificationToken({identifier:T,token:await Xr(`${m}${P}`)}),V=!!H,te=V&&H.expires.valueOf()<Date.now();if(!V||te||T&&H.identifier!==T)throw new ho({hasInvite:V,expired:te});let{identifier:F}=H,z=await g.getUserByEmail(F)??{id:crypto.randomUUID(),email:F,emailVerified:null},ae={providerAccountId:z.email,userId:z.id,type:"email",provider:p.id},de=await bn({user:z,account:ae},t);if(de)return{redirect:de,cookies:n};let{user:re,session:G,isNewUser:ne}=await gi(r.value,z,ae,t);if(C){let le={name:re.name,email:re.email,picture:re.image,sub:re.id?.toString()},pe=await U.jwt({token:le,user:re,account:ae,isNewUser:ne,trigger:ne?"signUp":"signIn"});if(pe===null)n.push(...r.clean());else{let je=t.cookies.sessionToken.name,oe=await S.encode({...S,token:pe,salt:je}),qe=new Date;qe.setTime(qe.getTime()+1e3*J);let Ie=r.chunk(oe,{expires:qe});n.push(...Ie)}}else n.push({name:t.cookies.sessionToken.name,value:G.sessionToken,options:{...t.cookies.sessionToken.options,expires:G.expires}});return await L.signIn?.({user:re,account:ae,isNewUser:ne}),ne&&k.newUser?{redirect:`${k.newUser}${k.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n}:{redirect:d,cookies:n}}if(p.type==="credentials"&&s==="POST"){let m=o??{};Object.entries(i??{}).forEach(([F,z])=>w.searchParams.set(F,z));let T=await p.authorize(m,new Request(w,{headers:c,method:s,body:JSON.stringify(o)}));if(T)T.id=T.id?.toString()??crypto.randomUUID();else throw new jn;let P={providerAccountId:T.id,type:"credentials",provider:p.id},H=await bn({user:T,account:P,credentials:m},t);if(H)return{redirect:H,cookies:n};let V={name:T.name,email:T.email,picture:T.image,sub:T.id},te=await U.jwt({token:V,user:T,account:P,isNewUser:!1,trigger:"signIn"});if(te===null)n.push(...r.clean());else{let F=t.cookies.sessionToken.name,z=await S.encode({...S,token:te,salt:F}),ae=new Date;ae.setTime(ae.getTime()+1e3*J);let de=r.chunk(z,{expires:ae});n.push(...de)}return await L.signIn?.({user:T,account:P}),{redirect:d,cookies:n}}else if(p.type==="webauthn"&&s==="POST"){let m,T,P,H=e.body?.action;if(typeof H!="string"||H!=="authenticate"&&H!=="register")throw new _e("Invalid action parameter");let V=Gs(t);switch(H){case"authenticate":{let de=await Vl(V,e,n);m=de.user,T=de.account;break}case"register":{let de=await zl(t,e,n);m=de.user,T=de.account,P=de.authenticator}}await bn({user:m,account:T},t);let{user:te,isNewUser:F,session:z,account:ae}=await gi(r.value,m,T,t);if(!ae)throw new _e("Error creating or finding account");if(P&&te.id&&await V.adapter.createAuthenticator({...P,userId:te.id}),C){let de={name:te.name,email:te.email,picture:te.image,sub:te.id?.toString()},re=await U.jwt({token:de,user:te,account:ae,isNewUser:F,trigger:F?"signUp":"signIn"});if(re===null)n.push(...r.clean());else{let G=t.cookies.sessionToken.name,ne=await S.encode({...S,token:re,salt:G}),le=new Date;le.setTime(le.getTime()+1e3*J);let pe=r.chunk(ne,{expires:le});n.push(...pe)}}else n.push({name:t.cookies.sessionToken.name,value:z.sessionToken,options:{...t.cookies.sessionToken.options,expires:z.expires}});return await L.signIn?.({user:te,account:ae,isNewUser:F}),F&&k.newUser?{redirect:`${k.newUser}${k.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n}:{redirect:d,cookies:n}}throw new Br(`Callback for provider type (${p.type}) is not supported`)}catch(m){if(m instanceof _e)throw m;let T=new Zi(m,{provider:p.id});throw W.debug("callback route error details",{method:s,query:i,body:o}),T}}async function bn(e,t){let r,{signIn:n,redirect:i}=t.callbacks;try{r=await n(e)}catch(o){throw o instanceof _e?o:new wr(o)}if(!r)throw new wr("AccessDenied");if(typeof r=="string")return await i({url:r,baseUrl:t.url.origin})}async function Ys(e,t,r,n,i){let{adapter:o,jwt:s,events:c,callbacks:p,logger:g,session:{strategy:w,maxAge:d}}=e,k={body:null,headers:{"Content-Type":"application/json",...!n&&{"Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"}},cookies:r},S=t.value;if(!S)return k;if(w==="jwt"){try{let L=e.cookies.sessionToken.name,U=await s.decode({...s,token:S,salt:L});if(!U)throw Error("Invalid JWT");let j=await p.jwt({token:U,...n&&{trigger:"update"},session:i}),J=Ft(d);if(j!==null){let W={user:{name:j.name,email:j.email,image:j.picture},expires:J.toISOString()},C=await p.session({session:W,token:j});k.body=C;let m=await s.encode({...s,token:j,salt:L}),T=t.chunk(m,{expires:J});k.cookies?.push(...T),await c.session?.({session:C,token:j})}else k.cookies?.push(...t.clean())}catch(L){g.error(new no(L)),k.cookies?.push(...t.clean())}return k}try{let{getSessionAndUser:L,deleteSession:U,updateSession:j}=o,J=await L(S);if(J&&J.session.expires.valueOf()<Date.now()&&(await U(S),J=null),J){let{user:W,session:C}=J,m=e.session.updateAge,T=C.expires.valueOf()-1e3*d+1e3*m,P=Ft(d);T<=Date.now()&&await j({sessionToken:S,expires:P});let H=await p.session({session:{...C,user:W},user:W,newSession:i,...n?{trigger:"update"}:{}});k.body=H,k.cookies?.push({name:e.cookies.sessionToken.name,value:S,options:{...e.cookies.sessionToken.options,expires:P}}),await c.session?.({session:H})}else S&&k.cookies?.push(...t.clean())}catch(L){g.error(new co(L))}return k}async function Xl(e,t){let r,n,{logger:i,provider:o}=t,s=o.authorization?.url;if(!s||s.host==="authjs.dev"){let S=new URL(o.issuer),L=await wi(S,{[Ct]:o[kt],[Rt]:!0}),U=await vi(S,L).catch(j=>{throw!(j instanceof TypeError)||j.message!=="Invalid URL"?j:TypeError(`Discovery request responded with an invalid issuer. expected: ${S}`)});if(!U.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");s=new URL(U.authorization_endpoint)}let c=s.searchParams,p=o.callbackUrl;!t.isOnRedirectProxy&&o.redirectProxyUrl&&(p=o.redirectProxyUrl,n=o.callbackUrl,i.debug("using redirect proxy",{redirect_uri:p,data:n}));let g=Object.assign({response_type:"code",client_id:o.clientId,redirect_uri:p,...o.authorization?.params},Object.fromEntries(o.authorization?.url.searchParams??[]),e);for(let S in g)c.set(S,g[S]);let w=[];o.authorization?.url.searchParams.get("response_mode")==="form_post"&&(t.cookies.state.options.sameSite="none",t.cookies.state.options.secure=!0,t.cookies.nonce.options.sameSite="none",t.cookies.nonce.options.secure=!0);let d=await Ti.create(t,n);if(d&&(c.set("state",d.value),w.push(d.cookie)),o.checks?.includes("pkce"))if(r&&!r.code_challenge_methods_supported?.includes("S256"))o.type==="oidc"&&(o.checks=["nonce"]);else{let{value:S,cookie:L}=await qs.create(t);c.set("code_challenge",S),c.set("code_challenge_method","S256"),w.push(L)}let k=await Js.create(t);return k&&(c.set("nonce",k.value),w.push(k.cookie)),o.type!=="oidc"||s.searchParams.has("scope")||s.searchParams.set("scope","openid profile email"),i.debug("authorization url is ready",{url:s,cookies:w,provider:o}),{redirect:s.toString(),cookies:w}}async function Yl(e,t){let r,{body:n}=e,{provider:i,callbacks:o,adapter:s}=t,c=(i.normalizeIdentifier??function(C){if(!C)throw Error("Missing email from request body.");let[m,T]=C.toLowerCase().trim().split("@");return T=T.split(",")[0],`${m}@${T}`})(n?.email),p={id:crypto.randomUUID(),email:c,emailVerified:null},g=await s.getUserByEmail(c)??p,w={providerAccountId:c,userId:g.id,type:"email",provider:i.id};try{r=await o.signIn({user:g,account:w,email:{verificationRequest:!0}})}catch(C){throw new wr(C)}if(!r)throw new wr("AccessDenied");if(typeof r=="string")return{redirect:await o.redirect({url:r,baseUrl:t.url.origin})};let{callbackUrl:d,theme:k}=t,S=await i.generateVerificationToken?.()??ti(32),L=new Date(Date.now()+(i.maxAge??86400)*1e3),U=i.secret??t.secret,j=new URL(t.basePath,t.url.origin),J=i.sendVerificationRequest({identifier:c,token:S,expires:L,url:`${j}/callback/${i.id}?${new URLSearchParams({callbackUrl:d,token:S,email:c})}`,provider:i,theme:k,request:new Request(e.url,{headers:e.headers,method:e.method,body:e.method==="POST"?JSON.stringify(e.body??{}):void 0})}),W=s.createVerificationToken?.({identifier:c,token:await Xr(`${S}${U}`),expires:L});return await Promise.all([J,W]),{redirect:`${j}/verify-request?${new URLSearchParams({provider:i.id,type:i.type})}`}}async function Ql(e,t,r){let n=`${r.url.origin}${r.basePath}/signin`;if(!r.provider)return{redirect:n,cookies:t};switch(r.provider.type){case"oauth":case"oidc":{let{redirect:i,cookies:o}=await Xl(e.query,r);return o&&t.push(...o),{redirect:i,cookies:t}}case"email":return{...await Yl(e,r),cookies:t};default:return{redirect:n,cookies:t}}}async function Zl(e,t,r){let{jwt:n,events:i,callbackUrl:o,logger:s,session:c}=r,p=t.value;if(!p)return{redirect:o,cookies:e};try{if(c.strategy==="jwt"){let g=r.cookies.sessionToken.name,w=await n.decode({...n,token:p,salt:g});await i.signOut?.({token:w})}else{let g=await r.adapter?.deleteSession(p);await i.signOut?.({session:g})}}catch(g){s.error(new lo(g))}return e.push(...t.clean()),{redirect:o,cookies:e}}async function eu(e,t){let{adapter:r,jwt:n,session:{strategy:i}}=e,o=t.value;if(!o)return null;if(i==="jwt"){let s=e.cookies.sessionToken.name,c=await n.decode({...n,token:o,salt:s});if(c&&c.sub)return{id:c.sub,name:c.name,email:c.email,image:c.picture}}else{let s=await r?.getSessionAndUser(o);if(s)return s.user}return null}async function tu(e,t,r,n){let i=Gs(t),{provider:o}=i,{action:s}=e.query??{};if(s!=="register"&&s!=="authenticate"&&s!==void 0)return{status:400,body:{error:"Invalid action"},cookies:n,headers:{"Content-Type":"application/json"}};let c=await eu(t,r),p=c?{user:c,exists:!0}:await o.getUserInfo(t,e),g=p?.user;switch(function(w,d,k){let{user:S,exists:L=!1}=k??{};switch(w){case"authenticate":return"authenticate";case"register":if(S&&d===L)return"register";break;case void 0:if(!d)return S?L?"authenticate":"register":"authenticate"}return null}(s,!!c,p)){case"authenticate":return Jl(i,e,g,n);case"register":if(typeof g?.email=="string")return Bl(i,e,g,n);break;default:return{status:400,body:{error:"Invalid request"},cookies:n,headers:{"Content-Type":"application/json"}}}}async function ru(e,t){let{action:r,providerId:n,error:i,method:o}=e,s=t.skipCSRFCheck===en,{options:c,cookies:p}=await Wc({authOptions:t,action:r,providerId:n,url:e.url,callbackUrl:e.body?.callbackUrl??e.query?.callbackUrl,csrfToken:e.body?.csrfToken,cookies:e.cookies,isPost:o==="POST",csrfDisabled:s}),g=new Ha(c.cookies.sessionToken,e.cookies,c.logger);if(o==="GET"){let w=ys({...c,query:e.query,cookies:p});switch(r){case"callback":return await Xs(e,c,g,p);case"csrf":return w.csrf(s,c,p);case"error":return w.error(i);case"providers":return w.providers(c.providers);case"session":return await Ys(c,g,p);case"signin":return w.signin(n,i);case"signout":return w.signout();case"verify-request":return w.verifyRequest();case"webauthn-options":return await tu(e,c,g,p)}}else{let{csrfTokenVerified:w}=c;switch(r){case"callback":return c.provider.type==="credentials"&&Yr(r,w),await Xs(e,c,g,p);case"session":return Yr(r,w),await Ys(c,g,p,!0,e.body?.data);case"signin":return Yr(r,w),await Ql(e,p,c);case"signout":return Yr(r,w),await Zl(p,g,c)}}throw new Bt(`Cannot handle action: ${r}`)}function En(e,t,r,n,i){let o,s=i?.basePath,c=n.AUTH_URL??n.NEXTAUTH_URL;if(c)o=new URL(c),s&&s!=="/"&&o.pathname!=="/"&&(o.pathname!==s&&kr(i).warn("env-url-basepath-mismatch"),o.pathname="/");else{let g=r.get("x-forwarded-host")??r.get("host"),w=r.get("x-forwarded-proto")??t??"https",d=w.endsWith(":")?w:w+":";o=new URL(`${d}//${g}`)}let p=o.toString().replace(/\/$/,"");if(s){let g=s?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${p}/${g}/${e}`)}return new URL(`${p}/${e}`)}async function dr(e,t){let r=kr(t),n=await Dc(e,t);if(!n)return Response.json("Bad request.",{status:400});let i=function(c,p){let{url:g}=c,w=[];if(!Mn&&p.debug&&w.push("debug-enabled"),!p.trustHost)return new po(`Host must be trusted. URL was: ${c.url}`);if(!p.secret?.length)return new so("Please define a `secret`");let d=c.query?.callbackUrl;if(d&&!wo(d,g.origin))return new Un(`Invalid callback URL. Received: ${d}`);let{callbackUrl:k}=Qi(p.useSecureCookies??g.protocol==="https:"),S=c.cookies?.[p.cookies?.callbackUrl?.name??k.name];if(S&&!wo(S,g.origin))return new Un(`Invalid callback URL. Received: ${S}`);let L=!1;for(let C of p.providers){let m=typeof C=="function"?C():C;if((m.type==="oauth"||m.type==="oidc")&&!(m.issuer??m.options?.issuer)){let T,{authorization:P,token:H,userinfo:V}=m;if(typeof P=="string"||P?.url?typeof H=="string"||H?.url?typeof V=="string"||V?.url||(T="userinfo"):T="token":T="authorization",T)return new ro(`Provider "${m.id}" is missing both \`issuer\` and \`${T}\` endpoint config. At least one of them is required`)}if(m.type==="credentials")vo=!0;else if(m.type==="email")Hn=!0;else if(m.type==="webauthn"){var U;if(_o=!0,m.simpleWebAuthnBrowserVersion&&(U=m.simpleWebAuthnBrowserVersion,!/^v\d+(?:\.\d+){0,2}$/.test(U)))return new _e(`Invalid provider config for "${m.id}": simpleWebAuthnBrowserVersion "${m.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(m.enableConditionalUI){if(L)return new go("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(L=!0,!Object.values(m.formFields).some(T=>T.autocomplete&&T.autocomplete.toString().indexOf("webauthn")>-1))return new mo(`Provider "${m.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if(vo){let C=p.session?.strategy==="database",m=!p.providers.some(T=>(typeof T=="function"?T():T).type!=="credentials");if(C&&m)return new uo("Signing in with credentials only supported if JWT strategy is enabled");if(p.providers.some(T=>{let P=typeof T=="function"?T():T;return P.type==="credentials"&&!P.authorize}))return new oo("Must define an authorize() handler to use credentials authentication provider")}let{adapter:j,session:J}=p,W=[];if(Hn||J?.strategy==="database"||!J?.strategy&&j)if(Hn){if(!j)return new vr("Email login requires an adapter");W.push(...Ba)}else{if(!j)return new vr("Database session requires an adapter");W.push(...Ja)}if(_o){if(!p.experimental?.enableWebAuthn)return new yo("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(w.push("experimental-webauthn"),!j)return new vr("WebAuthn requires an adapter");W.push(...Va)}if(j){let C=W.filter(m=>!(m in j));if(C.length)return new io(`Required adapter methods were missing: ${C.join(", ")}`)}return Mn||(Mn=!0),w}(n,t);if(Array.isArray(i))i.forEach(r.warn);else if(i){if(r.error(i),!new Set(["signin","signout","error","verify-request"]).has(n.action)||n.method!=="GET")return Response.json({message:"There was a problem with the server configuration. Check the server logs for more information."},{status:500});let{pages:c,theme:p}=t,g=c?.error&&n.url.searchParams.get("callbackUrl")?.startsWith(c.error);if(!c?.error||g)return g&&r.error(new eo(`The error page ${c?.error} should not require authentication`)),Xo(ys({theme:p}).error("Configuration"));let w=`${n.url.origin}${c.error}?error=Configuration`;return Response.redirect(w)}let o=e.headers?.has("X-Auth-Return-Redirect"),s=t.raw===tn;try{let c=await ru(n,t);if(s)return c;let p=Xo(c),g=p.headers.get("Location");return!o||!g?p:Response.json({url:g},{headers:p.headers})}catch(c){r.error(c);let p=c instanceof _e;if(p&&s&&!o)throw c;if(e.method==="POST"&&n.action==="session")return Response.json(null,{status:400});let g=new URLSearchParams({error:c instanceof _e&&qa.has(c.type)?c.type:"Configuration"});c instanceof jn&&g.set("code",c.code);let w=p&&c.kind||"error",d=t.pages?.[w]??`${t.basePath}/${w.toLowerCase()}`,k=`${n.url.origin}${d}?${g}`;return o?Response.json({url:k}):Response.redirect(k)}}N(6280),typeof URLPattern>"u"||URLPattern;var pr=N(4557),Qs=N(3602),Zs=N(9801);function ea(){let e=On.getStore();return e?.rootTaskSpawnPhase==="action"}function Oi(e){let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return e;let{origin:r}=new URL(t),{href:n,origin:i}=e.nextUrl;return new Ye(n.replace(i,r),e)}function hr(e){try{e.secret??(e.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return;let{pathname:r}=new URL(t);if(r==="/")return;e.basePath||(e.basePath=r)}catch{}finally{e.basePath||(e.basePath="/api/auth"),function(t,r,n=!1){try{let i=t.AUTH_URL;i&&(r.basePath?n||kr(r).warn("env-url-basepath-redundant"):r.basePath=new URL(i).pathname)}catch{}finally{r.basePath??(r.basePath="/auth")}if(!r.secret?.length){r.secret=[];let i=t.AUTH_SECRET;for(let o of(i&&r.secret.push(i),[1,2,3])){let s=t[`AUTH_SECRET_${o}`];s&&r.secret.unshift(s)}}r.redirectProxyUrl??(r.redirectProxyUrl=t.AUTH_REDIRECT_PROXY_URL),r.trustHost??(r.trustHost=!!(t.AUTH_URL??t.AUTH_TRUST_HOST??t.VERCEL??t.CF_PAGES??t.NODE_ENV!=="production")),r.providers=r.providers.map(i=>{let{id:o}=typeof i=="function"?i({}):i,s=o.toUpperCase().replace(/-/g,"_"),c=t[`AUTH_${s}_ID`],p=t[`AUTH_${s}_SECRET`],g=t[`AUTH_${s}_ISSUER`],w=t[`AUTH_${s}_KEY`],d=typeof i=="function"?i({clientId:c,clientSecret:p,issuer:g,apiKey:w}):i;return d.type==="oauth"||d.type==="oidc"?(d.clientId??(d.clientId=c),d.clientSecret??(d.clientSecret=p),d.issuer??(d.issuer=g)):d.type==="email"&&(d.apiKey??(d.apiKey=w)),d})}(process.env,e,!0)}}var ta=N(2815);let ra={current:null},nu=typeof ta.cache=="function"?ta.cache:e=>e,na=console.warn;function Ii(e){return function(...t){na(e(...t))}}function Ni(){let e="cookies",t=_t.J.getStore(),r=gt.FP.getStore();if(t){if(r&&r.phase==="after"&&!ea())throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "cookies" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E88",enumerable:!1,configurable:!0});if(t.forceStatic)return ia(Ge.seal(new De.RequestCookies(new Headers({}))));if(r){if(r.type==="cache")throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E398",enumerable:!1,configurable:!0});if(r.type==="unstable-cache")throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E157",enumerable:!1,configurable:!0})}if(t.dynamicShouldError)throw Object.defineProperty(new Qs.f(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E549",enumerable:!1,configurable:!0});if(r)switch(r.type){case"prerender":var n=r;let o=Sn.get(n);if(o)return o;let s=(0,Zs.W)(n.renderSignal,"`cookies()`");return Sn.set(n,s),s;case"prerender-client":let c="`cookies`";throw Object.defineProperty(new Wr(`${c} must not be used within a client component. Next.js should be preventing ${c} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":(0,pr.Ui)(t.route,e,r.dynamicTracking);break;case"prerender-legacy":(0,pr.xI)(e,t,r)}(0,pr.Pk)(t,r)}let i=(0,gt.XN)(e);return ia(xe(i)?i.userspaceMutableCookies:i.cookies)}nu(e=>{try{na(ra.current)}finally{ra.current=null}});let Sn=new WeakMap;function ia(e){let t=Sn.get(e);if(t)return t;let r=Promise.resolve(e);return Sn.set(e,r),Object.defineProperties(r,{[Symbol.iterator]:{value:e[Symbol.iterator]?e[Symbol.iterator].bind(e):iu.bind(e)},size:{get:()=>e.size},get:{value:e.get.bind(e)},getAll:{value:e.getAll.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},delete:{value:e.delete.bind(e)},clear:{value:typeof e.clear=="function"?e.clear.bind(e):ou.bind(e,r)},toString:{value:e.toString.bind(e)}}),r}function iu(){return this.getAll().map(e=>[e.name,e]).values()}function ou(e){for(let t of this.getAll())this.delete(t.name);return e}function Ur(){let e=_t.J.getStore(),t=gt.FP.getStore();if(e){if(t&&t.phase==="after"&&!ea())throw Object.defineProperty(Error(`Route ${e.route} used "headers" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "headers" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E367",enumerable:!1,configurable:!0});if(e.forceStatic)return oa(Ze.seal(new Headers({})));if(t){if(t.type==="cache")throw Object.defineProperty(Error(`Route ${e.route} used "headers" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E304",enumerable:!1,configurable:!0});if(t.type==="unstable-cache")throw Object.defineProperty(Error(`Route ${e.route} used "headers" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E127",enumerable:!1,configurable:!0})}if(e.dynamicShouldError)throw Object.defineProperty(new Qs.f(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E525",enumerable:!1,configurable:!0});if(t)switch(t.type){case"prerender":var r=t;let n=kn.get(r);if(n)return n;let i=(0,Zs.W)(r.renderSignal,"`headers()`");return kn.set(r,i),i;case"prerender-client":let o="`headers`";throw Object.defineProperty(new Wr(`${o} must not be used within a client component. Next.js should be preventing ${o} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":(0,pr.Ui)(e.route,"headers",t.dynamicTracking);break;case"prerender-legacy":(0,pr.xI)("headers",e,t)}(0,pr.Pk)(e,t)}return oa((0,gt.XN)("headers").headers)}Ii(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E223",enumerable:!1,configurable:!0})});let kn=new WeakMap;function oa(e){let t=kn.get(e);if(t)return t;let r=Promise.resolve(e);return kn.set(e,r),Object.defineProperties(r,{append:{value:e.append.bind(e)},delete:{value:e.delete.bind(e)},get:{value:e.get.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},getSetCookie:{value:e.getSetCookie.bind(e)},forEach:{value:e.forEach.bind(e)},keys:{value:e.keys.bind(e)},values:{value:e.values.bind(e)},entries:{value:e.entries.bind(e)},[Symbol.iterator]:{value:e[Symbol.iterator].bind(e)}}),r}async function jr(e,t){return dr(new Request(En("session",e.get("x-forwarded-proto"),e,process.env,t),{headers:{cookie:e.get("cookie")??""}}),{...t,callbacks:{...t.callbacks,async session(...r){let n=await t.callbacks?.session?.(...r)??{...r[0].session,expires:r[0].session.expires?.toISOString?.()??r[0].session.expires};return{user:r[0].user??r[0].token,...n}}}})}function sa(e){return typeof e=="function"}function aa(e,t){return typeof e=="function"?async(...r)=>{if(!r.length){let s=await Ur(),c=await e(void 0);return t?.(c),jr(s,c).then(p=>p.json())}if(r[0]instanceof Request){let s=r[0],c=r[1],p=await e(s);return t?.(p),xn([s,c],p)}if(sa(r[0])){let s=r[0];return async(...c)=>{let p=await e(c[0]);return t?.(p),xn(c,p,s)}}let n="req"in r[0]?r[0].req:r[0],i="res"in r[0]?r[0].res:r[1],o=await e(n);return t?.(o),jr(new Headers(n.headers),o).then(async s=>{let c=await s.json();for(let p of s.headers.getSetCookie())"headers"in i?i.headers.append("set-cookie",p):i.appendHeader("set-cookie",p);return c})}:(...r)=>{if(!r.length)return Promise.resolve(Ur()).then(o=>jr(o,e).then(s=>s.json()));if(r[0]instanceof Request)return xn([r[0],r[1]],e);if(sa(r[0])){let o=r[0];return async(...s)=>xn(s,e,o).then(c=>c)}let n="req"in r[0]?r[0].req:r[0],i="res"in r[0]?r[0].res:r[1];return jr(new Headers(n.headers),e).then(async o=>{let s=await o.json();for(let c of o.headers.getSetCookie())"headers"in i?i.headers.append("set-cookie",c):i.appendHeader("set-cookie",c);return s})}}async function xn(e,t,r){let n=Oi(e[0]),i=await jr(n.headers,t),o=await i.json(),s=!0;t.callbacks?.authorized&&(s=await t.callbacks.authorized({request:n,auth:o}));let c=ut.next?.();if(s instanceof Response){c=s;let g=s.headers.get("Location"),{pathname:w}=n.nextUrl;g&&function(d,k,S){let L=k.replace(`${d}/`,""),U=Object.values(S.pages??{});return(su.has(L)||U.includes(k))&&k===d}(w,new URL(g).pathname,t)&&(s=!0)}else if(r)n.auth=o,c=await r(n,e[1])??ut.next();else if(!s){let g=t.pages?.signIn??`${t.basePath}/signin`;if(n.nextUrl.pathname!==g){let w=n.nextUrl.clone();w.pathname=g,w.searchParams.set("callbackUrl",n.nextUrl.href),c=ut.redirect(w)}}let p=new Response(c?.body,c);for(let g of i.headers.getSetCookie())p.headers.append("set-cookie",g);return p}Ii(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E277",enumerable:!1,configurable:!0})}),N(5016),Ii(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`draftMode()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E377",enumerable:!1,configurable:!0})});let su=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);var ca=N(8821),An=N(7167);let la=N(3461).s;function Rn(e,t){var r;throw t!=null||(t=!(la==null||(r=la.getStore())==null)&&r.isAction?An.zB.push:An.zB.replace),function(n,i,o){o===void 0&&(o=ca.Q.TemporaryRedirect);let s=Object.defineProperty(Error(An.oJ),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return s.digest=An.oJ+";"+i+";"+n+";"+o+";",s}(e,t,ca.Q.TemporaryRedirect)}var Ui=N(9159);async function ua(e,t={},r,n){let i=new Headers(await Ur()),{redirect:o=!0,redirectTo:s,...c}=t instanceof FormData?Object.fromEntries(t):t,p=s?.toString()??i.get("Referer")??"/",g=En("signin",i.get("x-forwarded-proto"),i,process.env,n);if(!e)return g.searchParams.append("callbackUrl",p),o&&Rn(g.toString()),g.toString();let w=`${g}/${e}?${new URLSearchParams(r)}`,d={};for(let j of n.providers){let{options:J,...W}=typeof j=="function"?j():j,C=J?.id??W.id;if(C===e){d={id:C,type:J?.type??W.type};break}}if(!d.id){let j=`${g}?${new URLSearchParams({callbackUrl:p})}`;return o&&Rn(j),j}d.type==="credentials"&&(w=w.replace("signin","callback")),i.set("Content-Type","application/x-www-form-urlencoded");let k=new Request(w,{method:"POST",headers:i,body:new URLSearchParams({...c,callbackUrl:p})}),S=await dr(k,{...n,raw:tn,skipCSRFCheck:en}),L=await Ni();for(let j of S?.cookies??[])L.set(j.name,j.value,j.options);let U=(S instanceof Response?S.headers.get("Location"):S.redirect)??w;return o?Rn(U):U}async function da(e,t){let r=new Headers(await Ur());r.set("Content-Type","application/x-www-form-urlencoded");let n=En("signout",r.get("x-forwarded-proto"),r,process.env,t),i=new URLSearchParams({callbackUrl:e?.redirectTo??r.get("Referer")??"/"}),o=new Request(n,{method:"POST",headers:r,body:i}),s=await dr(o,{...t,raw:tn,skipCSRFCheck:en}),c=await Ni();for(let p of s?.cookies??[])c.set(p.name,p.value,p.options);return e?.redirect??!0?Rn(s.redirect):s}async function pa(e,t){let r=new Headers(await Ur());r.set("Content-Type","application/json");let n=new Request(En("session",r.get("x-forwarded-proto"),r,process.env,t),{method:"POST",headers:r,body:JSON.stringify({data:e})}),i=await dr(n,{...t,raw:tn,skipCSRFCheck:en}),o=await Ni();for(let s of i?.cookies??[])o.set(s.name,s.value,s.options);return i.body}Ui.s8,Ui.s8,Ui.s8,N(9792).X;let{handlers:Eu,signIn:Su,signOut:ku,auth:au}=function(e){if(typeof e=="function"){let r=async n=>{let i=await e(n);return hr(i),dr(Oi(n),i)};return{handlers:{GET:r,POST:r},auth:aa(e,n=>hr(n)),signIn:async(n,i,o)=>{let s=await e(void 0);return hr(s),ua(n,i,o,s)},signOut:async n=>{let i=await e(void 0);return hr(i),da(n,i)},unstable_update:async n=>{let i=await e(void 0);return hr(i),pa(n,i)}}}hr(e);let t=r=>dr(Oi(r),e);return{handlers:{GET:t,POST:t},auth:aa(e),signIn:(r,n,i)=>ua(r,n,i,e),signOut:r=>da(r,e),unstable_update:r=>pa(r,e)}}({providers:[{id:"google",name:"Google",type:"oidc",issuer:"https://accounts.google.com",style:{brandColor:"#1a73e8"},options:{clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET}}],callbacks:{signIn:async({user:e,account:t,profile:r})=>!0},pages:{signIn:"/login"}}),cu={matcher:["/dashboard/:path*"]};N(6199);let ha={...u},fa=ha.middleware||ha.default,ga="/middleware";if(typeof fa!="function")throw Object.defineProperty(Error(`The Middleware "${ga}" must export a \`middleware\` or a \`default\` function`),"__NEXT_ERROR_CODE",{value:"E120",enumerable:!1,configurable:!0});function lu(e){return Ma({...e,page:ga,handler:async(...t)=>{try{return await fa(...t)}catch(r){let n=t[0],i=new URL(n.url),o=i.pathname+i.search;throw await a(r,{path:o,method:n.method,headers:Object.fromEntries(n.headers.entries())},{routerKind:"Pages Router",routePath:"/middleware",routeType:"middleware",revalidateReason:void 0}),r}}})}},1802:ve=>{(()=>{"use strict";var X={993:M=>{var I=Object.prototype.hasOwnProperty,R="~";function l(){}function u(a,f,v){this.fn=a,this.context=f,this.once=v||!1}function x(a,f,v,h,b){if(typeof v!="function")throw TypeError("The listener must be a function");var _=new u(v,h||a,b),E=R?R+f:f;return a._events[E]?a._events[E].fn?a._events[E]=[a._events[E],_]:a._events[E].push(_):(a._events[E]=_,a._eventsCount++),a}function A(a,f){--a._eventsCount==0?a._events=new l:delete a._events[f]}function y(){this._events=new l,this._eventsCount=0}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(R=!1)),y.prototype.eventNames=function(){var a,f,v=[];if(this._eventsCount===0)return v;for(f in a=this._events)I.call(a,f)&&v.push(R?f.slice(1):f);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(a)):v},y.prototype.listeners=function(a){var f=R?R+a:a,v=this._events[f];if(!v)return[];if(v.fn)return[v.fn];for(var h=0,b=v.length,_=Array(b);h<b;h++)_[h]=v[h].fn;return _},y.prototype.listenerCount=function(a){var f=R?R+a:a,v=this._events[f];return v?v.fn?1:v.length:0},y.prototype.emit=function(a,f,v,h,b,_){var E=R?R+a:a;if(!this._events[E])return!1;var O,$,q=this._events[E],Q=arguments.length;if(q.fn){switch(q.once&&this.removeListener(a,q.fn,void 0,!0),Q){case 1:return q.fn.call(q.context),!0;case 2:return q.fn.call(q.context,f),!0;case 3:return q.fn.call(q.context,f,v),!0;case 4:return q.fn.call(q.context,f,v,h),!0;case 5:return q.fn.call(q.context,f,v,h,b),!0;case 6:return q.fn.call(q.context,f,v,h,b,_),!0}for($=1,O=Array(Q-1);$<Q;$++)O[$-1]=arguments[$];q.fn.apply(q.context,O)}else{var ie,ye=q.length;for($=0;$<ye;$++)switch(q[$].once&&this.removeListener(a,q[$].fn,void 0,!0),Q){case 1:q[$].fn.call(q[$].context);break;case 2:q[$].fn.call(q[$].context,f);break;case 3:q[$].fn.call(q[$].context,f,v);break;case 4:q[$].fn.call(q[$].context,f,v,h);break;default:if(!O)for(ie=1,O=Array(Q-1);ie<Q;ie++)O[ie-1]=arguments[ie];q[$].fn.apply(q[$].context,O)}}return!0},y.prototype.on=function(a,f,v){return x(this,a,f,v,!1)},y.prototype.once=function(a,f,v){return x(this,a,f,v,!0)},y.prototype.removeListener=function(a,f,v,h){var b=R?R+a:a;if(!this._events[b])return this;if(!f)return A(this,b),this;var _=this._events[b];if(_.fn)_.fn!==f||h&&!_.once||v&&_.context!==v||A(this,b);else{for(var E=0,O=[],$=_.length;E<$;E++)(_[E].fn!==f||h&&!_[E].once||v&&_[E].context!==v)&&O.push(_[E]);O.length?this._events[b]=O.length===1?O[0]:O:A(this,b)}return this},y.prototype.removeAllListeners=function(a){var f;return a?(f=R?R+a:a,this._events[f]&&A(this,f)):(this._events=new l,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prefixed=R,y.EventEmitter=y,M.exports=y},213:M=>{M.exports=(I,R)=>(R=R||(()=>{}),I.then(l=>new Promise(u=>{u(R())}).then(()=>l),l=>new Promise(u=>{u(R())}).then(()=>{throw l})))},574:(M,I)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.default=function(R,l,u){let x=0,A=R.length;for(;A>0;){let y=A/2|0,a=x+y;0>=u(R[a],l)?(x=++a,A-=y+1):A=y}return x}},821:(M,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0});let l=R(574);class u{constructor(){this._queue=[]}enqueue(A,y){let a={priority:(y=Object.assign({priority:0},y)).priority,run:A};if(this.size&&this._queue[this.size-1].priority>=y.priority)return void this._queue.push(a);let f=l.default(this._queue,a,(v,h)=>h.priority-v.priority);this._queue.splice(f,0,a)}dequeue(){let A=this._queue.shift();return A?.run}filter(A){return this._queue.filter(y=>y.priority===A.priority).map(y=>y.run)}get size(){return this._queue.length}}I.default=u},816:(M,I,R)=>{let l=R(213);class u extends Error{constructor(y){super(y),this.name="TimeoutError"}}let x=(A,y,a)=>new Promise((f,v)=>{if(typeof y!="number"||y<0)throw TypeError("Expected `milliseconds` to be a positive number");if(y===1/0)return void f(A);let h=setTimeout(()=>{if(typeof a=="function"){try{f(a())}catch(E){v(E)}return}let b=typeof a=="string"?a:`Promise timed out after ${y} milliseconds`,_=a instanceof Error?a:new u(b);typeof A.cancel=="function"&&A.cancel(),v(_)},y);l(A.then(f,v),()=>{clearTimeout(h)})});M.exports=x,M.exports.default=x,M.exports.TimeoutError=u}},N={};function K(M){var I=N[M];if(I!==void 0)return I.exports;var R=N[M]={exports:{}},l=!0;try{X[M](R,R.exports,K),l=!1}finally{l&&delete N[M]}return R.exports}K.ab="//";var Y={};(()=>{Object.defineProperty(Y,"__esModule",{value:!0});let M=K(993),I=K(816),R=K(821),l=()=>{},u=new I.TimeoutError;class x extends M{constructor(y){var a,f,v,h;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=l,this._resolveIdle=l,!(typeof(y=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:R.default},y)).intervalCap=="number"&&y.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(f=(a=y.intervalCap)==null?void 0:a.toString())!=null?f:""}\` (${typeof y.intervalCap})`);if(y.interval===void 0||!(Number.isFinite(y.interval)&&y.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(h=(v=y.interval)==null?void 0:v.toString())!=null?h:""}\` (${typeof y.interval})`);this._carryoverConcurrencyCount=y.carryoverConcurrencyCount,this._isIntervalIgnored=y.intervalCap===1/0||y.interval===0,this._intervalCap=y.intervalCap,this._interval=y.interval,this._queue=new y.queueClass,this._queueClass=y.queueClass,this.concurrency=y.concurrency,this._timeout=y.timeout,this._throwOnTimeout=y.throwOnTimeout===!0,this._isPaused=y.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=l,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=l,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let y=Date.now();if(this._intervalId===void 0){let a=this._intervalEnd-y;if(!(a<0))return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},a)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let y=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let a=this._queue.dequeue();return!!a&&(this.emit("active"),a(),y&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(y){if(!(typeof y=="number"&&y>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${y}\` (${typeof y})`);this._concurrency=y,this._processQueue()}async add(y,a={}){return new Promise((f,v)=>{let h=async()=>{this._pendingCount++,this._intervalCount++;try{let b=this._timeout===void 0&&a.timeout===void 0?y():I.default(Promise.resolve(y()),a.timeout===void 0?this._timeout:a.timeout,()=>{(a.throwOnTimeout===void 0?this._throwOnTimeout:a.throwOnTimeout)&&v(u)});f(await b)}catch(b){v(b)}this._next()};this._queue.enqueue(h,a),this._tryToStartAnother(),this.emit("add")})}async addAll(y,a){return Promise.all(y.map(async f=>this.add(f,a)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(y=>{let a=this._resolveEmpty;this._resolveEmpty=()=>{a(),y()}})}async onIdle(){if(this._pendingCount!==0||this._queue.size!==0)return new Promise(y=>{let a=this._resolveIdle;this._resolveIdle=()=>{a(),y()}})}get size(){return this._queue.size}sizeBy(y){return this._queue.filter(y).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(y){this._timeout=y}}Y.default=x})(),ve.exports=Y})()},2058:yu,2223:mu,2615:gu,2815:(ve,X,N)=>{"use strict";ve.exports=N(7035)},2905:(ve,X,N)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),function(R,l){for(var u in l)Object.defineProperty(R,u,{enumerable:!0,get:l[u]})}(X,{interceptTestApis:function(){return M},wrapRequestHandler:function(){return I}});let K=N(5201),Y=N(1552);function M(){return(0,Y.interceptFetch)(N.g.fetch)}function I(R){return(l,u)=>(0,K.withRequest)(l,Y.reader,()=>R(l,u))}},3461:(ve,X,N)=>{"use strict";N.d(X,{s:()=>K.J});var K=N(2615)},3602:(ve,X,N)=>{"use strict";N.d(X,{f:()=>K});class K extends Error{constructor(...M){super(...M),this.code="NEXT_STATIC_GEN_BAILOUT"}}},3956:(ve,X,N)=>{(()=>{"use strict";var K={491:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ContextAPI=void 0;let x=u(223),A=u(172),y=u(930),a="context",f=new x.NoopContextManager;class v{constructor(){}static getInstance(){return this._instance||(this._instance=new v),this._instance}setGlobalContextManager(b){return(0,A.registerGlobal)(a,b,y.DiagAPI.instance())}active(){return this._getContextManager().active()}with(b,_,E,...O){return this._getContextManager().with(b,_,E,...O)}bind(b,_){return this._getContextManager().bind(b,_)}_getContextManager(){return(0,A.getGlobal)(a)||f}disable(){this._getContextManager().disable(),(0,A.unregisterGlobal)(a,y.DiagAPI.instance())}}l.ContextAPI=v},930:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DiagAPI=void 0;let x=u(56),A=u(912),y=u(957),a=u(172);class f{constructor(){function h(_){return function(...E){let O=(0,a.getGlobal)("diag");if(O)return O[_](...E)}}let b=this;b.setLogger=(_,E={logLevel:y.DiagLogLevel.INFO})=>{var O,$,q;if(_===b){let ye=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return b.error((O=ye.stack)!=null?O:ye.message),!1}typeof E=="number"&&(E={logLevel:E});let Q=(0,a.getGlobal)("diag"),ie=(0,A.createLogLevelDiagLogger)(($=E.logLevel)!=null?$:y.DiagLogLevel.INFO,_);if(Q&&!E.suppressOverrideMessage){let ye=(q=Error().stack)!=null?q:"<failed to generate stacktrace>";Q.warn(`Current logger will be overwritten from ${ye}`),ie.warn(`Current logger will overwrite one already registered from ${ye}`)}return(0,a.registerGlobal)("diag",ie,b,!0)},b.disable=()=>{(0,a.unregisterGlobal)("diag",b)},b.createComponentLogger=_=>new x.DiagComponentLogger(_),b.verbose=h("verbose"),b.debug=h("debug"),b.info=h("info"),b.warn=h("warn"),b.error=h("error")}static instance(){return this._instance||(this._instance=new f),this._instance}}l.DiagAPI=f},653:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.MetricsAPI=void 0;let x=u(660),A=u(172),y=u(930),a="metrics";class f{constructor(){}static getInstance(){return this._instance||(this._instance=new f),this._instance}setGlobalMeterProvider(h){return(0,A.registerGlobal)(a,h,y.DiagAPI.instance())}getMeterProvider(){return(0,A.getGlobal)(a)||x.NOOP_METER_PROVIDER}getMeter(h,b,_){return this.getMeterProvider().getMeter(h,b,_)}disable(){(0,A.unregisterGlobal)(a,y.DiagAPI.instance())}}l.MetricsAPI=f},181:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PropagationAPI=void 0;let x=u(172),A=u(874),y=u(194),a=u(277),f=u(369),v=u(930),h="propagation",b=new A.NoopTextMapPropagator;class _{constructor(){this.createBaggage=f.createBaggage,this.getBaggage=a.getBaggage,this.getActiveBaggage=a.getActiveBaggage,this.setBaggage=a.setBaggage,this.deleteBaggage=a.deleteBaggage}static getInstance(){return this._instance||(this._instance=new _),this._instance}setGlobalPropagator(O){return(0,x.registerGlobal)(h,O,v.DiagAPI.instance())}inject(O,$,q=y.defaultTextMapSetter){return this._getGlobalPropagator().inject(O,$,q)}extract(O,$,q=y.defaultTextMapGetter){return this._getGlobalPropagator().extract(O,$,q)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,x.unregisterGlobal)(h,v.DiagAPI.instance())}_getGlobalPropagator(){return(0,x.getGlobal)(h)||b}}l.PropagationAPI=_},997:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TraceAPI=void 0;let x=u(172),A=u(846),y=u(139),a=u(607),f=u(930),v="trace";class h{constructor(){this._proxyTracerProvider=new A.ProxyTracerProvider,this.wrapSpanContext=y.wrapSpanContext,this.isSpanContextValid=y.isSpanContextValid,this.deleteSpan=a.deleteSpan,this.getSpan=a.getSpan,this.getActiveSpan=a.getActiveSpan,this.getSpanContext=a.getSpanContext,this.setSpan=a.setSpan,this.setSpanContext=a.setSpanContext}static getInstance(){return this._instance||(this._instance=new h),this._instance}setGlobalTracerProvider(_){let E=(0,x.registerGlobal)(v,this._proxyTracerProvider,f.DiagAPI.instance());return E&&this._proxyTracerProvider.setDelegate(_),E}getTracerProvider(){return(0,x.getGlobal)(v)||this._proxyTracerProvider}getTracer(_,E){return this.getTracerProvider().getTracer(_,E)}disable(){(0,x.unregisterGlobal)(v,f.DiagAPI.instance()),this._proxyTracerProvider=new A.ProxyTracerProvider}}l.TraceAPI=h},277:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.deleteBaggage=l.setBaggage=l.getActiveBaggage=l.getBaggage=void 0;let x=u(491),A=(0,u(780).createContextKey)("OpenTelemetry Baggage Key");function y(a){return a.getValue(A)||void 0}l.getBaggage=y,l.getActiveBaggage=function(){return y(x.ContextAPI.getInstance().active())},l.setBaggage=function(a,f){return a.setValue(A,f)},l.deleteBaggage=function(a){return a.deleteValue(A)}},993:(R,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BaggageImpl=void 0;class u{constructor(A){this._entries=A?new Map(A):new Map}getEntry(A){let y=this._entries.get(A);if(y)return Object.assign({},y)}getAllEntries(){return Array.from(this._entries.entries()).map(([A,y])=>[A,y])}setEntry(A,y){let a=new u(this._entries);return a._entries.set(A,y),a}removeEntry(A){let y=new u(this._entries);return y._entries.delete(A),y}removeEntries(...A){let y=new u(this._entries);for(let a of A)y._entries.delete(a);return y}clear(){return new u}}l.BaggageImpl=u},830:(R,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.baggageEntryMetadataSymbol=void 0,l.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.baggageEntryMetadataFromString=l.createBaggage=void 0;let x=u(930),A=u(993),y=u(830),a=x.DiagAPI.instance();l.createBaggage=function(f={}){return new A.BaggageImpl(new Map(Object.entries(f)))},l.baggageEntryMetadataFromString=function(f){return typeof f!="string"&&(a.error(`Cannot create baggage metadata from unknown type: ${typeof f}`),f=""),{__TYPE__:y.baggageEntryMetadataSymbol,toString:()=>f}}},67:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.context=void 0,l.context=u(491).ContextAPI.getInstance()},223:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.NoopContextManager=void 0;let x=u(780);class A{active(){return x.ROOT_CONTEXT}with(a,f,v,...h){return f.call(v,...h)}bind(a,f){return f}enable(){return this}disable(){return this}}l.NoopContextManager=A},780:(R,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ROOT_CONTEXT=l.createContextKey=void 0,l.createContextKey=function(x){return Symbol.for(x)};class u{constructor(A){let y=this;y._currentContext=A?new Map(A):new Map,y.getValue=a=>y._currentContext.get(a),y.setValue=(a,f)=>{let v=new u(y._currentContext);return v._currentContext.set(a,f),v},y.deleteValue=a=>{let f=new u(y._currentContext);return f._currentContext.delete(a),f}}}l.ROOT_CONTEXT=new u},506:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.diag=void 0,l.diag=u(930).DiagAPI.instance()},56:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DiagComponentLogger=void 0;let x=u(172);class A{constructor(f){this._namespace=f.namespace||"DiagComponentLogger"}debug(...f){return y("debug",this._namespace,f)}error(...f){return y("error",this._namespace,f)}info(...f){return y("info",this._namespace,f)}warn(...f){return y("warn",this._namespace,f)}verbose(...f){return y("verbose",this._namespace,f)}}function y(a,f,v){let h=(0,x.getGlobal)("diag");if(h)return v.unshift(f),h[a](...v)}l.DiagComponentLogger=A},972:(R,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DiagConsoleLogger=void 0;let u=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class x{constructor(){for(let y=0;y<u.length;y++)this[u[y].n]=function(a){return function(...f){if(console){let v=console[a];if(typeof v!="function"&&(v=console.log),typeof v=="function")return v.apply(console,f)}}}(u[y].c)}}l.DiagConsoleLogger=x},912:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createLogLevelDiagLogger=void 0;let x=u(957);l.createLogLevelDiagLogger=function(A,y){function a(f,v){let h=y[f];return typeof h=="function"&&A>=v?h.bind(y):function(){}}return A<x.DiagLogLevel.NONE?A=x.DiagLogLevel.NONE:A>x.DiagLogLevel.ALL&&(A=x.DiagLogLevel.ALL),y=y||{},{error:a("error",x.DiagLogLevel.ERROR),warn:a("warn",x.DiagLogLevel.WARN),info:a("info",x.DiagLogLevel.INFO),debug:a("debug",x.DiagLogLevel.DEBUG),verbose:a("verbose",x.DiagLogLevel.VERBOSE)}}},957:(R,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DiagLogLevel=void 0,function(u){u[u.NONE=0]="NONE",u[u.ERROR=30]="ERROR",u[u.WARN=50]="WARN",u[u.INFO=60]="INFO",u[u.DEBUG=70]="DEBUG",u[u.VERBOSE=80]="VERBOSE",u[u.ALL=9999]="ALL"}(l.DiagLogLevel||(l.DiagLogLevel={}))},172:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.unregisterGlobal=l.getGlobal=l.registerGlobal=void 0;let x=u(200),A=u(521),y=u(130),a=A.VERSION.split(".")[0],f=Symbol.for(`opentelemetry.js.api.${a}`),v=x._globalThis;l.registerGlobal=function(h,b,_,E=!1){var O;let $=v[f]=(O=v[f])!=null?O:{version:A.VERSION};if(!E&&$[h]){let q=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${h}`);return _.error(q.stack||q.message),!1}if($.version!==A.VERSION){let q=Error(`@opentelemetry/api: Registration of version v${$.version} for ${h} does not match previously registered API v${A.VERSION}`);return _.error(q.stack||q.message),!1}return $[h]=b,_.debug(`@opentelemetry/api: Registered a global for ${h} v${A.VERSION}.`),!0},l.getGlobal=function(h){var b,_;let E=(b=v[f])==null?void 0:b.version;if(E&&(0,y.isCompatible)(E))return(_=v[f])==null?void 0:_[h]},l.unregisterGlobal=function(h,b){b.debug(`@opentelemetry/api: Unregistering a global for ${h} v${A.VERSION}.`);let _=v[f];_&&delete _[h]}},130:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.isCompatible=l._makeCompatibilityCheck=void 0;let x=u(521),A=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function y(a){let f=new Set([a]),v=new Set,h=a.match(A);if(!h)return()=>!1;let b={major:+h[1],minor:+h[2],patch:+h[3],prerelease:h[4]};if(b.prerelease!=null)return function(E){return E===a};function _(E){return v.add(E),!1}return function(E){if(f.has(E))return!0;if(v.has(E))return!1;let O=E.match(A);if(!O)return _(E);let $={major:+O[1],minor:+O[2],patch:+O[3],prerelease:O[4]};return $.prerelease!=null||b.major!==$.major?_(E):b.major===0?b.minor===$.minor&&b.patch<=$.patch?(f.add(E),!0):_(E):b.minor<=$.minor?(f.add(E),!0):_(E)}}l._makeCompatibilityCheck=y,l.isCompatible=y(x.VERSION)},886:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.metrics=void 0,l.metrics=u(653).MetricsAPI.getInstance()},901:(R,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ValueType=void 0,function(u){u[u.INT=0]="INT",u[u.DOUBLE=1]="DOUBLE"}(l.ValueType||(l.ValueType={}))},102:(R,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createNoopMeter=l.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=l.NOOP_OBSERVABLE_GAUGE_METRIC=l.NOOP_OBSERVABLE_COUNTER_METRIC=l.NOOP_UP_DOWN_COUNTER_METRIC=l.NOOP_HISTOGRAM_METRIC=l.NOOP_COUNTER_METRIC=l.NOOP_METER=l.NoopObservableUpDownCounterMetric=l.NoopObservableGaugeMetric=l.NoopObservableCounterMetric=l.NoopObservableMetric=l.NoopHistogramMetric=l.NoopUpDownCounterMetric=l.NoopCounterMetric=l.NoopMetric=l.NoopMeter=void 0;class u{constructor(){}createHistogram(E,O){return l.NOOP_HISTOGRAM_METRIC}createCounter(E,O){return l.NOOP_COUNTER_METRIC}createUpDownCounter(E,O){return l.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(E,O){return l.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(E,O){return l.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(E,O){return l.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(E,O){}removeBatchObservableCallback(E){}}l.NoopMeter=u;class x{}l.NoopMetric=x;class A extends x{add(E,O){}}l.NoopCounterMetric=A;class y extends x{add(E,O){}}l.NoopUpDownCounterMetric=y;class a extends x{record(E,O){}}l.NoopHistogramMetric=a;class f{addCallback(E){}removeCallback(E){}}l.NoopObservableMetric=f;class v extends f{}l.NoopObservableCounterMetric=v;class h extends f{}l.NoopObservableGaugeMetric=h;class b extends f{}l.NoopObservableUpDownCounterMetric=b,l.NOOP_METER=new u,l.NOOP_COUNTER_METRIC=new A,l.NOOP_HISTOGRAM_METRIC=new a,l.NOOP_UP_DOWN_COUNTER_METRIC=new y,l.NOOP_OBSERVABLE_COUNTER_METRIC=new v,l.NOOP_OBSERVABLE_GAUGE_METRIC=new h,l.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new b,l.createNoopMeter=function(){return l.NOOP_METER}},660:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.NOOP_METER_PROVIDER=l.NoopMeterProvider=void 0;let x=u(102);class A{getMeter(a,f,v){return x.NOOP_METER}}l.NoopMeterProvider=A,l.NOOP_METER_PROVIDER=new A},200:function(R,l,u){var x=this&&this.__createBinding||(Object.create?function(y,a,f,v){v===void 0&&(v=f),Object.defineProperty(y,v,{enumerable:!0,get:function(){return a[f]}})}:function(y,a,f,v){v===void 0&&(v=f),y[v]=a[f]}),A=this&&this.__exportStar||function(y,a){for(var f in y)f==="default"||Object.prototype.hasOwnProperty.call(a,f)||x(a,y,f)};Object.defineProperty(l,"__esModule",{value:!0}),A(u(46),l)},651:(R,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l._globalThis=void 0,l._globalThis=typeof Ne=="object"?Ne:N.g},46:function(R,l,u){var x=this&&this.__createBinding||(Object.create?function(y,a,f,v){v===void 0&&(v=f),Object.defineProperty(y,v,{enumerable:!0,get:function(){return a[f]}})}:function(y,a,f,v){v===void 0&&(v=f),y[v]=a[f]}),A=this&&this.__exportStar||function(y,a){for(var f in y)f==="default"||Object.prototype.hasOwnProperty.call(a,f)||x(a,y,f)};Object.defineProperty(l,"__esModule",{value:!0}),A(u(651),l)},939:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.propagation=void 0,l.propagation=u(181).PropagationAPI.getInstance()},874:(R,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.NoopTextMapPropagator=void 0;class u{inject(A,y){}extract(A,y){return A}fields(){return[]}}l.NoopTextMapPropagator=u},194:(R,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.defaultTextMapSetter=l.defaultTextMapGetter=void 0,l.defaultTextMapGetter={get(u,x){if(u!=null)return u[x]},keys:u=>u==null?[]:Object.keys(u)},l.defaultTextMapSetter={set(u,x,A){u!=null&&(u[x]=A)}}},845:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.trace=void 0,l.trace=u(997).TraceAPI.getInstance()},403:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.NonRecordingSpan=void 0;let x=u(476);class A{constructor(a=x.INVALID_SPAN_CONTEXT){this._spanContext=a}spanContext(){return this._spanContext}setAttribute(a,f){return this}setAttributes(a){return this}addEvent(a,f){return this}setStatus(a){return this}updateName(a){return this}end(a){}isRecording(){return!1}recordException(a,f){}}l.NonRecordingSpan=A},614:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.NoopTracer=void 0;let x=u(491),A=u(607),y=u(403),a=u(139),f=x.ContextAPI.getInstance();class v{startSpan(b,_,E=f.active()){var O;if(_?.root)return new y.NonRecordingSpan;let $=E&&(0,A.getSpanContext)(E);return typeof(O=$)=="object"&&typeof O.spanId=="string"&&typeof O.traceId=="string"&&typeof O.traceFlags=="number"&&(0,a.isSpanContextValid)($)?new y.NonRecordingSpan($):new y.NonRecordingSpan}startActiveSpan(b,_,E,O){let $,q,Q;if(arguments.length<2)return;arguments.length==2?Q=_:arguments.length==3?($=_,Q=E):($=_,q=E,Q=O);let ie=q??f.active(),ye=this.startSpan(b,$,ie),D=(0,A.setSpan)(ie,ye);return f.with(D,Q,void 0,ye)}}l.NoopTracer=v},124:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.NoopTracerProvider=void 0;let x=u(614);class A{getTracer(a,f,v){return new x.NoopTracer}}l.NoopTracerProvider=A},125:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ProxyTracer=void 0;let x=new(u(614)).NoopTracer;class A{constructor(a,f,v,h){this._provider=a,this.name=f,this.version=v,this.options=h}startSpan(a,f,v){return this._getTracer().startSpan(a,f,v)}startActiveSpan(a,f,v,h){let b=this._getTracer();return Reflect.apply(b.startActiveSpan,b,arguments)}_getTracer(){if(this._delegate)return this._delegate;let a=this._provider.getDelegateTracer(this.name,this.version,this.options);return a?(this._delegate=a,this._delegate):x}}l.ProxyTracer=A},846:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ProxyTracerProvider=void 0;let x=u(125),A=new(u(124)).NoopTracerProvider;class y{getTracer(f,v,h){var b;return(b=this.getDelegateTracer(f,v,h))!=null?b:new x.ProxyTracer(this,f,v,h)}getDelegate(){var f;return(f=this._delegate)!=null?f:A}setDelegate(f){this._delegate=f}getDelegateTracer(f,v,h){var b;return(b=this._delegate)==null?void 0:b.getTracer(f,v,h)}}l.ProxyTracerProvider=y},996:(R,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SamplingDecision=void 0,function(u){u[u.NOT_RECORD=0]="NOT_RECORD",u[u.RECORD=1]="RECORD",u[u.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(l.SamplingDecision||(l.SamplingDecision={}))},607:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.getSpanContext=l.setSpanContext=l.deleteSpan=l.setSpan=l.getActiveSpan=l.getSpan=void 0;let x=u(780),A=u(403),y=u(491),a=(0,x.createContextKey)("OpenTelemetry Context Key SPAN");function f(h){return h.getValue(a)||void 0}function v(h,b){return h.setValue(a,b)}l.getSpan=f,l.getActiveSpan=function(){return f(y.ContextAPI.getInstance().active())},l.setSpan=v,l.deleteSpan=function(h){return h.deleteValue(a)},l.setSpanContext=function(h,b){return v(h,new A.NonRecordingSpan(b))},l.getSpanContext=function(h){var b;return(b=f(h))==null?void 0:b.spanContext()}},325:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TraceStateImpl=void 0;let x=u(564);class A{constructor(a){this._internalState=new Map,a&&this._parse(a)}set(a,f){let v=this._clone();return v._internalState.has(a)&&v._internalState.delete(a),v._internalState.set(a,f),v}unset(a){let f=this._clone();return f._internalState.delete(a),f}get(a){return this._internalState.get(a)}serialize(){return this._keys().reduce((a,f)=>(a.push(f+"="+this.get(f)),a),[]).join(",")}_parse(a){!(a.length>512)&&(this._internalState=a.split(",").reverse().reduce((f,v)=>{let h=v.trim(),b=h.indexOf("=");if(b!==-1){let _=h.slice(0,b),E=h.slice(b+1,v.length);(0,x.validateKey)(_)&&(0,x.validateValue)(E)&&f.set(_,E)}return f},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let a=new A;return a._internalState=new Map(this._internalState),a}}l.TraceStateImpl=A},564:(R,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.validateValue=l.validateKey=void 0;let u="[_0-9a-z-*/]",x=`[a-z]${u}{0,255}`,A=`[a-z0-9]${u}{0,240}@[a-z]${u}{0,13}`,y=RegExp(`^(?:${x}|${A})$`),a=/^[ -~]{0,255}[!-~]$/,f=/,|=/;l.validateKey=function(v){return y.test(v)},l.validateValue=function(v){return a.test(v)&&!f.test(v)}},98:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createTraceState=void 0;let x=u(325);l.createTraceState=function(A){return new x.TraceStateImpl(A)}},476:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.INVALID_SPAN_CONTEXT=l.INVALID_TRACEID=l.INVALID_SPANID=void 0;let x=u(475);l.INVALID_SPANID="0000000000000000",l.INVALID_TRACEID="00000000000000000000000000000000",l.INVALID_SPAN_CONTEXT={traceId:l.INVALID_TRACEID,spanId:l.INVALID_SPANID,traceFlags:x.TraceFlags.NONE}},357:(R,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SpanKind=void 0,function(u){u[u.INTERNAL=0]="INTERNAL",u[u.SERVER=1]="SERVER",u[u.CLIENT=2]="CLIENT",u[u.PRODUCER=3]="PRODUCER",u[u.CONSUMER=4]="CONSUMER"}(l.SpanKind||(l.SpanKind={}))},139:(R,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.wrapSpanContext=l.isSpanContextValid=l.isValidSpanId=l.isValidTraceId=void 0;let x=u(476),A=u(403),y=/^([0-9a-f]{32})$/i,a=/^[0-9a-f]{16}$/i;function f(h){return y.test(h)&&h!==x.INVALID_TRACEID}function v(h){return a.test(h)&&h!==x.INVALID_SPANID}l.isValidTraceId=f,l.isValidSpanId=v,l.isSpanContextValid=function(h){return f(h.traceId)&&v(h.spanId)},l.wrapSpanContext=function(h){return new A.NonRecordingSpan(h)}},847:(R,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SpanStatusCode=void 0,function(u){u[u.UNSET=0]="UNSET",u[u.OK=1]="OK",u[u.ERROR=2]="ERROR"}(l.SpanStatusCode||(l.SpanStatusCode={}))},475:(R,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TraceFlags=void 0,function(u){u[u.NONE=0]="NONE",u[u.SAMPLED=1]="SAMPLED"}(l.TraceFlags||(l.TraceFlags={}))},521:(R,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.VERSION=void 0,l.VERSION="1.6.0"}},Y={};function M(R){var l=Y[R];if(l!==void 0)return l.exports;var u=Y[R]={exports:{}},x=!0;try{K[R].call(u.exports,u,u.exports,M),x=!1}finally{x&&delete Y[R]}return u.exports}M.ab="//";var I={};(()=>{Object.defineProperty(I,"__esModule",{value:!0}),I.trace=I.propagation=I.metrics=I.diag=I.context=I.INVALID_SPAN_CONTEXT=I.INVALID_TRACEID=I.INVALID_SPANID=I.isValidSpanId=I.isValidTraceId=I.isSpanContextValid=I.createTraceState=I.TraceFlags=I.SpanStatusCode=I.SpanKind=I.SamplingDecision=I.ProxyTracerProvider=I.ProxyTracer=I.defaultTextMapSetter=I.defaultTextMapGetter=I.ValueType=I.createNoopMeter=I.DiagLogLevel=I.DiagConsoleLogger=I.ROOT_CONTEXT=I.createContextKey=I.baggageEntryMetadataFromString=void 0;var R=M(369);Object.defineProperty(I,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return R.baggageEntryMetadataFromString}});var l=M(780);Object.defineProperty(I,"createContextKey",{enumerable:!0,get:function(){return l.createContextKey}}),Object.defineProperty(I,"ROOT_CONTEXT",{enumerable:!0,get:function(){return l.ROOT_CONTEXT}});var u=M(972);Object.defineProperty(I,"DiagConsoleLogger",{enumerable:!0,get:function(){return u.DiagConsoleLogger}});var x=M(957);Object.defineProperty(I,"DiagLogLevel",{enumerable:!0,get:function(){return x.DiagLogLevel}});var A=M(102);Object.defineProperty(I,"createNoopMeter",{enumerable:!0,get:function(){return A.createNoopMeter}});var y=M(901);Object.defineProperty(I,"ValueType",{enumerable:!0,get:function(){return y.ValueType}});var a=M(194);Object.defineProperty(I,"defaultTextMapGetter",{enumerable:!0,get:function(){return a.defaultTextMapGetter}}),Object.defineProperty(I,"defaultTextMapSetter",{enumerable:!0,get:function(){return a.defaultTextMapSetter}});var f=M(125);Object.defineProperty(I,"ProxyTracer",{enumerable:!0,get:function(){return f.ProxyTracer}});var v=M(846);Object.defineProperty(I,"ProxyTracerProvider",{enumerable:!0,get:function(){return v.ProxyTracerProvider}});var h=M(996);Object.defineProperty(I,"SamplingDecision",{enumerable:!0,get:function(){return h.SamplingDecision}});var b=M(357);Object.defineProperty(I,"SpanKind",{enumerable:!0,get:function(){return b.SpanKind}});var _=M(847);Object.defineProperty(I,"SpanStatusCode",{enumerable:!0,get:function(){return _.SpanStatusCode}});var E=M(475);Object.defineProperty(I,"TraceFlags",{enumerable:!0,get:function(){return E.TraceFlags}});var O=M(98);Object.defineProperty(I,"createTraceState",{enumerable:!0,get:function(){return O.createTraceState}});var $=M(139);Object.defineProperty(I,"isSpanContextValid",{enumerable:!0,get:function(){return $.isSpanContextValid}}),Object.defineProperty(I,"isValidTraceId",{enumerable:!0,get:function(){return $.isValidTraceId}}),Object.defineProperty(I,"isValidSpanId",{enumerable:!0,get:function(){return $.isValidSpanId}});var q=M(476);Object.defineProperty(I,"INVALID_SPANID",{enumerable:!0,get:function(){return q.INVALID_SPANID}}),Object.defineProperty(I,"INVALID_TRACEID",{enumerable:!0,get:function(){return q.INVALID_TRACEID}}),Object.defineProperty(I,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return q.INVALID_SPAN_CONTEXT}});let Q=M(67);Object.defineProperty(I,"context",{enumerable:!0,get:function(){return Q.context}});let ie=M(506);Object.defineProperty(I,"diag",{enumerable:!0,get:function(){return ie.diag}});let ye=M(886);Object.defineProperty(I,"metrics",{enumerable:!0,get:function(){return ye.metrics}});let D=M(939);Object.defineProperty(I,"propagation",{enumerable:!0,get:function(){return D.propagation}});let B=M(845);Object.defineProperty(I,"trace",{enumerable:!0,get:function(){return B.trace}}),I.default={context:Q.context,diag:ie.diag,metrics:ye.metrics,propagation:D.propagation,trace:B.trace}})(),ve.exports=I})()},4526:(ve,X,N)=>{"use strict";N.d(X,{J:()=>K.I});var K=N(5912)},4557:(ve,X,N)=>{"use strict";N.d(X,{I3:()=>x,Ui:()=>l,xI:()=>I,Pk:()=>R});var K=N(2815),Y=N(5016);N(3602),N(5899),N(4526),N(9801);let M=typeof K.unstable_postpone=="function";function I(y,a,f){let v=Object.defineProperty(new Y.F(`Route ${a.route} couldn't be rendered statically because it used \`${y}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw f.revalidate=0,a.dynamicUsageDescription=y,a.dynamicUsageStack=v.stack,v}function R(y,a){a&&a.type!=="cache"&&a.type!=="unstable-cache"&&(a.type==="prerender"||a.type==="prerender-client"||a.type==="prerender-legacy")&&(a.revalidate=0)}function l(y,a,f){(function(){if(!M)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),f&&f.dynamicAccesses.push({stack:f.isDebugDynamicAccesses?Error().stack:void 0,expression:a}),K.unstable_postpone(u(y,a))}function u(y,a){return`Route ${y} needs to bail out of prerendering at this point because it used ${a}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function x(y){return typeof y=="object"&&y!==null&&typeof y.message=="string"&&A(y.message)}function A(y){return y.includes("needs to bail out of prerendering at this point because it used")&&y.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(A(u("%%%","^^^"))===!1)throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});RegExp("\\n\\s+at __next_metadata_boundary__[\\n\\s]"),RegExp("\\n\\s+at __next_viewport_boundary__[\\n\\s]"),RegExp("\\n\\s+at __next_outlet_boundary__[\\n\\s]")},4890:ve=>{(()=>{"use strict";typeof __nccwpck_require__<"u"&&(__nccwpck_require__.ab="//");var X={};(()=>{X.parse=function(I,R){if(typeof I!="string")throw TypeError("argument str must be a string");for(var l={},u=I.split(Y),x=(R||{}).decode||N,A=0;A<u.length;A++){var y=u[A],a=y.indexOf("=");if(!(a<0)){var f=y.substr(0,a).trim(),v=y.substr(++a,y.length).trim();v[0]=='"'&&(v=v.slice(1,-1)),l[f]==null&&(l[f]=function(h,b){try{return b(h)}catch{return h}}(v,x))}}return l},X.serialize=function(I,R,l){var u=l||{},x=u.encode||K;if(typeof x!="function")throw TypeError("option encode is invalid");if(!M.test(I))throw TypeError("argument name is invalid");var A=x(R);if(A&&!M.test(A))throw TypeError("argument val is invalid");var y=I+"="+A;if(u.maxAge!=null){var a=u.maxAge-0;if(isNaN(a)||!isFinite(a))throw TypeError("option maxAge is invalid");y+="; Max-Age="+Math.floor(a)}if(u.domain){if(!M.test(u.domain))throw TypeError("option domain is invalid");y+="; Domain="+u.domain}if(u.path){if(!M.test(u.path))throw TypeError("option path is invalid");y+="; Path="+u.path}if(u.expires){if(typeof u.expires.toUTCString!="function")throw TypeError("option expires is invalid");y+="; Expires="+u.expires.toUTCString()}if(u.httpOnly&&(y+="; HttpOnly"),u.secure&&(y+="; Secure"),u.sameSite)switch(typeof u.sameSite=="string"?u.sameSite.toLowerCase():u.sameSite){case!0:case"strict":y+="; SameSite=Strict";break;case"lax":y+="; SameSite=Lax";break;case"none":y+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return y};var N=decodeURIComponent,K=encodeURIComponent,Y=/; */,M=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/})(),ve.exports=X})()},5016:(ve,X,N)=>{"use strict";N.d(X,{F:()=>Y,h:()=>M});let K="DYNAMIC_SERVER_USAGE";class Y extends Error{constructor(R){super("Dynamic server usage: "+R),this.description=R,this.digest=K}}function M(I){return typeof I=="object"&&I!==null&&"digest"in I&&typeof I.digest=="string"&&I.digest===K}},5201:(ve,X,N)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),function(R,l){for(var u in l)Object.defineProperty(R,u,{enumerable:!0,get:l[u]})}(X,{getTestReqInfo:function(){return I},withRequest:function(){return M}});let K=new(N(5521)).AsyncLocalStorage;function Y(R,l){let u=l.header(R,"next-test-proxy-port");return u?{url:l.url(R),proxyPort:Number(u),testData:l.header(R,"next-test-data")||""}:void 0}function M(R,l,u){let x=Y(R,l);return x?K.run(x,u):u()}function I(R,l){return K.getStore()||(R&&l?Y(R,l):void 0)}},5356:fu,5521:hu,5899:(ve,X,N)=>{"use strict";N.d(X,{FP:()=>K.e,XN:()=>Y});var K=N(2223);function Y(M){let I=K.e.getStore();switch(!I&&function(R){throw Object.defineProperty(Error(`\`${R}\` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context`),"__NEXT_ERROR_CODE",{value:"E251",enumerable:!1,configurable:!0})}(M),I.type){case"request":default:return I;case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":throw Object.defineProperty(Error(`\`${M}\` cannot be called inside a prerender. This is a bug in Next.js.`),"__NEXT_ERROR_CODE",{value:"E401",enumerable:!1,configurable:!0});case"cache":throw Object.defineProperty(Error(`\`${M}\` cannot be called inside "use cache". Call it outside and pass an argument instead. Read more: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E37",enumerable:!1,configurable:!0});case"unstable-cache":throw Object.defineProperty(Error(`\`${M}\` cannot be called inside unstable_cache. Call it outside and pass an argument instead. Read more: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E69",enumerable:!1,configurable:!0})}}N(7612)},5912:pu,6199:(ve,X,N)=>{"use strict";N.d(X,{p:()=>M});var K=N(9159),Y=N(7167);function M(I){return(0,Y.nJ)(I)||(0,K.RM)(I)}},6280:(ve,X,N)=>{var K;(()=>{var Y={226:function(R,l){(function(u,x){"use strict";var A="function",y="undefined",a="object",f="string",v="major",h="model",b="name",_="type",E="vendor",O="version",$="architecture",q="console",Q="mobile",ie="tablet",ye="smarttv",D="wearable",B="embedded",we="Amazon",be="Apple",Ae="ASUS",Ce="BlackBerry",se="Browser",We="Chrome",Ue="Firefox",Ve="Google",Ke="Huawei",ft="Microsoft",Tt="Motorola",ee="Opera",ze="Samsung",De="Sharp",at="Sony",Ye="Xiaomi",Ee="Zebra",vt="Facebook",$r="Chromium OS",Zt="Mac OS",ut=function(xe,Te){var ge={};for(var He in xe)Te[He]&&Te[He].length%2==0?ge[He]=Te[He].concat(xe[He]):ge[He]=xe[He];return ge},Wt=function(xe){for(var Te={},ge=0;ge<xe.length;ge++)Te[xe[ge].toUpperCase()]=xe[ge];return Te},gr=function(xe,Te){return typeof xe===f&&Pt(Te).indexOf(Pt(xe))!==-1},Pt=function(xe){return xe.toLowerCase()},Kt=function(xe,Te){if(typeof xe===f)return xe=xe.replace(/^\s\s*/,""),typeof Te===y?xe:xe.substring(0,350)},Ze=function(xe,Te){for(var ge,He,ct,Pe,dt,fe,et=0;et<Te.length&&!dt;){var mr=Te[et],Lr=Te[et+1];for(ge=He=0;ge<mr.length&&!dt&&mr[ge];)if(dt=mr[ge++].exec(xe))for(ct=0;ct<Lr.length;ct++)fe=dt[++He],typeof(Pe=Lr[ct])===a&&Pe.length>0?Pe.length===2?typeof Pe[1]==A?this[Pe[0]]=Pe[1].call(this,fe):this[Pe[0]]=Pe[1]:Pe.length===3?typeof Pe[1]!==A||Pe[1].exec&&Pe[1].test?this[Pe[0]]=fe?fe.replace(Pe[1],Pe[2]):void 0:this[Pe[0]]=fe?Pe[1].call(this,fe,Pe[2]):void 0:Pe.length===4&&(this[Pe[0]]=fe?Pe[3].call(this,fe.replace(Pe[1],Pe[2])):x):this[Pe]=fe||x;et+=2}},_t=function(xe,Te){for(var ge in Te)if(typeof Te[ge]===a&&Te[ge].length>0){for(var He=0;He<Te[ge].length;He++)if(gr(Te[ge][He],xe))return ge==="?"?x:ge}else if(gr(Te[ge],xe))return ge==="?"?x:ge;return xe},gt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},qt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[O,[b,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[O,[b,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[b,O],[/opios[\/ ]+([\w\.]+)/i],[O,[b,ee+" Mini"]],[/\bopr\/([\w\.]+)/i],[O,[b,ee]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[b,O],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[O,[b,"UC"+se]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[O,[b,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[O,[b,"WeChat"]],[/konqueror\/([\w\.]+)/i],[O,[b,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[O,[b,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[O,[b,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[b,/(.+)/,"$1 Secure "+se],O],[/\bfocus\/([\w\.]+)/i],[O,[b,Ue+" Focus"]],[/\bopt\/([\w\.]+)/i],[O,[b,ee+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[O,[b,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[O,[b,"Dolphin"]],[/coast\/([\w\.]+)/i],[O,[b,ee+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[O,[b,"MIUI "+se]],[/fxios\/([-\w\.]+)/i],[O,[b,Ue]],[/\bqihu|(qi?ho?o?|360)browser/i],[[b,"360 "+se]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[b,/(.+)/,"$1 "+se],O],[/(comodo_dragon)\/([\w\.]+)/i],[[b,/_/g," "],O],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[b,O],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[b],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[b,vt],O],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[b,O],[/\bgsa\/([\w\.]+) .*safari\//i],[O,[b,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[O,[b,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[O,[b,We+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[b,We+" WebView"],O],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[O,[b,"Android "+se]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[b,O],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[O,[b,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[O,b],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[b,[O,_t,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[b,O],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[b,"Netscape"],O],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[O,[b,Ue+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[b,O],[/(cobalt)\/([\w\.]+)/i],[b,[O,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[$,"amd64"]],[/(ia32(?=;))/i],[[$,Pt]],[/((?:i[346]|x)86)[;\)]/i],[[$,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[$,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[$,"armhf"]],[/windows (ce|mobile); ppc;/i],[[$,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[$,/ower/,"",Pt]],[/(sun4\w)[;\)]/i],[[$,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[$,Pt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[E,ze],[_,ie]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[E,ze],[_,Q]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[E,be],[_,Q]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[E,be],[_,ie]],[/(macintosh);/i],[h,[E,be]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[E,De],[_,Q]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[E,Ke],[_,ie]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[E,Ke],[_,Q]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[E,Ye],[_,Q]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[E,Ye],[_,ie]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[E,"OPPO"],[_,Q]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[E,"Vivo"],[_,Q]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[h,[E,"Realme"],[_,Q]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[E,Tt],[_,Q]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[E,Tt],[_,ie]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[E,"LG"],[_,ie]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[E,"LG"],[_,Q]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[E,"Lenovo"],[_,ie]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[E,"Nokia"],[_,Q]],[/(pixel c)\b/i],[h,[E,Ve],[_,ie]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[E,Ve],[_,Q]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[E,at],[_,Q]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[E,at],[_,ie]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[E,"OnePlus"],[_,Q]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[E,we],[_,ie]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[E,we],[_,Q]],[/(playbook);[-\w\),; ]+(rim)/i],[h,E,[_,ie]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[E,Ce],[_,Q]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[E,Ae],[_,ie]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[E,Ae],[_,Q]],[/(nexus 9)/i],[h,[E,"HTC"],[_,ie]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[E,[h,/_/g," "],[_,Q]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[E,"Acer"],[_,ie]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[E,"Meizu"],[_,Q]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[E,h,[_,Q]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[E,h,[_,ie]],[/(surface duo)/i],[h,[E,ft],[_,ie]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[E,"Fairphone"],[_,Q]],[/(u304aa)/i],[h,[E,"AT&T"],[_,Q]],[/\bsie-(\w*)/i],[h,[E,"Siemens"],[_,Q]],[/\b(rct\w+) b/i],[h,[E,"RCA"],[_,ie]],[/\b(venue[\d ]{2,7}) b/i],[h,[E,"Dell"],[_,ie]],[/\b(q(?:mv|ta)\w+) b/i],[h,[E,"Verizon"],[_,ie]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[E,"Barnes & Noble"],[_,ie]],[/\b(tm\d{3}\w+) b/i],[h,[E,"NuVision"],[_,ie]],[/\b(k88) b/i],[h,[E,"ZTE"],[_,ie]],[/\b(nx\d{3}j) b/i],[h,[E,"ZTE"],[_,Q]],[/\b(gen\d{3}) b.+49h/i],[h,[E,"Swiss"],[_,Q]],[/\b(zur\d{3}) b/i],[h,[E,"Swiss"],[_,ie]],[/\b((zeki)?tb.*\b) b/i],[h,[E,"Zeki"],[_,ie]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[E,"Dragon Touch"],h,[_,ie]],[/\b(ns-?\w{0,9}) b/i],[h,[E,"Insignia"],[_,ie]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[E,"NextBook"],[_,ie]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[E,"Voice"],h,[_,Q]],[/\b(lvtel\-)?(v1[12]) b/i],[[E,"LvTel"],h,[_,Q]],[/\b(ph-1) /i],[h,[E,"Essential"],[_,Q]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[E,"Envizen"],[_,ie]],[/\b(trio[-\w\. ]+) b/i],[h,[E,"MachSpeed"],[_,ie]],[/\btu_(1491) b/i],[h,[E,"Rotor"],[_,ie]],[/(shield[\w ]+) b/i],[h,[E,"Nvidia"],[_,ie]],[/(sprint) (\w+)/i],[E,h,[_,Q]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[E,ft],[_,Q]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[E,Ee],[_,ie]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[E,Ee],[_,Q]],[/smart-tv.+(samsung)/i],[E,[_,ye]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[E,ze],[_,ye]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[E,"LG"],[_,ye]],[/(apple) ?tv/i],[E,[h,be+" TV"],[_,ye]],[/crkey/i],[[h,We+"cast"],[E,Ve],[_,ye]],[/droid.+aft(\w)( bui|\))/i],[h,[E,we],[_,ye]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[E,De],[_,ye]],[/(bravia[\w ]+)( bui|\))/i],[h,[E,at],[_,ye]],[/(mitv-\w{5}) bui/i],[h,[E,Ye],[_,ye]],[/Hbbtv.*(technisat) (.*);/i],[E,h,[_,ye]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[E,Kt],[h,Kt],[_,ye]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[_,ye]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[E,h,[_,q]],[/droid.+; (shield) bui/i],[h,[E,"Nvidia"],[_,q]],[/(playstation [345portablevi]+)/i],[h,[E,at],[_,q]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[E,ft],[_,q]],[/((pebble))app/i],[E,h,[_,D]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[E,be],[_,D]],[/droid.+; (glass) \d/i],[h,[E,Ve],[_,D]],[/droid.+; (wt63?0{2,3})\)/i],[h,[E,Ee],[_,D]],[/(quest( 2| pro)?)/i],[h,[E,vt],[_,D]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[E,[_,B]],[/(aeobc)\b/i],[h,[E,we],[_,B]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[h,[_,Q]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[_,ie]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[_,ie]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[_,Q]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[E,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[O,[b,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[O,[b,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[b,O],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[O,b]],os:[[/microsoft (windows) (vista|xp)/i],[b,O],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[b,[O,_t,gt]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[b,"Windows"],[O,_t,gt]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[O,/_/g,"."],[b,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[b,Zt],[O,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[O,b],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[b,O],[/\(bb(10);/i],[O,[b,Ce]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[O,[b,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[O,[b,Ue+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[O,[b,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[O,[b,"watchOS"]],[/crkey\/([\d\.]+)/i],[O,[b,We+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[b,$r],O],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[b,O],[/(sunos) ?([\w\.\d]*)/i],[[b,"Solaris"],O],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[b,O]]},Ge=function(xe,Te){if(typeof xe===a&&(Te=xe,xe=x),!(this instanceof Ge))return new Ge(xe,Te).getResult();var ge=typeof u!==y&&u.navigator?u.navigator:x,He=xe||(ge&&ge.userAgent?ge.userAgent:""),ct=ge&&ge.userAgentData?ge.userAgentData:x,Pe=Te?ut(qt,Te):qt,dt=ge&&ge.userAgent==He;return this.getBrowser=function(){var fe,et={};return et[b]=x,et[O]=x,Ze.call(et,He,Pe.browser),et[v]=typeof(fe=et[O])===f?fe.replace(/[^\d\.]/g,"").split(".")[0]:x,dt&&ge&&ge.brave&&typeof ge.brave.isBrave==A&&(et[b]="Brave"),et},this.getCPU=function(){var fe={};return fe[$]=x,Ze.call(fe,He,Pe.cpu),fe},this.getDevice=function(){var fe={};return fe[E]=x,fe[h]=x,fe[_]=x,Ze.call(fe,He,Pe.device),dt&&!fe[_]&&ct&&ct.mobile&&(fe[_]=Q),dt&&fe[h]=="Macintosh"&&ge&&typeof ge.standalone!==y&&ge.maxTouchPoints&&ge.maxTouchPoints>2&&(fe[h]="iPad",fe[_]=ie),fe},this.getEngine=function(){var fe={};return fe[b]=x,fe[O]=x,Ze.call(fe,He,Pe.engine),fe},this.getOS=function(){var fe={};return fe[b]=x,fe[O]=x,Ze.call(fe,He,Pe.os),dt&&!fe[b]&&ct&&ct.platform!="Unknown"&&(fe[b]=ct.platform.replace(/chrome os/i,$r).replace(/macos/i,Zt)),fe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return He},this.setUA=function(fe){return He=typeof fe===f&&fe.length>350?Kt(fe,350):fe,this},this.setUA(He),this};Ge.VERSION="1.0.35",Ge.BROWSER=Wt([b,O,v]),Ge.CPU=Wt([$]),Ge.DEVICE=Wt([h,E,_,q,Q,ye,ie,D,B]),Ge.ENGINE=Ge.OS=Wt([b,O]),typeof l!==y?(R.exports&&(l=R.exports=Ge),l.UAParser=Ge):N.amdO?(K=function(){return Ge}.call(X,N,X,ve))===void 0||(ve.exports=K):typeof u!==y&&(u.UAParser=Ge);var Ot=typeof u!==y&&(u.jQuery||u.Zepto);if(Ot&&!Ot.ua){var er=new Ge;Ot.ua=er.getResult(),Ot.ua.get=function(){return er.getUA()},Ot.ua.set=function(xe){er.setUA(xe);var Te=er.getResult();for(var ge in Te)Ot.ua[ge]=Te[ge]}}})(typeof window=="object"?window:this)}},M={};function I(R){var l=M[R];if(l!==void 0)return l.exports;var u=M[R]={exports:{}},x=!0;try{Y[R].call(u.exports,u,u.exports,I),x=!1}finally{x&&delete M[R]}return u.exports}I.ab="//",ve.exports=I(226)})()},6724:ve=>{"use strict";var X=Object.defineProperty,N=Object.getOwnPropertyDescriptor,K=Object.getOwnPropertyNames,Y=Object.prototype.hasOwnProperty,M={};function I(a){var f;let v=["path"in a&&a.path&&`Path=${a.path}`,"expires"in a&&(a.expires||a.expires===0)&&`Expires=${(typeof a.expires=="number"?new Date(a.expires):a.expires).toUTCString()}`,"maxAge"in a&&typeof a.maxAge=="number"&&`Max-Age=${a.maxAge}`,"domain"in a&&a.domain&&`Domain=${a.domain}`,"secure"in a&&a.secure&&"Secure","httpOnly"in a&&a.httpOnly&&"HttpOnly","sameSite"in a&&a.sameSite&&`SameSite=${a.sameSite}`,"partitioned"in a&&a.partitioned&&"Partitioned","priority"in a&&a.priority&&`Priority=${a.priority}`].filter(Boolean),h=`${a.name}=${encodeURIComponent((f=a.value)!=null?f:"")}`;return v.length===0?h:`${h}; ${v.join("; ")}`}function R(a){let f=new Map;for(let v of a.split(/; */)){if(!v)continue;let h=v.indexOf("=");if(h===-1){f.set(v,"true");continue}let[b,_]=[v.slice(0,h),v.slice(h+1)];try{f.set(b,decodeURIComponent(_??"true"))}catch{}}return f}function l(a){if(!a)return;let[[f,v],...h]=R(a),{domain:b,expires:_,httponly:E,maxage:O,path:$,samesite:q,secure:Q,partitioned:ie,priority:ye}=Object.fromEntries(h.map(([be,Ae])=>[be.toLowerCase().replace(/-/g,""),Ae]));{var D,B,we={name:f,value:decodeURIComponent(v),domain:b,..._&&{expires:new Date(_)},...E&&{httpOnly:!0},...typeof O=="string"&&{maxAge:Number(O)},path:$,...q&&{sameSite:u.includes(D=(D=q).toLowerCase())?D:void 0},...Q&&{secure:!0},...ye&&{priority:x.includes(B=(B=ye).toLowerCase())?B:void 0},...ie&&{partitioned:!0}};let be={};for(let Ae in we)we[Ae]&&(be[Ae]=we[Ae]);return be}}((a,f)=>{for(var v in f)X(a,v,{get:f[v],enumerable:!0})})(M,{RequestCookies:()=>A,ResponseCookies:()=>y,parseCookie:()=>R,parseSetCookie:()=>l,stringifyCookie:()=>I}),ve.exports=((a,f,v,h)=>{if(f&&typeof f=="object"||typeof f=="function")for(let b of K(f))Y.call(a,b)||b===v||X(a,b,{get:()=>f[b],enumerable:!(h=N(f,b))||h.enumerable});return a})(X({},"__esModule",{value:!0}),M);var u=["strict","lax","none"],x=["low","medium","high"],A=class{constructor(a){this._parsed=new Map,this._headers=a;let f=a.get("cookie");if(f)for(let[v,h]of R(f))this._parsed.set(v,{name:v,value:h})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...a){let f=typeof a[0]=="string"?a[0]:a[0].name;return this._parsed.get(f)}getAll(...a){var f;let v=Array.from(this._parsed);if(!a.length)return v.map(([b,_])=>_);let h=typeof a[0]=="string"?a[0]:(f=a[0])==null?void 0:f.name;return v.filter(([b])=>b===h).map(([b,_])=>_)}has(a){return this._parsed.has(a)}set(...a){let[f,v]=a.length===1?[a[0].name,a[0].value]:a,h=this._parsed;return h.set(f,{name:f,value:v}),this._headers.set("cookie",Array.from(h).map(([b,_])=>I(_)).join("; ")),this}delete(a){let f=this._parsed,v=Array.isArray(a)?a.map(h=>f.delete(h)):f.delete(a);return this._headers.set("cookie",Array.from(f).map(([h,b])=>I(b)).join("; ")),v}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(a=>`${a.name}=${encodeURIComponent(a.value)}`).join("; ")}},y=class{constructor(a){var f,v,h;this._parsed=new Map,this._headers=a;let b=(h=(v=(f=a.getSetCookie)==null?void 0:f.call(a))!=null?v:a.get("set-cookie"))!=null?h:[];for(let _ of Array.isArray(b)?b:function(E){if(!E)return[];var O,$,q,Q,ie,ye=[],D=0;function B(){for(;D<E.length&&/\s/.test(E.charAt(D));)D+=1;return D<E.length}for(;D<E.length;){for(O=D,ie=!1;B();)if(($=E.charAt(D))===","){for(q=D,D+=1,B(),Q=D;D<E.length&&($=E.charAt(D))!=="="&&$!==";"&&$!==",";)D+=1;D<E.length&&E.charAt(D)==="="?(ie=!0,D=Q,ye.push(E.substring(O,q)),O=D):D=q+1}else D+=1;(!ie||D>=E.length)&&ye.push(E.substring(O,E.length))}return ye}(b)){let E=l(_);E&&this._parsed.set(E.name,E)}}get(...a){let f=typeof a[0]=="string"?a[0]:a[0].name;return this._parsed.get(f)}getAll(...a){var f;let v=Array.from(this._parsed.values());if(!a.length)return v;let h=typeof a[0]=="string"?a[0]:(f=a[0])==null?void 0:f.name;return v.filter(b=>b.name===h)}has(a){return this._parsed.has(a)}set(...a){let[f,v,h]=a.length===1?[a[0].name,a[0].value,a[0]]:a,b=this._parsed;return b.set(f,function(_={name:"",value:""}){return typeof _.expires=="number"&&(_.expires=new Date(_.expires)),_.maxAge&&(_.expires=new Date(Date.now()+1e3*_.maxAge)),(_.path===null||_.path===void 0)&&(_.path="/"),_}({name:f,value:v,...h})),function(_,E){for(let[,O]of(E.delete("set-cookie"),_)){let $=I(O);E.append("set-cookie",$)}}(b,this._headers),this}delete(...a){let[f,v]=typeof a[0]=="string"?[a[0]]:[a[0].name,a[0]];return this.set({...v,name:f,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(I).join("; ")}}},7035:(ve,X)=>{"use strict";var N={H:null,A:null};function K(D){var B="https://react.dev/errors/"+D;if(1<arguments.length){B+="?args[]="+encodeURIComponent(arguments[1]);for(var we=2;we<arguments.length;we++)B+="&args[]="+encodeURIComponent(arguments[we])}return"Minified React error #"+D+"; visit "+B+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y=Array.isArray;function M(){}var I=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),A=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),a=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),v=Symbol.iterator,h=Object.prototype.hasOwnProperty,b=Object.assign;function _(D,B,we,be,Ae,Ce){return{$$typeof:I,type:D,key:B,ref:(we=Ce.ref)!==void 0?we:null,props:Ce}}function E(D){return typeof D=="object"&&D!==null&&D.$$typeof===I}var O=/\/+/g;function $(D,B){var we,be;return typeof D=="object"&&D!==null&&D.key!=null?(we=""+D.key,be={"=":"=0",":":"=2"},"$"+we.replace(/[=:]/g,function(Ae){return be[Ae]})):B.toString(36)}function q(D,B,we){if(D==null)return D;var be=[],Ae=0;return function Ce(se,We,Ue,Ve,Ke){var ft,Tt,ee,ze=typeof se;(ze==="undefined"||ze==="boolean")&&(se=null);var De=!1;if(se===null)De=!0;else switch(ze){case"bigint":case"string":case"number":De=!0;break;case"object":switch(se.$$typeof){case I:case R:De=!0;break;case f:return Ce((De=se._init)(se._payload),We,Ue,Ve,Ke)}}if(De)return Ke=Ke(se),De=Ve===""?"."+$(se,0):Ve,Y(Ke)?(Ue="",De!=null&&(Ue=De.replace(O,"$&/")+"/"),Ce(Ke,We,Ue,"",function(Ee){return Ee})):Ke!=null&&(E(Ke)&&(ft=Ke,Tt=Ue+(Ke.key==null||se&&se.key===Ke.key?"":(""+Ke.key).replace(O,"$&/")+"/")+De,Ke=_(ft.type,Tt,void 0,void 0,void 0,ft.props)),We.push(Ke)),1;De=0;var at=Ve===""?".":Ve+":";if(Y(se))for(var Ye=0;Ye<se.length;Ye++)ze=at+$(Ve=se[Ye],Ye),De+=Ce(Ve,We,Ue,ze,Ke);else if(typeof(Ye=(ee=se)===null||typeof ee!="object"?null:typeof(ee=v&&ee[v]||ee["@@iterator"])=="function"?ee:null)=="function")for(se=Ye.call(se),Ye=0;!(Ve=se.next()).done;)ze=at+$(Ve=Ve.value,Ye++),De+=Ce(Ve,We,Ue,ze,Ke);else if(ze==="object"){if(typeof se.then=="function")return Ce(function(Ee){switch(Ee.status){case"fulfilled":return Ee.value;case"rejected":throw Ee.reason;default:switch(typeof Ee.status=="string"?Ee.then(M,M):(Ee.status="pending",Ee.then(function(vt){Ee.status==="pending"&&(Ee.status="fulfilled",Ee.value=vt)},function(vt){Ee.status==="pending"&&(Ee.status="rejected",Ee.reason=vt)})),Ee.status){case"fulfilled":return Ee.value;case"rejected":throw Ee.reason}}throw Ee}(se),We,Ue,Ve,Ke);throw Error(K(31,(We=String(se))==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":We))}return De}(D,be,"","",function(Ce){return B.call(we,Ce,Ae++)}),be}function Q(D){if(D._status===-1){var B=D._result;(B=B()).then(function(we){(D._status===0||D._status===-1)&&(D._status=1,D._result=we)},function(we){(D._status===0||D._status===-1)&&(D._status=2,D._result=we)}),D._status===-1&&(D._status=0,D._result=B)}if(D._status===1)return D._result.default;throw D._result}function ie(){return new WeakMap}function ye(){return{s:0,v:void 0,o:null,p:null}}X.Children={map:q,forEach:function(D,B,we){q(D,function(){B.apply(this,arguments)},we)},count:function(D){var B=0;return q(D,function(){B++}),B},toArray:function(D){return q(D,function(B){return B})||[]},only:function(D){if(!E(D))throw Error(K(143));return D}},X.Fragment=l,X.Profiler=x,X.StrictMode=u,X.Suspense=y,X.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,X.cache=function(D){return function(){var B=N.A;if(!B)return D.apply(null,arguments);var we=B.getCacheForType(ie);(B=we.get(D))===void 0&&(B=ye(),we.set(D,B)),we=0;for(var be=arguments.length;we<be;we++){var Ae=arguments[we];if(typeof Ae=="function"||typeof Ae=="object"&&Ae!==null){var Ce=B.o;Ce===null&&(B.o=Ce=new WeakMap),(B=Ce.get(Ae))===void 0&&(B=ye(),Ce.set(Ae,B))}else(Ce=B.p)===null&&(B.p=Ce=new Map),(B=Ce.get(Ae))===void 0&&(B=ye(),Ce.set(Ae,B))}if(B.s===1)return B.v;if(B.s===2)throw B.v;try{var se=D.apply(null,arguments);return(we=B).s=1,we.v=se}catch(We){throw(se=B).s=2,se.v=We,We}}},X.cacheSignal=function(){var D=N.A;return D?D.cacheSignal():null},X.captureOwnerStack=function(){return null},X.cloneElement=function(D,B,we){if(D==null)throw Error(K(267,D));var be=b({},D.props),Ae=D.key,Ce=void 0;if(B!=null)for(se in B.ref!==void 0&&(Ce=void 0),B.key!==void 0&&(Ae=""+B.key),B)h.call(B,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(se!=="ref"||B.ref!==void 0)&&(be[se]=B[se]);var se=arguments.length-2;if(se===1)be.children=we;else if(1<se){for(var We=Array(se),Ue=0;Ue<se;Ue++)We[Ue]=arguments[Ue+2];be.children=We}return _(D.type,Ae,void 0,void 0,Ce,be)},X.createElement=function(D,B,we){var be,Ae={},Ce=null;if(B!=null)for(be in B.key!==void 0&&(Ce=""+B.key),B)h.call(B,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Ae[be]=B[be]);var se=arguments.length-2;if(se===1)Ae.children=we;else if(1<se){for(var We=Array(se),Ue=0;Ue<se;Ue++)We[Ue]=arguments[Ue+2];Ae.children=We}if(D&&D.defaultProps)for(be in se=D.defaultProps)Ae[be]===void 0&&(Ae[be]=se[be]);return _(D,Ce,void 0,void 0,null,Ae)},X.createRef=function(){return{current:null}},X.forwardRef=function(D){return{$$typeof:A,render:D}},X.isValidElement=E,X.lazy=function(D){return{$$typeof:f,_payload:{_status:-1,_result:D},_init:Q}},X.memo=function(D,B){return{$$typeof:a,type:D,compare:B===void 0?null:B}},X.use=function(D){return N.H.use(D)},X.useCallback=function(D,B){return N.H.useCallback(D,B)},X.useDebugValue=function(){},X.useId=function(){return N.H.useId()},X.useMemo=function(D,B){return N.H.useMemo(D,B)},X.version="19.2.0-canary-97cdd5d3-20250710"},7167:(ve,X,N)=>{"use strict";N.d(X,{nJ:()=>I,oJ:()=>Y,zB:()=>M});var K=N(8821);let Y="NEXT_REDIRECT";var M=function(R){return R.push="push",R.replace="replace",R}({});function I(R){if(typeof R!="object"||R===null||!("digest"in R)||typeof R.digest!="string")return!1;let l=R.digest.split(";"),[u,x]=l,A=l.slice(2,-2).join(";"),y=Number(l.at(-2));return u===Y&&(x==="replace"||x==="push")&&typeof A=="string"&&!isNaN(y)&&y in K.Q}},7612:du,8821:(ve,X,N)=>{"use strict";N.d(X,{Q:()=>K});var K=function(Y){return Y[Y.SeeOther=303]="SeeOther",Y[Y.TemporaryRedirect=307]="TemporaryRedirect",Y[Y.PermanentRedirect=308]="PermanentRedirect",Y}({})},9159:(ve,X,N)=>{"use strict";N.d(X,{RM:()=>M,s8:()=>Y});let K=new Set(Object.values({NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401})),Y="NEXT_HTTP_ERROR_FALLBACK";function M(I){if(typeof I!="object"||I===null||!("digest"in I)||typeof I.digest!="string")return!1;let[R,l]=I.digest.split(";");return R===Y&&K.has(Number(l))}},9792:(ve,X,N)=>{"use strict";N.d(X,{X:()=>function l(u){if((0,M.p)(u)||typeof u=="object"&&u!==null&&"digest"in u&&u.digest==="BAILOUT_TO_CLIENT_SIDE_RENDERING"||(0,R.h)(u)||(0,I.I3)(u)||typeof u=="object"&&u!==null&&u.$$typeof===Y||(0,K.T)(u))throw u;u instanceof Error&&"cause"in u&&l(u.cause)}});var K=N(9801);let Y=Symbol.for("react.postpone");var M=N(6199),I=N(4557),R=N(5016)},9801:(ve,X,N)=>{"use strict";function K(u){return typeof u=="object"&&u!==null&&"digest"in u&&u.digest===Y}N.d(X,{T:()=>K,W:()=>R});let Y="HANGING_PROMISE_REJECTION";class M extends Error{constructor(x){super(`During prerendering, ${x} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${x} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context.`),this.expression=x,this.digest=Y}}let I=new WeakMap;function R(u,x){if(u.aborted)return Promise.reject(new M(x));{let A=new Promise((y,a)=>{let f=a.bind(null,new M(x)),v=I.get(u);if(v)v.push(f);else{let h=[f];I.set(u,h),u.addEventListener("abort",()=>{for(let b=0;b<h.length;b++)h[b]()},{once:!0})}});return A.catch(l),A}}function l(){}}},ve=>{var X=ve(ve.s=1710);(Ne._ENTRIES=typeof Ne._ENTRIES>"u"?{}:Ne._ENTRIES).middleware_middleware=X}]),function(){let ve={exports:{},loaded:!1};return function(N,K){var Y=Object.defineProperty,M=a=>Y(a,"__esModule",{value:!0}),I=(a,f)=>{M(a);for(var v in f)Y(a,v,{get:f[v],enumerable:!0})};I(K,{default:()=>u});function R(a){let f={};return a&&a.forEach((v,h)=>{f[h]=v,h.toLowerCase()==="set-cookie"&&(f[h]=l(v))}),f}function l(a){let f=[],v=0,h,b,_,E,O;function $(){for(;v<a.length&&/\s/.test(a.charAt(v));)v+=1;return v<a.length}function q(){return b=a.charAt(v),b!=="="&&b!==";"&&b!==","}for(;v<a.length;){for(h=v,O=!1;$();)if(b=a.charAt(v),b===","){for(_=v,v+=1,$(),E=v;v<a.length&&q();)v+=1;v<a.length&&a.charAt(v)==="="?(O=!0,v=E,f.push(a.substring(h,_)),h=v):v=_+1}else v+=1;(!O||v>=a.length)&&f.push(a.substring(h,a.length))}return f}function u(a){let f=a.staticRoutes.map(h=>({regexp:new RegExp(h.namedRegex),page:h.page})),v=a.dynamicRoutes?.map(h=>({regexp:new RegExp(h.namedRegex),page:h.page}))||[];return async function(h,b){let _=new URL(h.url).pathname,E={};if(a.nextConfig?.basePath&&_.startsWith(a.nextConfig.basePath)&&(_=_.replace(a.nextConfig.basePath,"")||"/"),a.nextConfig?.i18n)for(let $ of a.nextConfig.i18n.locales){let q=new RegExp(`^/${$}($|/)`,"i");if(_.match(q)){_=_.replace(q,"/")||"/";break}}for(let $ of f)if($.regexp.exec(_)){E.name=$.page;break}if(!E.name){let $=A(_);for(let q of v||[]){if($&&!A(q.page))continue;let Q=q.regexp.exec(_);if(Q){E={name:q.page,params:Q.groups};break}}}let O=await Ne._ENTRIES[`middleware_${a.name}`].default.call({},{request:{url:h.url,method:h.method,headers:R(h.headers),ip:x(h.headers,y.Ip),geo:{city:x(h.headers,y.City,!0),country:x(h.headers,y.Country,!0),latitude:x(h.headers,y.Latitude),longitude:x(h.headers,y.Longitude),region:x(h.headers,y.Region,!0)},nextConfig:a.nextConfig,page:E,body:h.body}});return b.waitUntil(O.waitUntil),O.response}}function x(a,f,v=!1){let h=a.get(f)||void 0;return v&&h?decodeURIComponent(h):h}function A(a){return a==="/api"||a.startsWith("/api/")}var y;(function(a){a.City="x-vercel-ip-city",a.Country="x-vercel-ip-country",a.Ip="x-real-ip",a.Latitude="x-vercel-ip-latitude",a.Longitude="x-vercel-ip-longitude",a.Region="x-vercel-ip-country-region"})(y||(y={}))}(ve,ve.exports),ve.exports}.call({}).default({name:"middleware",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/dashboard",regex:"^/dashboard(?:/)?$",routeKeys:{},namedRegex:"^/dashboard(?:/)?$"},{page:"/login",regex:"^/login(?:/)?$",routeKeys:{},namedRegex:"^/login(?:/)?$"}],dynamicRoutes:[{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"}],nextConfig:{basePath:""}})))(fr,fr,fr);export{Au as default};
